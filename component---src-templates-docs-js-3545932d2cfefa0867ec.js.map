{"version":3,"file":"component---src-templates-docs-js-3545932d2cfefa0867ec.js","mappings":"sMAOe,SAASA,EAAQC,GAE5B,IAF6B,KAC9BC,GACFD,EACE,MAAM,eAAEE,EAAc,KAAEC,EAAI,kBAAEC,GAAsBH,GAC9C,YAAEI,EAAW,KAAEC,GAASJ,EACxBK,GAAUC,EAAAA,EAAAA,QAAO,MAIvB,OAHAC,EAAAA,EAAAA,GAAeF,GCXYA,MAC3BG,EAAAA,EAAAA,YAAU,KACP,MAAMC,EAAa,+BAChBC,EAAU,CACP,4BACA,aACA,sBACA,qBAEHC,EAAO,cAGVN,EAAQO,QACJC,iBAAiB,oCACjBC,SAASC,IACP,MAAMC,EAAMD,EAAQE,cAAc,OAClC,GAAID,GAAOA,EAAIE,aAAoC,IAArBC,OAAOC,YAAoB,CAAC,IAADC,EACtD,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,aAAa,OAAQ,UAC5BH,EAAOG,aAAa,gBAAiB,UACrCJ,EAAAC,EAAOI,WAAUC,IAAGC,MAAAP,EAAIX,GACxBY,EAAOO,YAAclB,EACrBI,EAAQW,UAAUC,IAAIlB,GACtBM,EAAQe,YAAYR,GACpBA,EAAOS,iBAAiB,SAAUC,IAC/B,MAAMC,EACwC,SAA3CD,EAAEE,OAAOC,aAAa,iBACrBF,GACDlB,EAAQW,UAAUC,IAAIlB,GACtB2B,YAAW,KACRrB,EAAQsB,eAAe,CACpBC,SAAU,OACVC,MAAO,UACR,GACF,GACHjB,EAAOO,YAAclB,IAErBI,EAAQW,UAAUc,OAAO/B,GACzBa,EAAOO,YA5BZ,eA8BEG,EAAEE,OAAOT,aAAa,iBAAkBQ,EAAS,GAEvD,IACD,GACL,CAAC5B,GAAS,EDhCboC,CAAcpC,GAGXqC,EAAAA,cAACC,EAAAA,EAAY,CACVC,MAAOzC,EAAYyC,MACnBC,WAAY1C,EAAY0C,WACxBC,MAAO3C,EAAY2C,MACnBC,KAAM5C,EAAY4C,KAClBC,aAAc/C,EAAKgD,aAAaD,aAChCE,UAAWhD,EAAkBiD,MAC7BC,eAAgBnD,EAAKgD,aAAaG,gBAElCV,EAAAA,cAAA,OACGW,UAAU,YACVC,IAAKjD,EACLkD,wBAAyB,CAAEC,OAAQpD,KAI/C,C","sources":["webpack://envision-docs/./src/templates/docs.js","webpack://envision-docs/./src/hooks/expandCode.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from 'gatsby';\nimport { useCopyExample } from '../hooks/copyExample';\nimport { useExpandCode } from '../hooks/expandCode';\nimport BaseTemplate from './BaseTemplate';\n\nexport default function Template({\n   data, // this prop will be injected by the GraphQL query below.\n}) {\n   const { markdownRemark, site, allMarkdownRemark } = data;\n   const { frontmatter, html } = markdownRemark;\n   const content = useRef(null);\n   useCopyExample(content);\n   useExpandCode(content);\n\n   return (\n      <BaseTemplate\n         title={frontmatter.title}\n         deprecated={frontmatter.deprecated}\n         since={frontmatter.since}\n         beta={frontmatter.beta}\n         topMenuItems={site.siteMetadata.topMenuItems}\n         menuItems={allMarkdownRemark.edges}\n         menuCategories={site.siteMetadata.menuCategories}\n      >\n         <div\n            className=\"main-body\"\n            ref={content}\n            dangerouslySetInnerHTML={{ __html: html }}\n         />\n      </BaseTemplate>\n   );\n}\n\nexport const pageQuery = graphql`\n   query ($slug: String!) {\n      site {\n         siteMetadata {\n            topMenuItems {\n               label\n               to\n            }\n            menuCategories {\n               title\n               slug\n            }\n         }\n      }\n      markdownRemark(fields: { slug: { eq: $slug } }) {\n         html\n         frontmatter {\n            title\n            deprecated\n            since\n            beta\n         }\n      }\n      allMarkdownRemark {\n         edges {\n            node {\n               id\n               frontmatter {\n                  title\n                  deprecated\n                  since\n                  beta\n               }\n               fields {\n                  slug\n               }\n            }\n         }\n      }\n   }\n`;\n\nTemplate.propTypes = {\n   data: PropTypes.object,\n};\n","import { useEffect } from 'react';\n\nexport const useExpandCode = (content) => {\n   useEffect(() => {\n      const EXPANDABLE = 'gatsby-highlight--expandable',\n         TOGGLER = [\n            'gatsby-highlight__toggler',\n            'env-button',\n            'env-button--primary',\n            'env-button--small',\n         ],\n         MORE = '+ Show more',\n         LESS = '- Show less';\n\n      content.current\n         .querySelectorAll('.gatsby-highlight[data-language]')\n         .forEach((element) => {\n            const pre = element.querySelector('pre');\n            if (pre && pre.clientHeight > window.innerHeight * 0.25) {\n               const button = document.createElement('button');\n               button.setAttribute('type', 'button');\n               button.setAttribute('aria-expanded', 'false');\n               button.classList.add(...TOGGLER);\n               button.textContent = MORE;\n               element.classList.add(EXPANDABLE);\n               element.appendChild(button);\n               button.addEventListener('click', (e) => {\n                  const expanded =\n                     e.target.getAttribute('aria-expanded') === 'true';\n                  if (expanded) {\n                     element.classList.add(EXPANDABLE);\n                     setTimeout(() => {\n                        element.scrollIntoView({\n                           behavior: 'auto',\n                           block: 'center',\n                        });\n                     }, 1);\n                     button.textContent = MORE;\n                  } else {\n                     element.classList.remove(EXPANDABLE);\n                     button.textContent = LESS;\n                  }\n                  e.target.setAttribute('aria-expanded', !expanded);\n               });\n            }\n         });\n   }, [content]);\n};\n"],"names":["Template","_ref","data","markdownRemark","site","allMarkdownRemark","frontmatter","html","content","useRef","useCopyExample","useEffect","EXPANDABLE","TOGGLER","MORE","current","querySelectorAll","forEach","element","pre","querySelector","clientHeight","window","innerHeight","_button$classList","button","document","createElement","setAttribute","classList","add","apply","textContent","appendChild","addEventListener","e","expanded","target","getAttribute","setTimeout","scrollIntoView","behavior","block","remove","useExpandCode","React","BaseTemplate","title","deprecated","since","beta","topMenuItems","siteMetadata","menuItems","edges","menuCategories","className","ref","dangerouslySetInnerHTML","__html"],"sourceRoot":""}