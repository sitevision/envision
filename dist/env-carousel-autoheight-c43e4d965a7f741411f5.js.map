{"version":3,"file":"env-carousel-autoheight-c43e4d965a7f741411f5.js","mappings":"sHAAA,MAAMA,EAAiB,CACrBC,QAAQ,EACRC,YAAa,CAAC,EACdC,YAAa,UAGf,SAASC,EAAWC,EAAc,CAAC,GACjC,IAAIC,EACAC,EACAC,GAAQ,EACRC,GAAY,EACZC,EAAe,GACfC,EAAe,GACfC,GAAgB,EACpB,SAASC,IACP,OAAIL,KACAC,GACGH,EAAQL,OACjB,CAmCA,SAASa,IACP,MAAMC,EAaR,WACE,MAAM,aACJC,GACET,EAASU,iBAAiBC,eAC9B,OAAIN,EAAsBI,EAAaT,EAASY,gBACzCZ,EAASa,cAClB,CAnBuBC,GACrB,OAAKN,EACEA,EAAaO,IAAIC,GAASb,EAAaa,IAAQC,OAAO,CAACC,EAAGC,IAAMC,KAAKC,IAAIH,EAAGC,GAAI,GAD7D,IAE5B,CACA,SAASG,IAEQ,OADAf,MAEfP,EAASuB,WAAWC,MAAMC,OAAS,GAAGlB,QACxC,CAYA,SAASmB,EAASC,EAAGC,GACnB,MAAMC,EAAUD,EAAME,OACtB,IAAK,MAAMC,KAASF,EAAS,CAC3B,IAAKvB,IAAkB,OACvB,MAAM0B,EAAOD,EAAME,OACnB,GAAID,IAAShC,EAASkC,gBAAiB,SACvC,MAAMlB,EAAQhB,EAASmC,aAAaC,QAAQJ,GAC5C,GAAIhB,EAAQ,EAAG,SACf,MAAMqB,EAAgBlC,EAAaa,GAC7BsB,EAAYN,EAAKO,aAEvB,GADmBnB,KAAKoB,IAAIF,EAAYD,IACtB,GAEhB,OADArC,EAASyC,UACF,CAEX,CACF,CAOA,MANa,CACXC,KAAM,aACN3C,QAASD,EACT6C,KA3EF,SAAcC,EAAkBC,GAC9B7C,EAAW4C,EACX,MAAM,aACJE,EAAY,eACZC,GACEF,EACEG,EAAcF,EAAarD,EAAgBI,EAAWoD,eACtDC,EAAaJ,EAAaE,EAAalD,GAC7CI,GAAY,EACZH,EAAUgD,EAAeG,GACzBjD,EAAQD,EAASU,iBAAiBT,MAClC,MACEF,SAAS,KACPoD,GACD,WACDC,GACEpD,EAASU,iBACRJ,KACQ,MAAT6C,IACJ9C,EAAwC,WAAxBN,EAAQH,YACxBQ,EAyBIC,EAAsB,CAAC,SAAU,cAC9B,CAAC,gBAzBRF,EAAeiD,EAAWrC,IAAIsC,GAAaA,EAAU5B,QACrDzB,EAASsD,GAAG,SAAU5B,GACtBtB,EAAamD,QAAQC,GAAOxD,EAASsD,GAAGE,EAAKlC,IAC7CA,IACF,EAmDEmC,QAlDF,WACE,IAAKnD,IAAkB,OACvBN,EAAS0D,IAAI,SAAUhC,GACvBtB,EAAamD,QAAQC,GAAOxD,EAAS0D,IAAIF,EAAKlC,IAC7BtB,EAASuB,WACjBC,MAAMC,OAAS,GACxBvB,GAAY,CACd,EA8CF,CACAL,EAAWoD,mBAAgBU,C","sources":["webpack://envision/../../node_modules/embla-carousel-auto-height/esm/embla-carousel-auto-height.esm.js"],"sourcesContent":["const defaultOptions = {\n  active: true,\n  breakpoints: {},\n  heightEvent: 'select'\n};\n\nfunction AutoHeight(userOptions = {}) {\n  let options;\n  let emblaApi;\n  let isSsr = false;\n  let destroyed = false;\n  let slideHeights = [];\n  let heightEvents = [];\n  let isEventSelect = true;\n  function pluginIsActive() {\n    if (isSsr) return false;\n    if (destroyed) return false;\n    return options.active;\n  }\n  function init(emblaApiInstance, optionsHandler) {\n    emblaApi = emblaApiInstance;\n    const {\n      mergeOptions,\n      optionsAtMedia\n    } = optionsHandler;\n    const optionsBase = mergeOptions(defaultOptions, AutoHeight.globalOptions);\n    const allOptions = mergeOptions(optionsBase, userOptions);\n    destroyed = false;\n    options = optionsAtMedia(allOptions);\n    isSsr = emblaApi.internalEngine().isSsr;\n    const {\n      options: {\n        axis\n      },\n      slideRects\n    } = emblaApi.internalEngine();\n    if (!pluginIsActive()) return;\n    if (axis === 'y') return;\n    isEventSelect = options.heightEvent === 'select';\n    heightEvents = getHeightEvents();\n    slideHeights = slideRects.map(slideRect => slideRect.height);\n    emblaApi.on('resize', onResize);\n    heightEvents.forEach(evt => emblaApi.on(evt, setRootNodeHeight));\n    setRootNodeHeight();\n  }\n  function destroy() {\n    if (!pluginIsActive()) return;\n    emblaApi.off('resize', onResize);\n    heightEvents.forEach(evt => emblaApi.off(evt, setRootNodeHeight));\n    const rootNode = emblaApi.rootNode();\n    rootNode.style.height = '';\n    destroyed = true;\n  }\n  function highestInView() {\n    const slideIndexes = getSlideIndexes();\n    if (!slideIndexes) return null;\n    return slideIndexes.map(index => slideHeights[index]).reduce((a, b) => Math.max(a, b), 0);\n  }\n  function setRootNodeHeight() {\n    const height = highestInView();\n    if (height === null) return;\n    emblaApi.rootNode().style.height = `${highestInView()}px`;\n  }\n  function getHeightEvents() {\n    if (isEventSelect) return ['select', 'slidefocus'];\n    return ['slidesinview'];\n  }\n  function getSlideIndexes() {\n    const {\n      slidesBySnap\n    } = emblaApi.internalEngine().scrollSnapList;\n    if (isEventSelect) return slidesBySnap[emblaApi.selectedSnap()];\n    return emblaApi.slidesInView();\n  }\n  function onResize(_, event) {\n    const entries = event.detail;\n    for (const entry of entries) {\n      if (!pluginIsActive()) return;\n      const node = entry.target;\n      if (node === emblaApi.containerNode()) continue;\n      const index = emblaApi.slideNodes().indexOf(node);\n      if (index < 0) continue;\n      const currentHeight = slideHeights[index];\n      const newHeight = node.offsetHeight;\n      const diffHeight = Math.abs(newHeight - currentHeight);\n      if (diffHeight >= 0.5) {\n        emblaApi.reInit();\n        return false;\n      }\n    }\n  }\n  const self = {\n    name: 'autoHeight',\n    options: userOptions,\n    init,\n    destroy\n  };\n  return self;\n}\nAutoHeight.globalOptions = undefined;\n\nexport { AutoHeight as default };\n//# sourceMappingURL=embla-carousel-auto-height.esm.js.map\n"],"names":["defaultOptions","active","breakpoints","heightEvent","AutoHeight","userOptions","options","emblaApi","isSsr","destroyed","slideHeights","heightEvents","isEventSelect","pluginIsActive","highestInView","slideIndexes","slidesBySnap","internalEngine","scrollSnapList","selectedSnap","slidesInView","getSlideIndexes","map","index","reduce","a","b","Math","max","setRootNodeHeight","rootNode","style","height","onResize","_","event","entries","detail","entry","node","target","containerNode","slideNodes","indexOf","currentHeight","newHeight","offsetHeight","abs","reInit","name","init","emblaApiInstance","optionsHandler","mergeOptions","optionsAtMedia","optionsBase","globalOptions","allOptions","axis","slideRects","slideRect","on","forEach","evt","destroy","off","undefined"],"ignoreList":[],"sourceRoot":""}