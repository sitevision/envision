"use strict";(this.webpackChunkenvision=this.webpackChunkenvision||[]).push([[211],{452(n,t,e){e.d(t,{default:()=>i});const o={active:!0,breakpoints:{},delay:4e3,instant:!1,defaultInteraction:!0,stopOnLastSnap:!1,rootNode:null};function i(n={}){let t,e,r,u=!1,a=!1,s=null,c=null,l=0,f=!1,p=!1,d=!1,m=!1,g=!1,y=b;function v(){return!u&&(!a&&t.active)}function w(){if(v())if(h())p=!0;else{if(!f){e.createEvent("autoplay:play",null).emit()}!function(){const{ownerWindow:n}=e.internalEngine().nodeHandler;if(!n)return;const t=(new Date).getTime(),o=e.createEvent("autoplay:timerset",{startTime:t});n.clearTimeout(l),l=n.setTimeout(S,D()),c=t,o.emit()}(),f=!0}}function E(){if(v()){if(f){e.createEvent("autoplay:stop",null).emit()}!function(){const{ownerWindow:n}=e.internalEngine().nodeHandler;if(!n)return;const t=(new Date).getTime(),o=e.createEvent("autoplay:timerstopped",{stopTime:t});n.clearTimeout(l),l=0,c=null,o.emit()}(),f=!1}}function T(){if(h())return p=f,E();p&&w()}function h(){const{ownerDocument:n}=e.internalEngine().nodeHandler;return!!n&&"hidden"===n.visibilityState}function b(n,t,e){const o=t.type,i=e||o;"slidefocus"===i&&E(),"pointerdown"===i&&E()}function N(n,t,o){const i=t.type,r=o||i;"mouseenter"===r&&(m=!0),"mouseleave"===r&&(m=!1),"pointerdown"===r&&(g=!0),"pointerup"===r&&(g=!1);e.createEvent("autoplay:interaction",{interaction:r,originalEvent:t,isMouseOver:m,isPointerDown:g}).emit()}function S(){const{indexCurrent:n}=e.internalEngine(),o=n.clone().add(1).get(),i=e.snapList().length-1,r=t.stopOnLastSnap&&o===i,u=e.createEvent("autoplay:select",{targetSnap:e.canGoToNext()?o:0,sourceSnap:n.get()});if(e.canGoToNext()?e.goToNext(d):e.goTo(0,d),u.emit(),s=null,r)return E();w()}function D(){return s||r[e.selectedSnap()]}function O(){if(!v())return null;if(!c)return null;const n=(new Date).getTime()-c;return D()-n}return{name:"autoplay",options:n,init:function(s,c){e=s;const{mergeOptions:l,optionsAtMedia:f}=c,p=l(o,i.globalOptions),m=l(p,n);if(a=!1,t=f(m),u=e.internalEngine().isSsr,!v())return;if(e.snapList().length<=1)return;d=t.instant,r=function(n,t){const e=n.snapList();return"number"==typeof t?e.map(()=>t):t(e,n)}(e,t.delay),y=t.defaultInteraction?b:N;const{eventStore:g,nodeHandler:w}=e.internalEngine(),{ownerDocument:E}=w,h=function(n,t){const e=n.rootNode();return t&&t(e)||e}(e,t.rootNode);E&&g.add(E,"visibilitychange",T),e.on("pointerdown",y),e.on("pointerup",y),e.on("slidefocus",y),g.add(h,"mouseenter",n=>y(e,n,n.type)),g.add(h,"mouseleave",n=>y(e,n,n.type)),g.add(e.containerNode(),"focusout",n=>y(e,n,"slidefocusout"))},destroy:function(){v()&&(e.off("pointerdown",y).off("pointerup",y).off("slidefocus",y),E(),a=!0,f=!1)},play:function(n){d=null!=n?n:d,w()},stop:function(){f&&E()},reset:function(){f&&w()},pause:function(){f&&(s=O(),E())},isPlaying:function(){return f},timeUntilNext:O}}i.globalOptions=void 0}}]);
//# sourceMappingURL=env-carousel-autoplay-8a51d482d7a5bc72db35.js.map