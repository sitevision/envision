{"version":3,"file":"envision.js","mappings":"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","sources":["webpack://envision/webpack/universalModuleDefinition","webpack://envision/webpack/runtime/create fake namespace object","webpack://envision/webpack/runtime/load script","webpack://envision/external umd {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack://envision/webpack/bootstrap","webpack://envision/webpack/runtime/compat get default export","webpack://envision/webpack/runtime/define property getters","webpack://envision/webpack/runtime/ensure chunk","webpack://envision/webpack/runtime/get javascript chunk filename","webpack://envision/webpack/runtime/get mini-css chunk filename","webpack://envision/webpack/runtime/global","webpack://envision/webpack/runtime/hasOwnProperty shorthand","webpack://envision/webpack/runtime/make namespace object","webpack://envision/webpack/runtime/publicPath","webpack://envision/webpack/runtime/jsonp chunk loading","webpack://envision/./src/icons/envision-icons.svg","webpack://envision/./src/icons/link-icons.svg","webpack://envision/./src/icons/file-icons.svg","webpack://envision/./src/js/util/nodes.js","webpack://envision/./src/js/util/popper.js","webpack://envision/./src/js/util/util.js","webpack://envision/./src/js/popover.js","webpack://envision/./src/js/select.js","webpack://envision/./src/js/tabs.js","webpack://envision/./src/js/tooltip.js","webpack://envision/./src/js/image-viewer.js","webpack://envision/./src/js/util/swipe.js","webpack://envision/./src/js/image-viewer/image-viewer-2-util.js","webpack://envision/./src/js/image-viewer/image-viewer-2-lightbox.js","webpack://envision/./src/js/image-viewer/image-viewer-2-slider.js","webpack://envision/./src/js/image-viewer-2.js","webpack://envision/./src/js/range-slider.js","webpack://envision/./src/js/util/css-util.js","webpack://envision/./src/js/dialog.js","webpack://envision/./src/js/modal-dialog.js","webpack://envision/./src/js/image-slider.js","webpack://envision/./src/js/util/slideToggle.js","webpack://envision/./src/js/accordion.js","webpack://envision/./src/js/collapse.js","webpack://envision/./src/js/dropdown.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"envision\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"envision\"] = factory(root[\"jQuery\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__914__) => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"envision:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__914__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + {\"333\":\"popper\",\"390\":\"tom-select\",\"962\":\"swipejs\"}[chunkId] + \"-\" + {\"333\":\"7d0017b4b0eee8522ac7\",\"390\":\"3ca1775ad7b1caf91426\",\"962\":\"71598bea1ef5ad8b5e79\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunkenvision\"] = this[\"webpackChunkenvision\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export default __webpack_public_path__ + \"envision-icons.svg\";","export default __webpack_public_path__ + \"link-icons.svg\";","export default __webpack_public_path__ + \"file-icons.svg\";","export const getNodes = function (elements, root) {\n   const nodes = [];\n   root = root || document;\n   if (elements && typeof elements === 'string') {\n      let domNodes = root.querySelectorAll(elements);\n      if (domNodes && domNodes.length > 0) {\n         // NodeList\n         for (let i = 0; i < domNodes.length; i++) {\n            nodes.push(domNodes[i]);\n         }\n      }\n   } else if (elements && typeof elements === 'object') {\n      if (elements.nodeType === 1) {\n         // Single element\n         nodes.push(elements);\n      } else if (elements.length > 0) {\n         // NodeList\n         for (let i = 0; i < elements.length; i++) {\n            nodes.push(elements[i]);\n         }\n      }\n   }\n   // Returns an array of 0-n nodes\n   return nodes;\n};\n\nexport const getNode = function (elements, root) {\n   // Returns a node or undefined\n   return getNodes(elements, root)[0];\n};\n\nexport const createElement = function (htmlString) {\n   const template = document.createElement('template');\n   template.innerHTML = htmlString;\n   return template.content.firstElementChild;\n};\n\nexport const wrapElement = function (node, wrapperEl) {\n   if (typeof wrapperEl === 'string') {\n      wrapperEl = createElement(wrapperEl);\n   }\n   wrapperEl = wrapperEl || document.createElement('div');\n   node.replaceWith(wrapperEl);\n   wrapperEl.appendChild(node);\n   return wrapperEl;\n};\n\nconst PREV_ATTR = 'data-env-prev-style';\n\nexport const resetStyle = function (node, prop) {\n   // Restore style for an element set by setStyle\n   const prevVal = node.getAttribute(`${PREV_ATTR}-${prop}-val`);\n   if (prevVal) {\n      node.style.setProperty(\n         prop,\n         prevVal,\n         node.getAttribute(`${PREV_ATTR}-${prop}-prio`)\n      );\n   } else {\n      node.style.removeProperty(prop);\n   }\n   node.removeAttribute(`${PREV_ATTR}-${prop}-val`);\n   node.removeAttribute(`${PREV_ATTR}-${prop}-prio`);\n};\n\nexport const setStyle = function (node, prop, val, prio) {\n   // Will set property in style attribute for an element\n   // and save any existing values in data attribute.\n   // Use resetStyle to restore.\n   if (node.style.getPropertyValue(prop)) {\n      const propVal = node.style.getPropertyValue(prop);\n      if (propVal) {\n         node.setAttribute(`${PREV_ATTR}-${prop}-val`, propVal);\n         node.setAttribute(\n            `${PREV_ATTR}-${prop}-prio`,\n            node.style.getPropertyPriority(prop)\n         );\n      }\n   }\n   node.style.setProperty(prop, val, prio);\n};\n\nexport const setAttributes = (node, attributes) => {\n   Object.keys(attributes).forEach((attr) => {\n      node.setAttribute(attr, attributes[attr]);\n   });\n};\n\nexport const lockScroll = function () {\n   setStyle(document.body, 'overflow-x', '');\n   setStyle(document.body, 'overflow-y', '');\n   setStyle(document.body, 'overflow', 'hidden', 'important');\n};\n\nexport const unlockScroll = function () {\n   ['overflow', 'overflow-x', 'overflow-y'].forEach((p) => {\n      resetStyle(document.body, p);\n   });\n};\n\nexport const hide = function (elements) {\n   getNodes(elements).forEach((node) => {\n      setStyle(node, 'display', 'none', 'important');\n   });\n};\n\nexport const show = function (elements) {\n   getNodes(elements).forEach((node) => {\n      const el = document.createElement(node.tagName);\n      document.body.appendChild(el);\n      const displayValue = getComputedStyle(el).display;\n      el.remove();\n      setStyle(node, 'display', displayValue);\n   });\n};\n\nexport const resetDisplay = function (elements) {\n   getNodes(elements).forEach((node) => {\n      resetStyle(node, 'display');\n   });\n};\n\nexport const isVisible = function (element) {\n   return !!(\n      element.offsetWidth ||\n      element.offsetHeight ||\n      element.getClientRects().length\n   );\n};\n\nexport const getFocusable = function (root) {\n   const SELECTOR = [\n      'a[href]',\n      'area[href]',\n      'input:not([disabled])',\n      'select:not([disabled])',\n      'textarea:not([disabled])',\n      'button:not([disabled])',\n      'details:not([disabled])',\n      'summary:not([disabled])',\n      '[tabindex]:not([tabindex=\"-1\"]):not([disabled])',\n      '[contenteditable]',\n   ].join(',');\n   const allFocusable = getNodes(SELECTOR, root);\n   const visibleFocusable = [];\n   for (let i = 0; i < allFocusable.length; i++) {\n      if (isVisible(allFocusable[i])) {\n         visibleFocusable.push(allFocusable[i]);\n      }\n   }\n   return visibleFocusable;\n};\n\nexport const getNextFocusable = (focusable, root) => {\n   root = root || document;\n   const focusableElements = getFocusable(root);\n   let nextFocusable = focusable;\n   for (let i = 0; i < focusableElements.length; i++) {\n      const el = focusableElements[i];\n      if (el === focusable) {\n         nextFocusable =\n            i === focusableElements.length - 1\n               ? focusableElements[0]\n               : focusableElements[i + 1];\n         break;\n      }\n   }\n   return nextFocusable;\n};\n\nexport const uniqueId = (() => {\n   let i = 0;\n   const PREFIX = 'env-';\n   const getId = () => {\n      i += 1;\n      return PREFIX + i;\n   };\n   return (elements) => {\n      getNodes(elements).forEach((node) => {\n         if (!node.id) {\n            let id = getId();\n            while (document.getElementById(id)) {\n               id = getId();\n            }\n            node.id = id;\n         }\n      });\n   };\n})();\n","let Popper;\nexport const getPopper = async () => {\n   if (Popper) {\n      return Popper;\n   }\n   const { createPopper } = await import(\n      /* webpackChunkName: \"popper\" */ '@popperjs/core'\n   );\n   Popper = createPopper;\n   return Popper;\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nconst Util = (() => {\n   const Util = {\n      consoleWarning: (issue, ...args) => {\n         const DOC_URL = 'https://envisionui.io/';\n         const issues = {\n            jQuery: (jqName) => {\n               let envName = jqName\n                  .replace(/^env/, '')\n                  .replace(/Imageslider/, 'imageSlider')\n                  .replace(/Imageviewer/, 'imageWiewer');\n               envName = envName.charAt(0).toLowerCase() + envName.slice(1);\n               return `WARNING: $.fn.${jqName} is deprecated. Please update your code with new method envision.${envName}. Refer to ${DOC_URL}warnings/#jquery for documentation.`;\n            },\n            component: (componentName, anchor, replacementComponent) => {\n               const replacementText = replacementComponent\n                  ? `Please update your code with new component \"${replacementComponent}\".`\n                  : '';\n               return `WARNING: The component \"${componentName}\" is deprecated. ${replacementText} Refer to ${DOC_URL}warnings/#${anchor} for documentation.`;\n            },\n         };\n\n         if (Object.prototype.hasOwnProperty.call(issues, issue)) {\n            console.warn(issues[issue](...args));\n         }\n      },\n\n      getLanguageOptions(i18nSetting, langObj, rootEl) {\n         const FALLBACK = 'en';\n         let i18n = {};\n\n         const getLangObj = () => {\n            rootEl = rootEl || document.documentElement;\n            const langEl = rootEl.closest('[lang]');\n            let lang = langEl.getAttribute('lang').substring(0, 2);\n            if (!Object.prototype.hasOwnProperty.call(langObj, lang)) {\n               lang = FALLBACK;\n            }\n            if (Object.prototype.hasOwnProperty.call(langObj, lang)) {\n               return langObj[lang];\n            }\n            return {};\n         };\n\n         if (\n            typeof i18nSetting === 'string' &&\n            Object.prototype.hasOwnProperty.call(langObj, i18nSetting)\n         ) {\n            i18n = Object.assign({}, langObj[i18nSetting]);\n         } else if (this.isPlainObject(i18nSetting)) {\n            i18n = Object.assign({}, getLangObj(), i18nSetting);\n         } else {\n            i18n = Object.assign({}, getLangObj());\n         }\n\n         return i18n;\n      },\n\n      isPlainObject(obj) {\n         if (typeof obj == 'object' && obj !== null) {\n            const proto = Object.getPrototypeOf(obj);\n            return proto === Object.prototype || proto === null;\n         }\n         return false;\n      },\n\n      extend() {\n         const extended = {};\n         let deep = false;\n         if (\n            Object.prototype.toString.call(arguments[0]) === '[object Boolean]'\n         ) {\n            deep = arguments[0];\n         }\n         const merge = function (obj) {\n            for (const prop in obj) {\n               if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                  if (\n                     deep &&\n                     Object.prototype.toString.call(obj[prop]) ===\n                        '[object Object]'\n                  ) {\n                     extended[prop] = Util.extend(\n                        true,\n                        extended[prop],\n                        obj[prop]\n                     );\n                  } else {\n                     extended[prop] = obj[prop];\n                  }\n               }\n            }\n         };\n         for (let i = 0; i < arguments.length; i++) {\n            merge(arguments[i]);\n         }\n         return extended;\n      },\n\n      normalizeOptions(options, defaults) {\n         // Delete all options not available in defaults,\n         // always return an object.\n         options = this.isPlainObject(options) ? options : {};\n\n         if (!this.isPlainObject(defaults)) {\n            console.error('defaults is not an object');\n            return options;\n         }\n\n         for (let key in options) {\n            if (!Object.prototype.hasOwnProperty.call(defaults, key)) {\n               delete options[key];\n            }\n         }\n         return options;\n      },\n   };\n\n   return Util;\n})();\n\nexport default Util;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport { getNodes, uniqueId } from './util/nodes';\nimport { getPopper } from './util/popper';\nimport Util from './util/util';\n\nconst NAME = 'envPopover';\nconst POPOVER_CLASSNAME = 'env-popover';\nconst ARROW_CLASSNAME = 'env-popover__arrow';\nconst HEADER_CLASSNAME = 'env-popover__header';\nconst TITLE_CLASSNAME = 'env-popover__header__title';\nconst CONTENT_CLASSNAME = 'env-popover__content';\nconst MENU_CLASSNAME = 'env-popover__menu';\nconst TOOLTIP_CLASSNAME = 'env-popover--tooltip';\nconst ARROW_SIZE = 10;\n\nconst DEFAULTS = {\n   clickOutside: false,\n   constraints: [],\n   container: 'body',\n   content: '',\n   delay: 0,\n   escapeContent: true,\n   placement: 'top',\n   template: (\n      containerModifier,\n      contentClassName\n   ) => `<div class=\"${POPOVER_CLASSNAME} ${containerModifier}\" role=\"tooltip\">\n   <div class=\"${ARROW_CLASSNAME}\"></div>\n   <div class=\"${HEADER_CLASSNAME}\">\n   <h4 class=\"env-ui-text-sectionheading ${TITLE_CLASSNAME}\"></h4>\n   </div>\n   <div class=\"${contentClassName}\"></div>\n   </div>`,\n   title: '',\n   trigger: 'click',\n   type: null,\n};\n\nclass Popover {\n   constructor(element, config) {\n      this.el = element;\n      this.config = { ...DEFAULTS, ...this.el.dataset, ...config };\n      this.bindEvents();\n   }\n\n   handleClick() {\n      if (this.isShowing) {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   handleInEvent() {\n      if (this.config.delay > 0) {\n         if (this.hidetimeout) {\n            clearTimeout(this.hidetimeout);\n         }\n         if (this.showtimeout) {\n            clearTimeout(this.showtimeout);\n         }\n         if (!this.isShowing) {\n            this.showtimeout = setTimeout(() => {\n               this.show();\n            }, this.config.delay);\n         }\n      } else if (!this.isShowing) {\n         this.show();\n      }\n   }\n\n   handleOutEvent() {\n      if (this.config.delay > 0) {\n         this.bindPopoverEvents();\n         if (this.showtimeout) {\n            clearTimeout(this.showtimeout);\n         }\n         if (this.isShowing) {\n            this.hidetimeout = setTimeout(() => {\n               this.hide();\n            }, this.config.delay);\n         }\n      } else if (this.isShowing) {\n         this.hide();\n      }\n   }\n\n   handleKeyboardEvent(e) {\n      if (e.key === 'Escape') {\n         this.hide();\n      }\n   }\n\n   bindEvents() {\n      const triggers = this.config.trigger.split(' ');\n\n      this.handleClick = this.handleClick.bind(this);\n      this.handleInEvent = this.handleInEvent.bind(this);\n      this.handleOutEvent = this.handleOutEvent.bind(this);\n      this.handlePopoverMouseEnter = this.handlePopoverMouseEnter.bind(this);\n      this.handlePopoverMouseLeave = this.handlePopoverMouseLeave.bind(this);\n      this.clickOutsideHandler = this.clickOutsideHandler.bind(this);\n      this.handleKeyboardEvent = this.handleKeyboardEvent.bind(this);\n\n      triggers.forEach((trigger) => {\n         if (trigger === 'click') {\n            this.el.addEventListener('click', this.handleClick);\n         } else {\n            const hoverTrigger = trigger === 'hover';\n            const inEvent = hoverTrigger ? 'mouseenter' : 'focusin';\n            const outEvent = hoverTrigger ? 'mouseleave' : 'focusout';\n            this.el.addEventListener(inEvent, this.handleInEvent);\n            this.el.addEventListener(outEvent, this.handleOutEvent);\n         }\n      });\n   }\n\n   removeEvents() {\n      const triggers = this.config.trigger.split(' ');\n      triggers.forEach((trigger) => {\n         if (trigger === 'click') {\n            this.el.removeEventListener('click', this.handleClick);\n         } else {\n            const hoverTrigger = trigger === 'hover';\n            const inEvent = hoverTrigger ? 'mouseenter' : 'focusin';\n            const outEvent = hoverTrigger ? 'mouseleave' : 'focusout';\n            this.el.removeEventListener(inEvent, this.handleInEvent);\n            this.el.removeEventListener(outEvent, this.handleOutEvent);\n         }\n      });\n   }\n\n   handlePopoverMouseEnter() {\n      if (this.hidetimeout) {\n         clearTimeout(this.hidetimeout);\n      }\n      if (this.showtimeout) {\n         clearTimeout(this.showtimeout);\n      }\n      if (!this.isShowing) {\n         this.showtimeout = setTimeout(() => {\n            this.show();\n         }, this.config.delay);\n      }\n   }\n\n   handlePopoverMouseLeave() {\n      if (this.showtimeout) {\n         clearTimeout(this.showtimeout);\n      }\n      if (this.isShowing) {\n         this.hidetimeout = setTimeout(() => {\n            this.hide();\n         }, this.config.delay);\n      }\n   }\n\n   clickOutsideHandler(e) {\n      const target = e.target;\n\n      if (\n         this.isShowing &&\n         !this.el.contains(target) &&\n         !target.closest(`.${POPOVER_CLASSNAME}`)\n      ) {\n         this.hide();\n      }\n   }\n\n   bindPopoverEvents() {\n      const popoverElement = this.getPopoverElement();\n\n      popoverElement.removeEventListener(\n         'mouseenter',\n         this.handlePopoverMouseEnter\n      );\n      popoverElement.addEventListener(\n         'mouseenter',\n         this.handlePopoverMouseEnter,\n         { once: true }\n      );\n\n      popoverElement.removeEventListener(\n         'mouseleave',\n         this.handlePopoverMouseLeave\n      );\n      popoverElement.addEventListener(\n         'mouseleave',\n         this.handlePopoverMouseLeave,\n         { once: true }\n      );\n   }\n\n   getPopoverTemplate() {\n      const containerModifier =\n         this.config.type === 'tooltip' ? TOOLTIP_CLASSNAME : '';\n      const contentClassName =\n         this.config.type === 'menu' ? MENU_CLASSNAME : CONTENT_CLASSNAME;\n\n      if (typeof this.config.template === 'function') {\n         this.config.template = this.config.template(\n            containerModifier,\n            contentClassName\n         );\n      }\n\n      return this.config.template;\n   }\n\n   getPopoverElement() {\n      if (!this.popoverElement) {\n         const tmp = document.createElement('div');\n         tmp.innerHTML = this.getPopoverTemplate();\n         this.popoverElement = tmp.firstChild;\n         uniqueId(this.popoverElement);\n      }\n      return this.popoverElement;\n   }\n\n   setText(popoverElement, className, text) {\n      if (this.config.escapeContent) {\n         popoverElement.querySelector(`.${className}`).textContent = text;\n      } else {\n         popoverElement.querySelector(`.${className}`).innerHTML = text;\n      }\n   }\n\n   setTitle(popoverElement) {\n      if (this.config.title) {\n         this.setText(popoverElement, TITLE_CLASSNAME, this.config.title);\n      } else {\n         const header = this.popoverElement.querySelector(\n            `.${HEADER_CLASSNAME}`\n         );\n         header && header.remove();\n      }\n   }\n\n   setContent(popoverElement) {\n      if (this.config.content instanceof HTMLElement) {\n         this.config.content = this.config.content.innerHTML;\n      }\n      this.setText(\n         popoverElement,\n         this.config.type === 'menu' ? MENU_CLASSNAME : CONTENT_CLASSNAME,\n         this.config.content\n      );\n   }\n\n   updateConfig(config) {\n      Object.assign(this.config, config);\n      return this;\n   }\n\n   render() {\n      const popoverElement = this.getPopoverElement();\n      this.setTitle(popoverElement);\n      this.setContent(popoverElement);\n   }\n\n   hide() {\n      const popoverElement = this.getPopoverElement();\n      this.el.removeAttribute('aria-describedby');\n      popoverElement.remove();\n\n      if (this.config.clickOutside) {\n         document.body.removeEventListener('click', this.clickOutsideHandler);\n      }\n      document.removeEventListener('keyup', this.handleKeyboardEvent);\n      this.isShowing = false;\n   }\n\n   show() {\n      this.render();\n      const popoverElement = this.getPopoverElement();\n      this.el.setAttribute('aria-describedby', this.popoverElement.id);\n\n      document.body.appendChild(popoverElement);\n\n      getPopper().then((createPopper) => {\n         this._popper = createPopper(this.el, popoverElement, {\n            placement: this.config.placement,\n            modifiers: [\n               {\n                  name: 'offset',\n                  options: {\n                     offset: [0, ARROW_SIZE],\n                  },\n               },\n               {\n                  name: 'arrow',\n                  options: {\n                     element: `.${ARROW_CLASSNAME}`,\n                  },\n               },\n            ],\n         });\n         this._popper.update();\n\n         if (this.config.clickOutside) {\n            document.body.addEventListener('click', this.clickOutsideHandler);\n         }\n\n         document.addEventListener('keyup', this.handleKeyboardEvent);\n\n         this.isShowing = true;\n      });\n   }\n\n   destroy() {\n      this.hide();\n\n      if (this._popper) {\n         this._popper.destroy();\n      }\n\n      this._popper = undefined;\n      this.isShowing = false;\n      this.removeEvents();\n   }\n\n   static async _init(elements, settings) {\n      const nodes = getNodes(elements);\n\n      if (nodes.length > 0) {\n         await getPopper();\n\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new Popover(node, settings);\n            }\n\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`No method named \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME]);\n            }\n\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(settings) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Popover._init(node, settings);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Popover._jQueryInterface;\n   $.fn[NAME].Constructor = Popover;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Popover._jQueryInterface;\n   };\n}\n\nexport default async (elements, settings) => {\n   return Popover._init(elements, settings);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport Util from './util/util';\nimport { getNodes } from './util/nodes';\n\nconst NAME = 'envSelect';\nconst XML_NS = 'http://www.w3.org/2000/svg';\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\n\nconst lang = {\n   sv: {\n      add: 'Lägg till',\n      remove_button: 'Ta bort val',\n      clear_button: 'Ta bort alla val',\n      no_results: 'Inga alternativ matchar',\n   },\n   en: {\n      add: 'Add',\n      remove_button: 'Remove',\n      clear_button: 'Clear all',\n      no_results: 'No results found',\n   },\n   no: {\n      add: 'Legg til',\n      remove_button: 'Fjern',\n      clear_button: 'Fjern alt',\n      no_results: 'Ingen resultater funnet',\n   },\n};\n\nconst defaults = {\n   staticConfig: {\n      wrapperClass: 'env-select',\n      inputClass: 'env-select__input',\n      dropdownClass: 'env-select__dropdown',\n      dropdownContentClass: 'env-select__dropdown__content',\n      itemClass: 'env-select__item',\n      optionClass: 'env-select__dropdown__option',\n      plugins: {\n         caret_position: {},\n         remove_button: {\n            title: `${lang.sv.remove_button}`,\n            className: 'env-select__item__remove',\n         },\n         clear_button: {\n            title: `${lang.sv.clear_button}`,\n            className: 'env-select__input__clear',\n         },\n      },\n   },\n   userConfig: {\n      allowEmptyOption: false,\n      valueField: 'value',\n      labelField: 'text',\n      searchField: ['text'],\n      dropdownParent: null,\n      maxItems: null,\n      options: null,\n      maxOptions: null,\n      items: null,\n      create: false,\n      clearButton: true,\n      placeholder: null,\n      sortField: function (a, b) {\n         const aText = this.items[a.id].text;\n         const bText = this.items[b.id].text;\n         return aText && bText ? aText.localeCompare(bText) : 0;\n      },\n      createFilter: function (input) {\n         input = input.toLowerCase();\n         return !(input in this.options);\n      },\n      preload: false,\n      render: {\n         option: function (data, escape) {\n            return '<div>' + escape(data[this.settings.labelField]) + '</div>';\n         },\n         item: function (data, escape) {\n            return '<div>' + escape(data[this.settings.labelField]) + '</div>';\n         },\n         option_create: function (data, escape) {\n            return `<div class=\"create\">${\n               this.settings.i18n.add\n            } <strong>${escape(data.input)}</strong>&hellip;</div>`;\n         },\n         no_results: function () {\n            return `<div class=\"no-results\">${this.settings.i18n.no_results}</div>`;\n         },\n         loading: function () {\n            return (\n               '<div class=\"env-select__spinner env-spinner-bounce\">' +\n               '<div class=\"env-bounce1\"></div><div class=\"env-bounce2\"></div>' +\n               '<div class=\"env-bounce3\"></div></div>'\n            );\n         },\n      },\n      load: null, // function() { ... }\n      onInitialize: null, // function() { ... }\n      onChange: null, // function(value) { ... }\n      onItemAdd: null, // function(value, $item) { ... }\n      onItemRemove: null, // function(value) { ... }\n      onClear: null, // function() { ... }\n      onOptionAdd: null, // function(value, data) { ... }\n      onOptionRemove: null, // function(value) { ... }\n      onOptionClear: null, // function() { ... }\n      onDropdownOpen: null, // function(dropdown) { ... }\n      onDropdownClose: null, // function(dropdown) { ... }\n      onType: null, // function(str) { ... }\n      onFocus: null, // function(str) { ... }\n      onBlur: null, // function(str) { ... },\n      onLoad: null, // function(options, optgroup) { ... },\n      i18n: 'sv',\n   },\n};\n\nconst SelectPlugin = function (el, settings, TomSelect) {\n   this.el = el;\n   this.settings = settings;\n\n   // Initialize\n   this.el.classList.remove('env-form-input');\n   let select = new TomSelect(this.el, this.settings);\n\n   select.control.classList.add('env-select__input');\n   select.input.classList.add('env-assistive-text');\n\n   if (this.settings.maxItems === 1) {\n      // Add arrow down icon for single select.\n      const svgEl = document.createElementNS(XML_NS, 'svg');\n      const useEl = document.createElementNS(XML_NS, 'use');\n      useEl.setAttributeNS(\n         XLINK_NS,\n         'href',\n         '/sitevision/envision-icons.svg#icon-angle-down'\n      );\n      svgEl.appendChild(useEl);\n      svgEl.classList.add('env-icon');\n      select.wrapper.appendChild(svgEl);\n   }\n\n   // API\n   this.addOptions = select.addOption.bind(select);\n   this.load = select.load.bind(select);\n   this.getOption = select.getOption.bind(select);\n   this.updateOption = select.updateOption.bind(select);\n   this.removeOption = select.removeOption.bind(select);\n   this.getItem = select.getItem.bind(select);\n   this.addItem = select.addItem.bind(select);\n   this.refreshOptions = select.refreshOptions.bind(select);\n   this.getValue = select.getValue.bind(select);\n   this.setValue = select.setValue.bind(select);\n   this.open = select.open.bind(select);\n   this.close = select.close.bind(select);\n   this.clear = select.clear.bind(select);\n   this.clearOptions = select.clearOptions.bind(select);\n   this.clearFilter = select.clearFilter.bind(select);\n   this.lock = function () {\n      select.lock();\n      if (select.input.tagName === 'SELECT') {\n         select.input.disabled = true;\n      }\n      select.input.readOnly = true;\n      select.control_input.readOnly = true;\n   };\n   this.unlock = function () {\n      select.unlock();\n      if (select.input.tagName === 'SELECT') {\n         select.input.disabled = false;\n      }\n      select.input.readOnly = false;\n      select.control_input.readOnly = false;\n   };\n   this.focus = select.focus.bind(select);\n   this.blur = select.blur.bind(select);\n   this.disable = select.disable.bind(select);\n   this.enable = select.enable.bind(select);\n   this.destroy = function () {\n      select.destroy();\n      for (let key in this) {\n         if (Object.prototype.hasOwnProperty.call(this, key)) {\n            delete this[key];\n         }\n      }\n      select = null;\n   };\n   // Locked is similar to readonly\n   if (\n      this.el.classList.contains('env-select--locked') ||\n      this.el.getAttribute('readonly') !== null\n   ) {\n      select.control_input.classList.remove('env-select--locked');\n      select.input.classList.remove('env-select--locked');\n      this.lock();\n   }\n   return this;\n};\n\nconst getSettings = (options, node) => {\n   // Remove unwanted settings\n   options = Util.normalizeOptions(options, defaults.userConfig);\n\n   // Merge user settings with envision and user defaults\n   let settings = Util.extend(\n      true,\n      {},\n      defaults.staticConfig,\n      defaults.userConfig,\n      options\n   );\n\n   if (settings.maxItems === 1) {\n      // Settings not allowed in Single select\n      delete settings.plugins.clear_button;\n      delete settings.plugins.remove_button;\n   } else {\n      // Setting only allowed for Single select\n      delete settings.allowEmptyOption;\n   }\n\n   if (!settings.clearButton) {\n      // Custom option clearButton will activate\n      // clear_button plugin. If set to false, remove\n      // plugin from settings\n      delete settings.plugins.clear_button;\n   }\n\n   // Must remove from settings to use HTML markup\n\n   ['items', 'placeholder', 'options'].forEach((prop) => {\n      if (!settings[prop]) {\n         delete settings[prop];\n      }\n   });\n\n   // Handle language option\n   // May be set to string 'sv', 'en' - use lang variable\n   // or set to object with custom text.\n   settings.i18n = Util.getLanguageOptions(settings?.i18n, lang, node);\n\n   // Translate plugin texts\n   for (let name in settings.plugins) {\n      if (settings.plugins[name].title && settings.i18n[name]) {\n         settings.plugins[name].title = settings.i18n[name];\n      }\n   }\n\n   return settings;\n};\n\n// Plugin / extension for envision library\nexport default async (elements, options) => {\n   const nodes = getNodes(elements);\n   if (nodes.length > 0) {\n      const { default: TomSelect } = await import(\n         /* webpackChunkName: \"tom-select\" */ 'tom-select'\n      );\n      return nodes.map((node) => {\n         if (!node[NAME]) {\n            node[NAME] = new SelectPlugin(\n               node,\n               getSettings(options, node),\n               TomSelect\n            );\n         }\n         return node[NAME];\n      });\n   }\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport Util from './util/util';\nimport { uniqueId, hide, resetDisplay, getNodes } from './util/nodes';\n\nconst ARIA_SELECTED = 'aria-selected';\nconst ARIA_HIDDEN = 'aria-hidden';\nconst DATA_INDEX = 'data-env-tabs-index';\nconst IS_ACTIVE = 'env-tabs__link--active';\nconst NAME = 'envTabs';\nconst TAB_PANEL_CLASS = 'env-tabs__panel';\nconst TAB_SELECTOR = '[role=\"tab\"]';\nconst STACKED_SELECTOR = '.env-tabs--column';\n\nconst DEFAULTS = {\n   active: 0,\n};\n\nclass Tabs {\n   constructor(element, config) {\n      this.el = element;\n      this.tabs = getNodes(this.el.querySelectorAll(TAB_SELECTOR));\n      this.panels = {};\n      this.activeTab = undefined;\n\n      this.config = Object.assign(\n         {},\n         DEFAULTS,\n         Util.normalizeOptions(config, DEFAULTS)\n      );\n      this._clickHandler = ((e) => {\n         e.preventDefault();\n         this._setActive(e.currentTarget, true);\n      }).bind(this);\n\n      this._keydownHandler = ((e) => {\n         const stacked = this.el.querySelector(STACKED_SELECTOR);\n         if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            this._setActive(e.currentTarget, true);\n         } else if (\n            (stacked && (e.key === 'ArrowUp' || e.key === 'ArrowDown')) ||\n            (!stacked && (e.key === 'ArrowLeft' || e.key === 'ArrowRight'))\n         ) {\n            e.preventDefault();\n            const targetIndex = this._getIndex(e.currentTarget);\n            let focusTab =\n               targetIndex +\n               (e.key === 'ArrowLeft' || e.key === 'ArrowUp' ? -1 : 1);\n            if (focusTab > this.tabs.length - 1) {\n               focusTab = 0;\n            } else if (focusTab < 0) {\n               focusTab = this.tabs.length - 1;\n            }\n            this._setFocus(this.tabs[focusTab]);\n         }\n      }).bind(this);\n      this._bindEvents();\n   }\n\n   initialize() {\n      this.tabs.forEach((tab, i) => {\n         uniqueId(tab);\n         let panel = document.getElementById(tab.getAttribute('aria-controls'));\n         if (!panel) {\n            // Legacy selector fallback\n            document.querySelector(tab.getAttribute('href'));\n         }\n         this.panels[tab.getAttribute('id')] = panel;\n         if (\n            tab.getAttribute(ARIA_SELECTED) === 'true' ||\n            tab.classList.contains(IS_ACTIVE)\n         ) {\n            this.config.active = i;\n         }\n         tab.classList.remove(IS_ACTIVE);\n         tab.setAttribute(ARIA_SELECTED, false);\n         tab.setAttribute(DATA_INDEX, i);\n         tab.setAttribute('tabindex', '-1');\n         if (panel) {\n            panel.setAttribute('tabindex', '0');\n            panel.setAttribute('role', 'tabpanel');\n            panel.setAttribute(ARIA_HIDDEN, true);\n            panel.classList.add(TAB_PANEL_CLASS);\n            hide(panel);\n         }\n      });\n      this.tabs[this.config.active].setAttribute('tabindex', '0');\n      this._setActive(this.tabs[this.config.active], false);\n   }\n\n   activate(index) {\n      if (index >= 0 && index < this.tabs.length) {\n         this._setActive(this.tabs[index], true);\n      }\n   }\n\n   destroy() {\n      this.tabs.forEach((tab) => {\n         tab.removeEventListener('click', this._clickHandler, false);\n         tab.removeEventListener('keydown', this._keydownHandler, false);\n         tab.removeAttribute(DATA_INDEX);\n      });\n      for (let key in this) {\n         delete this[key];\n      }\n   }\n\n   // Private\n\n   _bindEvents() {\n      this.tabs.forEach((tab) => {\n         tab.addEventListener('click', this._clickHandler, false);\n         tab.addEventListener('keydown', this._keydownHandler, false);\n      });\n   }\n\n   _setFocus(focusTab) {\n      this.tabs.forEach((tab) => {\n         tab.setAttribute('tabindex', '-1');\n      });\n      focusTab.setAttribute('tabindex', '0');\n      focusTab.focus();\n   }\n\n   _setActive(tab, initialized) {\n      this._resetActive();\n\n      tab.classList.add(IS_ACTIVE);\n      tab.setAttribute(ARIA_SELECTED, true);\n\n      if (initialized) {\n         this._setFocus(tab);\n      }\n\n      const panel = this._getPanelForTab(tab);\n      if (panel) {\n         panel.setAttribute(ARIA_HIDDEN, false);\n         resetDisplay(panel);\n      }\n      this.activeTab = tab;\n\n      this.activeTab.dispatchEvent(\n         new CustomEvent('envision.tabs.activated', {\n            bubbles: true,\n            cancelable: true,\n            detail: {\n               tab: this.activeTab,\n               panel: this._getPanelForTab(this.activeTab),\n            },\n         })\n      );\n   }\n\n   _getIndex(tab) {\n      return parseInt(tab.getAttribute(DATA_INDEX), 10);\n   }\n\n   _getPanelForTab(tab) {\n      return this.panels[tab.getAttribute('id')];\n   }\n\n   _resetActive() {\n      if (this.activeTab) {\n         this.activeTab.classList.remove(IS_ACTIVE);\n         this.activeTab.setAttribute(ARIA_SELECTED, false);\n         const panel = this._getPanelForTab(this.activeTab);\n         if (panel) {\n            panel.setAttribute(ARIA_HIDDEN, true);\n            hide(panel);\n         }\n      }\n   }\n\n   static _init(elements, settings, argument) {\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         const tabs = nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new Tabs(node, settings);\n               node[NAME].initialize();\n            }\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`Invalid method name \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME], argument);\n            }\n            return node[NAME];\n         });\n         return tabs;\n      }\n   }\n\n   static _jQueryInterface(settings, argument) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Tabs._init(node, settings, argument);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Tabs._jQueryInterface;\n   $.fn[NAME].Constructor = Tabs;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Tabs._jQueryInterface;\n   };\n}\n\nexport default async (elements, settings, argument) => {\n   return Tabs._init(elements, settings, argument);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport { getNodes, setStyle, uniqueId } from './util/nodes';\nimport { getPopper } from './util/popper';\n\nconst NAME = 'envTooltip';\nconst TOOLTIP_CLASSNAME = 'env-tooltip';\nconst TOOLTIP_DISPLAY_MODIFER = `${TOOLTIP_CLASSNAME}--inline`;\nconst ARROW_SIZE = 6;\nconst DEFAULTS = {\n   placement: 'top',\n   delay: 200,\n   modifiers: [\n      {\n         name: 'offset',\n         options: {\n            offset: [0, ARROW_SIZE],\n         },\n      },\n      {\n         name: 'flip',\n         enabled: true,\n      },\n   ],\n};\n\nclass Tooltip {\n   constructor(element, options) {\n      this.container = element;\n      this.el = element.querySelector(':not([role=\"tooltip\"])');\n      this.tooltip = element.querySelector('[role=\"tooltip\"]');\n      if (!this.el || !this.tooltip) {\n         return;\n      }\n\n      this.config = { ...DEFAULTS, ...this.container.dataset, ...options };\n\n      this.container.classList.add(TOOLTIP_CLASSNAME);\n\n      if (\n         getComputedStyle(this.container).getPropertyValue('display') ===\n         'inline'\n      ) {\n         // Inline container elements must be set to inline-block\n         // for positioning to work.\n         this.container.classList.add(TOOLTIP_DISPLAY_MODIFER);\n      }\n\n      uniqueId(this.tooltip);\n      this.el.setAttribute('aria-describedby', this.tooltip.id);\n\n      setStyle(this.tooltip, 'display', 'none');\n      this.tooltip.innerHTML = this.tooltip.textContent;\n\n      this.handleShowEvent = this.handleShowEvent.bind(this);\n      this.handleHideEvent = this.handleHideEvent.bind(this);\n      this.handleHoverIntent = this.handleHoverIntent.bind(this);\n      this.handleKeyboardEvent = this.handleKeyboardEvent.bind(this);\n\n      this.bindEvents();\n   }\n\n   handleShowEvent() {\n      if (this.hidetimeout) {\n         clearTimeout(this.hidetimeout);\n      }\n      if (this.showtimeout) {\n         clearTimeout(this.showtimeout);\n      }\n      if (!this.isShowing) {\n         this.showtimeout = setTimeout(() => {\n            this.show();\n         }, this.config.delay);\n      }\n   }\n\n   handleHideEvent() {\n      if (this.showtimeout) {\n         clearTimeout(this.showtimeout);\n      }\n      if (this.isShowing) {\n         this.hidetimeout = setTimeout(() => {\n            this.hide();\n         }, this.config.delay);\n      }\n   }\n\n   handleKeyboardEvent(e) {\n      if (e.key === 'Escape') {\n         this.hide();\n      }\n   }\n\n   handleHoverIntent() {\n      this.tooltip.removeEventListener('mouseenter', this.handleShowEvent);\n      this.tooltip.addEventListener('mouseenter', this.handleShowEvent);\n      this.tooltip.removeEventListener('mouseleave', this.handleHideEvent);\n      this.tooltip.addEventListener('mouseleave', this.handleHideEvent);\n   }\n\n   bindEvents() {\n      this.el.addEventListener('mouseenter', this.handleShowEvent);\n      this.el.addEventListener('focusin', this.handleShowEvent);\n      this.el.addEventListener('mouseleave', this.handleHoverIntent);\n      this.el.addEventListener('focusout', this.handleHoverIntent);\n      this.el.addEventListener('mouseleave', this.handleHideEvent);\n      this.el.addEventListener('focusout', this.handleHideEvent);\n   }\n\n   hide() {\n      setStyle(this.tooltip, 'display', 'none');\n      this.isShowing = false;\n      document.removeEventListener('keyup', this.handleKeyboardEvent);\n   }\n\n   show() {\n      setStyle(this.tooltip, 'display', 'block');\n      getPopper().then((createPopper) => {\n         this._popper = createPopper(this.container, this.tooltip, {\n            placement: this.config.placement,\n            modifiers: this.config.modifiers,\n         });\n         this._popper.update();\n         this.isShowing = true;\n      });\n      document.addEventListener('keyup', this.handleKeyboardEvent);\n   }\n\n   destroy() {\n      this.hide();\n      this._popper && this._popper.destroy();\n      this._popper = undefined;\n      this.isShowing = false;\n      this.el.removeEventListener('mouseenter', this.handleShowEvent);\n      this.el.removeEventListener('focusin', this.handleShowEvent);\n      this.el.removeEventListener('mouseleave', this.handleHideEvent);\n      this.el.removeEventListener('focusout', this.handleHideEvent);\n      this.el.removeEventListener('mouseleave', this.handleHoverIntent);\n      this.el.removeEventListener('focusout', this.handleHoverIntent);\n   }\n\n   static async _init(elements, settings) {\n      elements = elements || `.${TOOLTIP_CLASSNAME}`;\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         await getPopper();\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new Tooltip(node, settings);\n            }\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`No method named \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME]);\n            }\n            return node[NAME];\n         });\n      }\n   }\n}\n\nif (typeof document !== 'undefined') {\n   document.addEventListener('DOMContentLoaded', Tooltip._init);\n}\n\nexport default async (elements, settings) => {\n   return Tooltip._init(elements, settings);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport { getNodes, lockScroll, unlockScroll } from './util/nodes';\nimport Util from './util/util';\n\nconst ANIMATION = 'env-animation-in-progress';\nconst BACKDROP = 'env-image-viewer__backdrop';\nconst BACKDROP_ANIMATION = 'env-image-viewer__backdrop--in';\nconst EVENT_KEY = `.env.image-viewer`;\nconst NAME = 'envImageviewer';\nconst DATA_API_KEY = '.data-api';\nconst SPINNER_TEMPLATE = `<div class=\"env-spinner\">\n                                <div class=\"env-rect1\"></div>\n                                <div class=\"env-rect2\"></div>\n                                <div class=\"env-rect3\"></div>\n                                <div class=\"env-rect4\"></div>\n                                <div class=\"env-rect5\"></div>\n                             </div>`;\n\nconst lang = {\n   sv: {\n      prev: 'Föregående',\n      next: 'Nästa',\n      moveto: 'Gå till bild',\n   },\n   en: {\n      prev: 'Previous',\n      next: 'Next',\n      moveto: 'Move to image',\n   },\n};\n\nconst SELECTORS = {\n   ACTIVE_DOT: '.env-is-active',\n   DATA_MOVE_TO: '[data-move-to]',\n   DATA_MOVE: '[data-move]',\n   DATA_IMAGE_VIEWER: '[data-image-viewer]',\n   IMAGES: '.env-image-viewer__images',\n   INDICATORS: '.env-image-viewer__indicators',\n   DATA_SLIDE_TO: '[data-slide-to]',\n   SPINNER: '.env-spinner',\n};\n\nconst ClassName = {\n   ACTIVE_DOT: 'env-is-active',\n   HIDDEN: 'env-image-viewer--hidden',\n   SPINNER_HIDE: 'env-spinner--hide',\n};\n\nconst Events = {\n   CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n   TOUCHEND: `touchend${EVENT_KEY}`,\n   TOUCHMOVE: `touchmove${EVENT_KEY}`,\n   TOUCHSTART: `touchstart${EVENT_KEY}`,\n};\n\nconst BASE_SETTINGS = {\n   index: 0,\n};\n\nclass Imageviewer {\n   constructor(element, settings) {\n      this.$el = $(element);\n      this.$images = this.$el.find(SELECTORS.IMAGES);\n      this._isShown = false;\n\n      this.config = $.extend(\n         {},\n         {\n            i18n: Util.getLanguageOptions(settings?.i18n, lang, element),\n         },\n         this.$el.data()\n      );\n\n      const index =\n         settings && this.$images.length > settings.index\n            ? settings.index\n            : BASE_SETTINGS.index;\n      this.config.index = index;\n\n      this.$el.on(Events.CLICK_DATA_API, this._click.bind(this));\n   }\n\n   next() {\n      this.show(this._getNextItemIndex());\n   }\n\n   prev() {\n      this.show(this._getPrevItemIndex());\n   }\n\n   show(index) {\n      index = index || 0;\n      this.config.index = Number(index);\n      const image = $(this.$images[index])[0];\n      const href = image.getAttribute('href');\n\n      if (this._isShown) {\n         $(SELECTORS.SPINNER).removeClass(ClassName.SPINNER_HIDE);\n         this.$btnContainer.addClass(ClassName.HIDDEN);\n\n         const $downloadingImage = this._loadImage(href);\n\n         this.$imgContainer.html($downloadingImage);\n         this._setActiveIndicatorElement();\n      } else {\n         this.$modal = $('<div/>', {\n            class: 'env-image-viewer__modal',\n         });\n\n         this.$btnContainer = $('<div/>', {\n            class: 'env-image-viewer__dialog',\n         });\n\n         this.$imgContainer = $('<div/>', {\n            class: 'env-image-viewer__modal-container',\n         });\n\n         this.$modal.append(this.$btnContainer);\n         this.$btnContainer.append(this.$imgContainer);\n         this.$modal.appendTo(document.body);\n\n         if (this.$images.length > 1) {\n            this.$btnContainer.append(this._getButtons());\n            this.$btnContainer.append(this._getIndicators());\n         }\n\n         this.$btnContainer.addClass(ClassName.HIDDEN);\n         const $downloadingImage = this._loadImage(href);\n\n         this.$imgContainer.html($downloadingImage);\n\n         this._isShown = true;\n\n         lockScroll();\n\n         this._bindContainerEvents();\n         this._bindEvents();\n         this._showBackdrop();\n\n         $(SPINNER_TEMPLATE).prependTo(this.$modal);\n      }\n   }\n\n   hide() {\n      const removeBackdropCallback = () => {\n         this.$backdrop.remove();\n         this.$modal.remove();\n         this.$btnContainer.remove();\n         this.$imgContainer.remove();\n         unlockScroll();\n      };\n\n      this.$backdrop\n         .one('transitionend', removeBackdropCallback)\n         .removeClass(BACKDROP_ANIMATION);\n\n      this._isShown = false;\n   }\n\n   _click(e) {\n      e.preventDefault();\n      const $target = $(e.target);\n      if ($target.is('img')) {\n         this.show(this.$images.index($target.parent()));\n      } else if ($target.is('a.env-image-viewer__images')) {\n         this.show(this.$images.index($target));\n      }\n   }\n\n   _loadImage(href) {\n      const $downloadingImage = $('<img>');\n      const $imageModal = $('.env-image-viewer__dialog');\n\n      $downloadingImage\n         .addClass('env-image-viewer__img')\n         .attr({\n            tabindex: '-1',\n            src: href,\n         })\n         .on('load', () => {\n            const imageHeight = $downloadingImage.height();\n            const imageWidth = $downloadingImage.width();\n            const windowHeight = window.innerHeight;\n            const heightModifier = 0.8;\n            const defaultWidth = 800;\n\n            if (imageWidth > defaultWidth) {\n               $imageModal.css({\n                  'max-width': '80%',\n               });\n            }\n\n            if (windowHeight < imageHeight) {\n               $downloadingImage.css({\n                  'max-height': windowHeight * heightModifier,\n               });\n            }\n\n            $(SELECTORS.SPINNER).addClass(ClassName.SPINNER_HIDE);\n            this.$btnContainer.removeClass(ClassName.HIDDEN);\n            this.$imgContainer.children().eq(0).trigger('focus');\n         });\n\n      return $downloadingImage;\n   }\n\n   _bindContainerEvents() {\n      this.$btnContainer.on(Events.CLICK_DATA_API, SELECTORS.DATA_MOVE, (e) => {\n         e.preventDefault();\n         if ($(e.currentTarget).data('move') === 'next') {\n            this.next();\n         } else {\n            this.prev();\n         }\n      });\n\n      this.$btnContainer.on(\n         Events.CLICK_DATA_API,\n         SELECTORS.DATA_MOVE_TO,\n         (e) => {\n            const viewerIndex = e.currentTarget.getAttribute('data-move-to');\n\n            if (viewerIndex) {\n               this.show(viewerIndex);\n            }\n         }\n      );\n   }\n\n   _getButtons() {\n      const buttonHTML = `<button type=\"button\" class=\"env-image-viewer--prev\" data-move=\"prev\">\n               <svg class=\"env-image-viewer__prev-icon env-icon env-icon-small\">\n               <use href=\"/sitevision/envision-icons.svg#icon-arrow-left\"></use>\n               </svg>\n               <span class=\"env-assistive-text\">${this.config.i18n.prev}</span>\n            </button>\n            <button type=\"button\" class=\"env-image-viewer--next\" data-move=\"next\">\n               <svg class=\"env-image-viewer__next-icon env-icon env-icon-small\">\n               <use href=\"/sitevision/envision-icons.svg#icon-arrow-right\"></use>\n               </svg>\n               <span class=\"env-assistive-text\">${this.config.i18n.next}</span>\n            </button>`;\n\n      return buttonHTML;\n   }\n\n   _getIndicators() {\n      const indicatorItems = this._getIndicatorItems();\n      return `<div class=\"env-image-viewer__indicators\">\n                  ${indicatorItems}\n               </div>`;\n   }\n\n   _getIndicatorItems() {\n      const activeElementIndex = this.config.index;\n      let items = '';\n\n      this.$images.each((index) => {\n         const isActive = index === activeElementIndex;\n         items += `<button type=\"button\" title=\"${this.config.i18n.moveto} ${\n            index + 1\n         }\" data-move-to=\"${index}\" class=\"${\n            isActive ? 'env-is-active' : ''\n         }\"></button>`;\n      });\n\n      return items;\n   }\n\n   _showBackdrop() {\n      this.$backdrop = $('<div/>', {\n         class: BACKDROP,\n      });\n\n      this.$modal.on(Events.CLICK_DATA_API, (e) => {\n         if (this.$backdrop.hasClass(ANIMATION)) {\n            return;\n         }\n\n         if (e.target !== e.currentTarget) {\n            return;\n         }\n\n         if (!this._isShown) {\n            return;\n         }\n\n         this.hide();\n      });\n\n      this.$backdrop.appendTo(document.body);\n\n      this.$backdrop\n         .one('animationend', this._removeBackdropAnimation)\n         .addClass(`${BACKDROP_ANIMATION} ${ANIMATION}`);\n   }\n\n   _removeBackdropAnimation(e) {\n      $(e.currentTarget).removeClass(ANIMATION);\n   }\n\n   _bindEvents() {\n      const focusableElements = this.$modal.find('button');\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      this.$modal.on('keydown', (e) =>\n         this._keydown(e, firstElement, lastElement)\n      );\n   }\n\n   _keydown(e, firstElement, lastElement) {\n      if (/input|textarea/i.test(e.target.tagName)) {\n         return;\n      }\n\n      switch (e.key) {\n         case 'ArrowLeft':\n            e.preventDefault();\n            this.prev();\n            break;\n         case 'ArrowRight':\n            e.preventDefault();\n            this.next();\n            break;\n         case 'Escape':\n            e.preventDefault();\n            if (!this.$backdrop.hasClass(ANIMATION)) {\n               this.hide();\n            }\n            break;\n         case 'Tab':\n            if (e.target.tagName === 'IMG') {\n               e.preventDefault();\n               firstElement.focus();\n            } else if (e.shiftKey) {\n               if (e.target === firstElement) {\n                  e.preventDefault();\n                  lastElement.focus();\n               }\n            } else if (e.target === lastElement) {\n               e.preventDefault();\n               firstElement.focus();\n            }\n            break;\n         default:\n            return;\n      }\n   }\n\n   _getNextItemIndex() {\n      return this.config.index === this.$images.length - 1\n         ? 0\n         : this.config.index + 1;\n   }\n\n   _getPrevItemIndex() {\n      return this.config.index === 0\n         ? this.$images.length - 1\n         : this.config.index - 1;\n   }\n\n   _setActiveIndicatorElement() {\n      if (this.$images.length > 0) {\n         this.$btnContainer\n            .find(SELECTORS.ACTIVE_DOT)\n            .removeClass(ClassName.ACTIVE_DOT);\n\n         const indicator = this.$btnContainer\n            .find(SELECTORS.INDICATORS)\n            .children()[this.config.index];\n\n         if (indicator) {\n            $(indicator).addClass(ClassName.ACTIVE_DOT);\n         }\n      }\n   }\n\n   static _init(elements, settings) {\n      Util.consoleWarning(\n         'component',\n         'Image viewer',\n         'image-viewer',\n         'Image viewer 2'\n      );\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new Imageviewer(node, settings);\n            }\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(settings) {\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Imageviewer._init(node, settings);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   window.addEventListener('load', () => {\n      const imageViewers = getNodes(SELECTORS.DATA_IMAGE_VIEWER);\n      if (imageViewers.length > 0) {\n         Imageviewer._init(imageViewers);\n      }\n   });\n\n   // Deprecated\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Imageviewer._jQueryInterface;\n   $.fn[NAME].Constructor = Imageviewer;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Imageviewer._jQueryInterface;\n   };\n}\n\nexport default async (elements, settings) => {\n   return Imageviewer._init(elements, settings);\n};\n","// https://github.com/lyfeyaj/swipe\n\nlet _swipe;\nexport const getSwipe = async () => {\n   if (_swipe) {\n      return _swipe;\n   }\n   const { default: Swipe } = await import(\n      /* webpackChunkName: \"swipejs\" */ 'swipejs'\n   );\n   _swipe = Swipe;\n   return _swipe;\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\nimport { createElement } from '../util/nodes';\n\nexport const CLASSNAME = {\n   BASE: 'env-image-viewer-2',\n   ANIMATING: 'env-animation-in-progress',\n   ITEM: 'env-image-viewer-2__viewer__item',\n   ITEMS: 'env-image-viewer-2__viewer__items',\n   LIGHTBOX: 'env-image-viewer-2__lightbox',\n   ANIMATION: 'env-image-viewer-2__lightbox--in',\n   BUTTON_ICON_BEFORE: 'env-button--icon-before',\n   BUTTON_ICON_AFTER: 'env-button--icon-after',\n};\n\nexport const AUTOPLAY_STATE = {\n   STOP: 'STOP',\n   PAUSE: 'PAUSE',\n   CONTINUE: 'PAUSE',\n   PLAY: 'PLAY',\n};\n\nexport const ICON = {\n   PLAY: 'arrow-fill-right',\n   PAUSE: 'pause',\n   PREV: 'arrow-left',\n   NEXT: 'arrow-right',\n   CLOSE: 'delete',\n   ZOOM: 'zoom-in',\n   DOWNLOAD: 'download',\n};\n\nexport const getButtonIcon = (iconName) => {\n   return `<svg class=\"env-icon\">\n      <use href=\"/sitevision/envision-icons.svg#icon-${iconName}\"></use>\n      </svg>`;\n};\n\nexport const getButtonElement = (options) => {\n   const defaults = {\n      as: 'button',\n      text: '',\n      icon: '',\n      className: '',\n      controls: '',\n      dataset: null,\n   };\n   options = Object.assign({}, defaults, options);\n   options.controls = options.controls\n      ? `aria-controls=\"${options.controls}\"`\n      : '';\n   const buttonEl = createElement(`<${options.as} type=\"button\"\n      ${options.controls} class=\"env-button env-button--icon ${\n         options.className\n      }\">\n      ${options.text} ${getButtonIcon(options.icon)}</${options.as}>`);\n\n   for (const key in options.dataset) {\n      buttonEl.dataset[key] = options.dataset[key];\n   }\n   return buttonEl;\n};\n\nexport const TEMPLATE = {\n   LIGHTBOX: `<dialog class=\"${CLASSNAME.LIGHTBOX}\">\n      <div class=\"${CLASSNAME.LIGHTBOX}__panel\"></div>\n      <div class=\"${CLASSNAME.LIGHTBOX}__panel__header-gradient ${CLASSNAME.LIGHTBOX}__showOnActive\"></div>\n      <div class=\"${CLASSNAME.LIGHTBOX}__panel__footer-gradient ${CLASSNAME.LIGHTBOX}__showOnActive\"></div>\n      <div class=\"${CLASSNAME.LIGHTBOX}__image-container\" aria-live=\"polite\"></div>\n      </dialog>`,\n   SPINNER: `<div class=\"env-spinner env-spinner--fade-in\"><div class=\"env-rect1\"></div>\n      <div class=\"env-rect2\"></div><div class=\"env-rect3\"></div>\n      <div class=\"env-rect4\"></div><div class=\"env-rect5\"></div></div>`,\n};\n\nexport const SLIDER_VIEWER_TEMPLATE = `<div class=\"${CLASSNAME.BASE}__viewer\" aria-live=\"off\">\n<div class=\"${CLASSNAME.ITEMS}\"></div>\n<div class=\"env-assistive-text ${CLASSNAME.BASE}__assistive\"></div>\n</div>`;\n\nexport const SLIDER_ITEM_TEMPLATE = `<div class=\"${CLASSNAME.ITEM}\" role=\"group\" aria-roledescription=\"slide\"></div>`;\n\nexport const SLIDER_CONTROLS_TEMPLATE = `<div class=\"${CLASSNAME.BASE}__viewer__controls\"></div>`;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport {\n   createElement,\n   getFocusable,\n   getNode,\n   getNodes,\n   hide,\n   lockScroll,\n   setStyle,\n   resetDisplay,\n   unlockScroll,\n   isVisible,\n} from '../util/nodes';\n\nimport {\n   TEMPLATE,\n   CLASSNAME,\n   getButtonElement,\n   ICON,\n} from './image-viewer-2-util';\n\nexport default class Imageviewer2Lightbox {\n   #el;\n   #config;\n   #lightbox;\n   #images;\n   #currentSrc;\n   #downloadButton;\n\n   constructor(element, settings) {\n      this.#el = element;\n      this.#config = settings;\n      this.#images = [];\n\n      getNodes('[data-zoom]', this.#el).forEach((el) => {\n         this.#images.push(this.#getImageData(el));\n      });\n\n      this.bindThis();\n\n      // If slideshow, show event is handled in Slider.\n      if (!this.#config.slides) {\n         this.#el?.addEventListener('click', this.#handleClick);\n      }\n   }\n\n   #getImageData(el) {\n      const src = el.href || el.dataset.href;\n      if (el.href && !el.href.startsWith('#')) {\n         el.dataset.href = src;\n         el.href = '#0';\n      }\n      let altEl, captionEl;\n      let alt = '',\n         caption = '';\n\n      if (el.hasAttribute('alt') || el.dataset.alt) {\n         altEl = el;\n      } else {\n         altEl = el.querySelector('[alt], [data-alt]');\n      }\n      if (altEl && altEl.dataset.alt) {\n         alt = altEl.dataset.alt;\n      } else if (altEl && altEl.hasAttribute('alt')) {\n         alt = altEl.getAttribute('alt');\n      }\n      if (el.dataset.figcaption) {\n         captionEl = el;\n      } else {\n         captionEl = el.querySelector('figcaption, [data-figcaption]');\n      }\n      if (captionEl && captionEl.dataset.figcaption) {\n         caption = altEl.dataset.figcaption;\n      } else if (captionEl && captionEl.tagName === 'FIGCAPTION') {\n         caption = captionEl.textContent.trim();\n      }\n\n      return {\n         src: src,\n         alt: alt,\n         caption: caption,\n      };\n   }\n\n   getImageCount() {\n      return this.#images.length;\n   }\n\n   bindThis() {\n      this.#handleClick = this.#handleClick.bind(this);\n      this.#handleClickInside = this.#handleClickInside.bind(this);\n      this.#handleKeydown = this.#handleKeydown.bind(this);\n      this.#handleLightboxActive = this.#handleLightboxActive.bind(this);\n   }\n\n   loadImage() {\n      const imgContainer = getNode(\n         `.${CLASSNAME.LIGHTBOX}__image-container`,\n         this.#lightbox\n      );\n      const lightboxBgPanel = getNode(\n         `.${CLASSNAME.LIGHTBOX}__panel`,\n         this.#lightbox\n      );\n      imgContainer.innerHTML = TEMPLATE.SPINNER;\n      const figureEl = document.createElement('figure');\n      figureEl.classList.add(`${CLASSNAME.LIGHTBOX}__figure`);\n\n      const imgEl = new Image();\n      const imageData = this.#images.find(\n         (item) => item.src === this.#currentSrc\n      );\n\n      if (imageData.caption) {\n         const captionEl = document.createElement('figcaption');\n         captionEl.classList.add('env-image-viewer-2__lightbox__showOnActive');\n         captionEl.classList.add('env-text-caption-01');\n         captionEl.classList.add(`${CLASSNAME.LIGHTBOX}__caption`);\n         captionEl.textContent = imageData.caption;\n         figureEl.appendChild(captionEl);\n      }\n\n      imgEl.onload = () => {\n         if (this.#config.buttons.download) {\n            this.#downloadButton.href = imgEl.src;\n         }\n         setStyle(lightboxBgPanel, 'background-image', `url('${imgEl.src}')`);\n         imgContainer.replaceChildren(figureEl);\n      };\n      imgEl.alt = imageData.alt;\n      imgEl.classList.add(`${CLASSNAME.LIGHTBOX}__image`);\n      figureEl.prepend(imgEl);\n      imgEl.src = imageData.src;\n\n      this.setVisibleButtons();\n   }\n\n   createLightbox() {\n      this.#lightbox = createElement(TEMPLATE.LIGHTBOX);\n      const showText = this.#config.buttons.showText;\n\n      if (this.#images.length > 1) {\n         this.#lightbox.appendChild(\n            getButtonElement({\n               text: this.#config.i18n.prev,\n               icon: ICON.PREV,\n               className: `${CLASSNAME.LIGHTBOX}__prev ${CLASSNAME.LIGHTBOX}__showOnActive`,\n               dataset: { move: 'prev' },\n            })\n         );\n         this.#lightbox.appendChild(\n            getButtonElement({\n               text: this.#config.i18n.next,\n               icon: ICON.NEXT,\n               className: `${CLASSNAME.LIGHTBOX}__next ${CLASSNAME.LIGHTBOX}__showOnActive`,\n               dataset: { move: 'next' },\n            })\n         );\n      }\n      this.#lightbox.appendChild(\n         getButtonElement({\n            text: this.#config.i18n.close,\n            icon: ICON.CLOSE,\n            className: `${CLASSNAME.LIGHTBOX}__close  ${\n               showText && CLASSNAME.BUTTON_ICON_BEFORE\n            } ${CLASSNAME.LIGHTBOX}__showOnActive`,\n            dataset: { close: '' },\n         })\n      );\n      if (this.#config.buttons.download) {\n         this.#downloadButton = getButtonElement({\n            text: this.#config.i18n.download,\n            icon: ICON.DOWNLOAD,\n            className: `${CLASSNAME.LIGHTBOX}__download ${\n               showText && CLASSNAME.BUTTON_ICON_BEFORE\n            } ${CLASSNAME.LIGHTBOX}__showOnActive`,\n            as: 'a',\n         });\n         this.#downloadButton.setAttribute('download', '');\n         this.#downloadButton.removeAttribute('type');\n         this.#lightbox.appendChild(this.#downloadButton);\n      }\n   }\n\n   fadeIn() {\n      this.#lightbox.addEventListener(\n         'transitionend',\n         (e) => {\n            e.currentTarget?.classList.remove(CLASSNAME.ANIMATING);\n         },\n         { once: true }\n      );\n      this.#lightbox.classList.add(CLASSNAME.ANIMATION, CLASSNAME.ANIMATING);\n   }\n\n   showLightbox() {\n      if (!this.#lightbox) {\n         this.createLightbox();\n         this.bindEvents();\n      }\n      document.body.appendChild(this.#lightbox);\n      this.loadImage();\n      lockScroll();\n      this.#lightbox.showModal();\n      this.fadeIn();\n\n      if (this.#config.slides?.auto) {\n         this.#el.dispatchEvent(new Event('pause'));\n      }\n   }\n\n   show(i) {\n      // API Method\n      i = i || 0;\n      if (i < 0 || i > this.#images.length - 1) {\n         i = 0;\n      }\n      this.#currentSrc = this.#images[i].src;\n      this.showLightbox();\n   }\n\n   #handleClick = (e) => {\n      e.preventDefault();\n      if (\n         e.target.closest('[data-zoom]') &&\n         e.target.closest('[data-zoom]').dataset.href\n      ) {\n         this.#currentSrc = e.target.closest('[data-zoom]').dataset.href;\n         this.showLightbox();\n      }\n   };\n\n   close() {\n      // API Method\n      const fadeOutCallback = () => {\n         this.#lightbox.close();\n         this.#lightbox.remove();\n         unlockScroll();\n      };\n      this.#lightbox.addEventListener('transitionend', fadeOutCallback, {\n         once: true,\n      });\n      this.#lightbox.classList.remove(CLASSNAME.ANIMATION);\n   }\n\n   getCurrentIndex() {\n      const i = this.#images.findIndex(\n         (image) => image.src === this.#currentSrc\n      );\n      return i >= 0 ? i : 0;\n   }\n\n   goTo(i) {\n      this.#currentSrc = this.#images[i].src;\n      this.loadImage();\n   }\n\n   #next() {\n      let i = this.getCurrentIndex();\n      i++;\n      if (i >= this.#images.length) {\n         i = this.#images.length - 1;\n         this.#currentSrc = this.#images[i].src;\n      } else {\n         this.goTo(i);\n      }\n   }\n\n   #prev = () => {\n      let i = this.getCurrentIndex();\n      i--;\n      if (i < 0) {\n         this.#currentSrc = this.#images[0].src;\n      } else {\n         this.goTo(i);\n      }\n   };\n\n   setVisibleButtons() {\n      const i = this.getCurrentIndex();\n      const n = this.#images.length;\n\n      if (n === 1 || (i === 0 && n > 1)) {\n         hide(getNode('[data-move=\"prev\"]', this.#lightbox));\n      } else {\n         resetDisplay(getNode('[data-move=\"prev\"]', this.#lightbox));\n      }\n      if (n === 1 || (i === n - 1 && n > 1)) {\n         hide(getNode('[data-move=\"next\"]', this.#lightbox));\n      } else {\n         resetDisplay(getNode('[data-move=\"next\"]', this.#lightbox));\n      }\n\n      if (!isVisible(document.activeElement)) {\n         // Element that had focus might have been hidden\n         // Make sure a visible element has focus\n         const focusable = getFocusable(this.#lightbox);\n         focusable[0].focus();\n      }\n   }\n\n   #handleClickInside = (e) => {\n      if (e.target.isEqualNode(e.currentTarget)) {\n         // Click outside panel on ::backdrop\n         this.close();\n         return;\n      }\n\n      const target = e.target.closest('button');\n      if (!target) {\n         return;\n      }\n      let i = this.getCurrentIndex();\n      if (target.dataset.move) {\n         if (target.dataset.move === 'prev') {\n            i--;\n         } else {\n            i++;\n         }\n         if (i < 0) {\n            i = 0;\n         }\n         if (i >= this.#images.length - 1) {\n            i = this.#images.length - 1;\n         }\n\n         this.goTo(i);\n      }\n\n      if ('close' in target.dataset) {\n         this.close();\n      }\n   };\n\n   #handleKeydown = (e) => {\n      if (/input|textarea/i.test(e.target.tagName)) {\n         return;\n      }\n      const focusable = getFocusable(this.#lightbox);\n      const firstElement = focusable[0];\n      const lastElement = focusable[focusable.length - 1];\n\n      switch (e.key) {\n         case 'ArrowLeft':\n            e.preventDefault();\n            this.#prev();\n            break;\n         case 'ArrowRight':\n            e.preventDefault();\n            this.#next();\n            break;\n         case 'Escape':\n            e.preventDefault();\n            if (!this.#lightbox.classList.contains(CLASSNAME.ANIMATING)) {\n               this.close();\n            }\n            break;\n         case 'Tab':\n            if (e.shiftKey) {\n               if (e.target === firstElement) {\n                  e.preventDefault();\n                  lastElement.focus();\n               }\n            } else if (e.target === lastElement) {\n               e.preventDefault();\n               firstElement.focus();\n            }\n            break;\n         default:\n            return;\n      }\n   };\n\n   #handleLightboxActive = (e) => {\n      this.#lightbox.classList.toggle(\n         `${CLASSNAME.LIGHTBOX}--active`,\n         e.type !== 'mouseleave'\n      );\n   };\n\n   bindEvents() {\n      this.#lightbox.addEventListener('click', this.#handleClickInside);\n      this.#lightbox.addEventListener('keydown', this.#handleKeydown);\n      this.#lightbox.addEventListener('mouseenter', this.#handleLightboxActive);\n      this.#lightbox.addEventListener('mouseleave', this.#handleLightboxActive);\n      this.#lightbox.addEventListener('keydown', this.#handleLightboxActive);\n   }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\nimport { createElement, getNode, uniqueId, wrapElement } from '../util/nodes';\nimport {\n   AUTOPLAY_STATE,\n   CLASSNAME,\n   getButtonElement,\n   getButtonIcon,\n   ICON,\n   SLIDER_CONTROLS_TEMPLATE,\n   SLIDER_ITEM_TEMPLATE,\n   SLIDER_VIEWER_TEMPLATE,\n} from './image-viewer-2-util';\n\nexport default class Imageviewer2Slider {\n   #el;\n   #lightbox;\n   #config;\n   #autoplayState;\n   #slider;\n   #sliderEl;\n   #viewerEl;\n   #autoplayButtonEl;\n\n   constructor(element, settings, lightbox, Swipe) {\n      this.#el = element;\n      this.#config = settings;\n      this.#lightbox = lightbox;\n\n      this.bindThis();\n\n      this.setupSlider();\n      this.setupSliderControls();\n\n      // a prefers-reduced-motion user setting must always override autoplay\n      const prefersReducedMotion = window.matchMedia(\n         '(prefers-reduced-motion: reduce)'\n      ).matches;\n\n      this.#config.slides.auto =\n         !prefersReducedMotion && this.#config.slides.auto > 0\n            ? this.#config.slides.auto\n            : 0;\n      this.#autoplayState = this.#config.slides.auto\n         ? AUTOPLAY_STATE.PLAY\n         : AUTOPLAY_STATE.STOP;\n\n      this.setSliderAriaLive();\n      this.setPlayButton();\n\n      if (this.#config.slides.overlay) {\n         this.#el.classList.add(`${CLASSNAME.BASE}--overlay`);\n      }\n\n      this.#slider = new Swipe(this.#viewerEl, {\n         speed: prefersReducedMotion ? 1 : this.#config.slides.speed,\n         draggable: this.#config.slides.draggable,\n         auto: this.#config.slides.auto, // 0 = av\n         stopPropagation: true,\n         transitionEnd: this.#handleTransitionEnd,\n      });\n\n      if (this.#config.slides.auto && this.#config.slides.playing === false) {\n         this.#setAutoplay(AUTOPLAY_STATE.STOP);\n      }\n\n      this.#setSlideMarkup(\n         this.#viewerEl,\n         this.#viewerEl.querySelector(`.${CLASSNAME.ITEM}`)\n      );\n\n      // API\n      this.prev = this.#slider.prev;\n      this.next = this.#slider.next;\n      this.goTo = this.#slider.slide;\n      this.getPos = this.#slider.getPos;\n   }\n\n   bindThis() {\n      this.#setAutoplay = this.#setAutoplay.bind(this);\n      this.#handleAutoplayButton = this.#handleAutoplayButton.bind(this);\n      this.#prev = this.#prev.bind(this);\n      this.#next = this.#next.bind(this);\n      this.#handleFocus = this.#handleFocus.bind(this);\n      this.#handleBlur = this.#handleBlur.bind(this);\n      this.#handleTransitionEnd = this.#handleTransitionEnd.bind(this);\n      this.#handleLightboxZoom = this.#handleLightboxZoom.bind(this);\n      this.#handlePauseEvent = this.#handlePauseEvent.bind(this);\n   }\n\n   setupSlider() {\n      this.#el.classList.add(CLASSNAME.BASE);\n      if (this.#el.tagName !== 'SECTION') {\n         this.#el.setAttribute('role', 'region');\n      }\n      this.#el.setAttribute(\n         'aria-roledescription',\n         this.#config.i18n.roledescription\n      );\n\n      this.#viewerEl = createElement(SLIDER_VIEWER_TEMPLATE);\n      this.#sliderEl = getNode(`.${CLASSNAME.ITEMS}`, this.#viewerEl);\n      uniqueId(this.#sliderEl);\n\n      const slideCount = this.#el.children.length;\n\n      for (let i = this.#el.children.length - 1; i >= 0; i--) {\n         // Wrap and move all items inside slider\n         const childNode = wrapElement(\n            this.#el.children[i],\n            SLIDER_ITEM_TEMPLATE\n         );\n         childNode.setAttribute(\n            'aria-label',\n            `${this.#config.i18n.image} ${i + 1} ${\n               this.#config.i18n.of\n            } ${slideCount}`\n         );\n         this.#sliderEl.prepend(childNode);\n      }\n\n      this.#el.replaceChildren(this.#viewerEl);\n   }\n\n   getSliderButtonClassNames() {\n      let className = `${CLASSNAME.BASE}__viewer__controls__button`;\n      if (!this.#config.slides.overlay) {\n         if (this.#config.slides.buttons?.type) {\n            className = `env-button--${\n               this.#config.slides.buttons.type\n            } ${className}`;\n         }\n         if (this.#config.slides.buttons?.ghost) {\n            className = `env-button--ghost ${className}`;\n         }\n      }\n      if (this.#config.slides.buttons?.size) {\n         className = `env-button--${\n            this.#config.slides.buttons.size\n         } ${className}`;\n      }\n      return className;\n   }\n\n   setupSliderControls() {\n      const containerEl = createElement(SLIDER_CONTROLS_TEMPLATE);\n      const className = this.getSliderButtonClassNames();\n      const showText = this.#config.buttons.showText;\n      const prevBtn = getButtonElement({\n         text: this.#config.i18n.prev,\n         icon: ICON.PREV,\n         className: `${className} ${\n            showText ? CLASSNAME.BUTTON_ICON_BEFORE : ''\n         }`,\n         controls: this.#sliderEl.id,\n      });\n      const nextBtn = getButtonElement({\n         text: this.#config.i18n.next,\n         icon: ICON.NEXT,\n         className: `${className} ${\n            showText ? CLASSNAME.BUTTON_ICON_AFTER : ''\n         }`,\n         controls: this.#sliderEl.id,\n      });\n      if (this.#viewerEl.querySelectorAll(`.${CLASSNAME.ITEM}`)?.length > 1) {\n         containerEl.appendChild(prevBtn);\n         containerEl.appendChild(nextBtn);\n      }\n\n      if (this.#config.slides.auto) {\n         this.#autoplayButtonEl = getButtonElement({\n            text: `${\n               this.#config.i18n.pause\n            } <span class=\"env-assistive-text\">${\n               this.#config.i18n.slideshow\n            }</span>`,\n            icon: ICON.PLAY,\n            className: `${className} ${\n               showText ? CLASSNAME.BUTTON_ICON_BEFORE : ''\n            }`,\n         });\n         if (\n            this.#viewerEl.querySelectorAll(`.${CLASSNAME.ITEM}`)?.length > 1\n         ) {\n            containerEl.prepend(this.#autoplayButtonEl);\n         }\n      }\n\n      let zoomBtn;\n      if (this.#lightbox?.getImageCount() > 0) {\n         zoomBtn = getButtonElement({\n            text: `${this.#config.i18n.zoom} <span class=\"env-assistive-text\">${\n               this.#config.i18n.largeImage\n            }</span>`,\n            icon: ICON.ZOOM,\n            className: `${className} ${\n               showText && CLASSNAME.BUTTON_ICON_BEFORE\n            }`,\n         });\n         containerEl.prepend(zoomBtn);\n      }\n      this.bindEvents(prevBtn, nextBtn, zoomBtn);\n      this.#el.prepend(containerEl);\n   }\n\n   #setAutoplay = (state) => {\n      if (state === AUTOPLAY_STATE.PAUSE) {\n         if (this.#autoplayState !== AUTOPLAY_STATE.STOP) {\n            this.#autoplayState = AUTOPLAY_STATE.PAUSE;\n            this.#slider.stop();\n         }\n      } else if (state === AUTOPLAY_STATE.CONTINUE) {\n         if (\n            this.#autoplayState !== AUTOPLAY_STATE.STOP &&\n            this.#config.slides.auto\n         ) {\n            this.#autoplayState = AUTOPLAY_STATE.PLAY;\n            this.#slider.restart();\n         }\n      } else if (state === AUTOPLAY_STATE.STOP) {\n         this.#autoplayState = AUTOPLAY_STATE.STOP;\n         this.#slider.stop();\n      } else if (state === AUTOPLAY_STATE.PLAY && this.#config.slides.auto) {\n         this.#autoplayState = AUTOPLAY_STATE.PLAY;\n         this.#slider.restart();\n      }\n      this.setPlayButton();\n      this.setSliderAriaLive();\n   };\n\n   #next = () => {\n      this.#slider.next();\n      this.#setAutoplay(AUTOPLAY_STATE.PAUSE);\n   };\n\n   #prev = () => {\n      this.#slider.prev();\n      this.#setAutoplay(AUTOPLAY_STATE.PAUSE);\n   };\n\n   #setSlideMarkup(viewerEl, currentSlideEl) {\n      viewerEl.querySelectorAll('a, button, input').forEach((el) => {\n         if (el.getAttribute('tabindex') !== '-1') {\n            el.setAttribute('tabindex', '-1');\n            el.dataset.tabindex = 'true';\n         }\n      });\n      currentSlideEl.querySelectorAll('[data-tabindex]').forEach((el) => {\n         el.removeAttribute('tabindex');\n         el.dataset.tabindex = 'true';\n      });\n      const assistiveText = `${\n         currentSlideEl.querySelector('img')?.alt\n      } ${currentSlideEl.textContent.trim()}`;\n      if (assistiveText) {\n         viewerEl.querySelector(`.${CLASSNAME.BASE}__assistive`).textContent =\n            assistiveText;\n      }\n   }\n\n   setSliderAriaLive() {\n      const ariaLive =\n         this.#config.slides.auto && this.#autoplayState === AUTOPLAY_STATE.PLAY\n            ? 'off'\n            : 'polite';\n      this.#viewerEl.setAttribute('aria-live', ariaLive);\n   }\n\n   setPlayButton() {\n      if (!this.#autoplayButtonEl) {\n         return;\n      }\n      if (this.#autoplayState === AUTOPLAY_STATE.PLAY) {\n         this.#autoplayButtonEl.innerHTML = `${\n            this.#config.i18n.pause\n         } <span class=\"env-assistive-text\">${\n            this.#config.i18n.slideshow\n         }</span>${getButtonIcon(ICON.PAUSE)}`;\n      } else {\n         this.#autoplayButtonEl.innerHTML = `${\n            this.#config.i18n.play\n         } <span class=\"env-assistive-text\">${\n            this.#config.i18n.slideshow\n         }</span>${getButtonIcon(ICON.PLAY)}`;\n      }\n   }\n\n   #handleAutoplayButton = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.#autoplayState !== AUTOPLAY_STATE.PLAY) {\n         this.#setAutoplay(AUTOPLAY_STATE.PLAY);\n      } else {\n         this.#setAutoplay(AUTOPLAY_STATE.STOP);\n      }\n   };\n\n   #handlePauseEvent = () => {\n      this.#setAutoplay(AUTOPLAY_STATE.PAUSE);\n   };\n\n   #handleTransitionEnd = (index, elem) => {\n      this.#setSlideMarkup(this.#viewerEl, elem);\n   };\n\n   #handleFocus = (e) => {\n      if (\n         e.target.tagName !== 'BUTTON' &&\n         this.#el.contains(document.activeElement)\n      ) {\n         this.#setAutoplay(AUTOPLAY_STATE.PAUSE);\n      }\n   };\n\n   #handleBlur = (e) => {\n      if (e.target.tagName !== 'BUTTON' && !this.#el.contains(e.target)) {\n         this.#setAutoplay(AUTOPLAY_STATE.CONTINUE);\n      }\n   };\n\n   #handleLightboxZoom = () => {\n      this.#lightbox?.show(this.#slider.getPos());\n   };\n\n   pause() {\n      // API Method\n      this.#setAutoplay(AUTOPLAY_STATE.STOP);\n   }\n\n   play() {\n      // API Method\n      this.#setAutoplay(AUTOPLAY_STATE.PLAY);\n   }\n\n   bindEvents(prevBtn, nextBtn, zoomBtn) {\n      this.#autoplayButtonEl?.addEventListener(\n         'click',\n         this.#handleAutoplayButton\n      );\n      prevBtn.addEventListener('click', this.#prev);\n      nextBtn.addEventListener('click', this.#next);\n\n      zoomBtn?.addEventListener('click', this.#handleLightboxZoom);\n\n      if (this.#config.slides.auto) {\n         this.#el.addEventListener('focus', this.#handleFocus, true);\n         this.#el.addEventListener('blur', this.#handleBlur, true);\n         this.#el.addEventListener('pause', this.#handlePauseEvent);\n      }\n   }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport { getSwipe } from './util/swipe';\nimport { getNodes } from './util/nodes';\nimport Util from './util/util';\nimport Imageviewer2Lightbox from './image-viewer/image-viewer-2-lightbox';\nimport Imageviewer2Slider from './image-viewer/image-viewer-2-slider';\n\nconst NAME = 'envImageviewer2';\n\nconst lang = {\n   sv: {\n      roledescription: 'karusell',\n      prev: 'Visa föregående',\n      next: 'Visa nästa',\n      pause: 'Stoppa',\n      play: 'Starta',\n      slideshow: 'automatiskt bläddring',\n      zoom: 'Visa',\n      largeImage: 'stor bild',\n      close: 'Stäng',\n      download: 'Ladda ner bild',\n      image: 'Bild',\n      of: 'av',\n   },\n   en: {\n      roledescription: 'carousel',\n      prev: 'Previous',\n      next: 'Next',\n      pause: 'Stop',\n      play: 'Start',\n      slideshow: 'automatic slide show',\n      zoom: 'Show',\n      largeImage: 'large image',\n      close: 'Close',\n      download: 'Download image',\n      image: 'Image',\n      of: 'of',\n   },\n   no: {\n      roledescription: 'karusell',\n      prev: 'Forrige',\n      next: 'Neste',\n      pause: 'Stopp',\n      play: 'Start',\n      slideshow: 'automatisk lysbildeserie',\n      zoom: 'Vis',\n      largeImage: 'stort bilde',\n      close: 'Lukk',\n      download: 'Last ned bilde',\n      image: 'Bilde',\n      of: 'av',\n   },\n};\n\nconst defaults = {\n   slides: false,\n   buttons: {\n      download: true,\n      showText: false,\n   },\n   i18n: 'sv',\n};\n\nconst slidesDefaults = {\n   auto: 0,\n   speed: 300,\n   draggable: true,\n   playing: false,\n   overlay: true,\n   buttons: {\n      type: null,\n      ghost: false,\n      size: null,\n   },\n};\n\nclass Imageviewer2 {\n   constructor(element, settings) {\n      this.el = element;\n      this.config = settings;\n\n      this.lightbox = new Imageviewer2Lightbox(this.el, this.config);\n\n      if (this.config.slides) {\n         getSwipe().then((Swipe) => {\n            this.slider = new Imageviewer2Slider(\n               this.el,\n               this.config,\n               this.lightbox,\n               Swipe\n            );\n         });\n      }\n   }\n}\n\nconst getSettings = (options, node) => {\n   let slideOptions = options?.slides;\n   if (slideOptions === true) {\n      slideOptions = {};\n   }\n\n   // Remove unwanted settings\n   options = Util.normalizeOptions(options, defaults);\n\n   // Merge user settings with envision and user defaults\n   let settings = Util.extend(true, {}, defaults, options);\n   if (slideOptions) {\n      settings.slides = Util.extend(true, {}, slidesDefaults, slideOptions);\n   }\n\n   // Handle language option\n   // May be set to string 'sv', 'en' - use lang variable\n   // or set to object with custom text.\n   settings.i18n = Util.getLanguageOptions(settings?.i18n, lang, node);\n\n   Util.normalizeOptions(settings.i18n, lang.sv);\n\n   return settings;\n};\n\nexport default async (elements, options) => {\n   const nodes = getNodes(elements);\n   if (nodes.length > 0) {\n      await getSwipe();\n      return nodes.map((node) => {\n         if (!node[NAME]) {\n            node[NAME] = new Imageviewer2(node, getSettings(options, node));\n         }\n         return node[NAME];\n      });\n   }\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport { getNode, getNodes, setStyle } from './util/nodes';\nimport Util from './util/util';\n\nconst HANDLE_INDEX = 'rangeHandleIndex';\nconst HANDLES_SELECTOR = '.env-range-slider__handle';\nconst VALUE_HOLDERS_SELECTOR = '.env-range-slider__values__value';\nconst RANGE_SELECTOR = '.env-range-slider__range';\nconst NAME = 'envRangeSlider';\n\nconst EVENTS = {\n   DEPRECATED_SLIDE: 'slide',\n   DEPRECATED_STOP: 'slidestop',\n   INPUT: 'input',\n   CHANGE: 'change',\n};\n\nconst DEFAULTS = {\n   min: 0,\n   max: 100,\n   step: 1,\n   values: [0, 0],\n   visibleValues: true,\n};\n\nclass RangeSlider {\n   constructor(element, config) {\n      this.config = Util.extend(true, {}, DEFAULTS, config);\n\n      this.el = element;\n      this.handlesEl = getNodes(HANDLES_SELECTOR, this.el);\n      this.rangeEl = getNode(RANGE_SELECTOR, this.el);\n\n      if (this.config.visibleValues) {\n         this.valueHoldersEl = getNodes(VALUE_HOLDERS_SELECTOR, this.el);\n      }\n   }\n\n   initialize() {\n      this._setupHandles();\n      this._refreshRange();\n      this._bindEvents();\n   }\n\n   values(values) {\n      if (Array.isArray(values)) {\n         for (let i = 0; i < values.length; i++) {\n            this.config.values[i] = this._trimAlignValue(values[i]);\n         }\n         this._refreshRange();\n      }\n   }\n\n   _setupHandles() {\n      this.handlesEl.forEach((el, i) => {\n         el.dataset[HANDLE_INDEX] = i;\n      });\n   }\n\n   _refreshRange() {\n      let lastValPercent;\n      let valPercent;\n      let val;\n\n      this.handlesEl.forEach((handle, i) => {\n         val = this._getValue(i);\n\n         valPercent =\n            ((val - this.config.min) / (this.config.max - this.config.min)) *\n            100;\n\n         setStyle(handle, 'left', `${valPercent}%`);\n\n         if (i === 0) {\n            setStyle(this.rangeEl, 'left', `${valPercent}%`);\n         } else {\n            setStyle(this.rangeEl, 'width', `${valPercent - lastValPercent}%`);\n         }\n\n         if (this.config.visibleValues) {\n            this.valueHoldersEl[i].innerText = val;\n         }\n\n         lastValPercent = valPercent;\n      });\n   }\n\n   _bindEvents() {\n      this.handlesEl.forEach((el) => {\n         el.removeEventListener('mousedown', this._initSlide);\n         el.removeEventListener('touchstart', this._initSlide);\n         el.removeEventListener('keydown', this._initKeySlide);\n         el.removeEventListener('keyup', this._stopKeySlide);\n         el.addEventListener('mousedown', this._initSlide.bind(this));\n         el.addEventListener('touchstart', this._initSlide.bind(this));\n         el.addEventListener('keydown', this._initKeySlide.bind(this));\n         el.addEventListener('keyup', this._stopKeySlide.bind(this));\n      });\n   }\n\n   #offset(el) {\n      const box = el.getBoundingClientRect();\n      const docEl = document.documentElement;\n      return {\n         top: box.top + window.scrollY - docEl.clientTop,\n         left: box.left + window.scrollX - docEl.clientLeft,\n      };\n   }\n\n   _initSlide(e) {\n      const position = this._getPosition(e);\n      const normValue = this._normValueFromMouse(position);\n      let distance = this.config.max - this.config.min + 1;\n\n      let closestHandleEl;\n      let index;\n      let val;\n      let thisDistance;\n\n      if (e.type === 'touchstart') {\n         document.addEventListener('touchmove', this._handleSlide.bind(this));\n         document.addEventListener('touchend', this._stopSlide.bind(this), {\n            once: true,\n         });\n      } else {\n         document.addEventListener('mousemove', this._handleSlide.bind(this));\n         document.addEventListener('mouseup', this._stopSlide.bind(this), {\n            once: true,\n         });\n      }\n\n      this.handlesEl.forEach((handle, i) => {\n         val = this._getValue(i);\n         thisDistance = Math.abs(normValue - val);\n         if (\n            distance > thisDistance ||\n            (distance === thisDistance &&\n               (i === this._lastChangedValue || val === this.config.min))\n         ) {\n            distance = thisDistance;\n            closestHandleEl = handle;\n            index = i;\n         }\n      });\n\n      this._handleIndex = index;\n\n      if (closestHandleEl) {\n         closestHandleEl.focus();\n\n         const offset = this.#offset(closestHandleEl);\n         const boundingClientRect = closestHandleEl.getBoundingClientRect();\n         const compStyle = getComputedStyle(closestHandleEl);\n\n         this._clickOffset = {\n            left: position.x - offset.left - boundingClientRect.width / 2,\n            top:\n               position.y -\n               offset.top -\n               boundingClientRect.height / 2 -\n               (parseInt(compStyle.borderTopWidth, 10) || 0) -\n               (parseInt(compStyle.borderBottomWidth, 10) || 0) +\n               (parseInt(compStyle.marginTop, 10) || 0),\n         };\n         this._slide(e, index, normValue);\n      }\n   }\n\n   _handleSlide(e) {\n      const normValue = this._normValueFromMouse(this._getPosition(e));\n      this._slide(e, this._handleIndex, normValue);\n      return false;\n   }\n\n   _slide(e, index, newVal) {\n      const otherVal = this._getValue(index ? 0 : 1);\n      const currentValue = this._getValue(index);\n      const newValues = this._getValues();\n      newVal =\n         index === 0 ? Math.min(otherVal, newVal) : Math.max(otherVal, newVal);\n      newValues[index] = newVal;\n\n      if (newVal === currentValue) {\n         return;\n      }\n\n      this._trigger(EVENTS.INPUT, e, {\n         values: newValues,\n      });\n\n      this._setValue(index, newVal);\n   }\n\n   _stopSlide(e) {\n      document.removeEventListener('mousemove', this._handleSlide);\n      document.removeEventListener('touchmove', this._handleSlide);\n      this._trigger(EVENTS.CHANGE, e, {\n         values: this._getValues(),\n      });\n      this._handleIndex = null;\n      this._clickOffset = null;\n      return false;\n   }\n\n   _initKeySlide(e) {\n      switch (e.key) {\n         case 'ArrowUp':\n         case 'ArrowRight':\n         case 'ArrowDown':\n         case 'ArrowLeft':\n            e.preventDefault();\n            if (!this._keySliding) {\n               this._keySliding = true;\n            }\n            break;\n         default:\n            return;\n      }\n\n      const index = parseInt(e.target.dataset[HANDLE_INDEX], 10);\n      const curVal = this._getValue(index);\n      let newVal;\n\n      switch (e.key) {\n         case 'ArrowUp':\n         case 'ArrowRight':\n            if (curVal === this.config.max) {\n               return;\n            }\n            newVal = this._trimAlignValue(curVal + this.config.step);\n            break;\n         case 'ArrowDown':\n         case 'ArrowLeft':\n            if (curVal === this.config.min) {\n               return;\n            }\n            newVal = this._trimAlignValue(curVal - this.config.step);\n            break;\n         default:\n      }\n\n      this._slide(e, index, newVal);\n   }\n\n   _stopKeySlide(e) {\n      if (this._keySliding) {\n         this._keySliding = false;\n         this._trigger(EVENTS.CHANGE, e, {\n            values: this._getValues(),\n         });\n      }\n   }\n\n   _normValueFromMouse(position) {\n      const pixelTotal = this.el.offsetWidth;\n      const valueTotal = this.config.max - this.config.min;\n      const pixelMouse =\n         position.x -\n         this.#offset(this.el).left -\n         (this._clickOffset ? this._clickOffset.left : 0);\n      let percentMouse = pixelMouse / pixelTotal;\n\n      if (percentMouse > 1) {\n         percentMouse = 1;\n      }\n\n      if (percentMouse < 0) {\n         percentMouse = 0;\n      }\n\n      const valueMouse = this.config.min + percentMouse * valueTotal;\n\n      return this._trimAlignValue(valueMouse);\n   }\n\n   _getPosition(e) {\n      const pos = {};\n\n      if (e?.touches) {\n         const touches = e.touches[0];\n         pos.x = touches.pageX;\n         pos.y = touches.pageY;\n      } else {\n         pos.x = e.pageX;\n         pos.y = e.pageY;\n      }\n\n      return pos;\n   }\n\n   _trimAlignValue(val) {\n      if (val <= this.config.min) {\n         return this.config.min;\n      }\n\n      if (val >= this.config.max) {\n         return this.config.max;\n      }\n\n      const step = this.config.step;\n      const valModStep = (val - this.config.min) % step;\n      let alignValue = val - valModStep;\n      if (Math.abs(valModStep) * 2 >= step) {\n         alignValue += valModStep > 0 ? step : -step;\n      }\n      return parseFloat(alignValue.toFixed(5));\n   }\n\n   _getValues() {\n      return this.config.values.slice();\n   }\n\n   _getValue(index) {\n      return this.config.values[index];\n   }\n\n   _setValue(index, newValue) {\n      this.config.values[index] = this._trimAlignValue(newValue);\n      this._refreshRange();\n   }\n\n   _trigger(type, deprecadedEvt, data) {\n      // New event trigger since 2023.08.1\n      const evt = new CustomEvent(type, { bubbles: false, detail: data });\n      this.el.dispatchEvent(evt);\n\n      // Deprecated event trigger to be removed\n      let deprecatedType;\n      const jqEvents = $._data(this.el, 'events');\n      if (type === EVENTS.INPUT) {\n         deprecatedType = EVENTS.DEPRECATED_SLIDE;\n      } else if (type === EVENTS.CHANGE) {\n         deprecatedType = EVENTS.DEPRECATED_STOP;\n      }\n      if (\n         jqEvents &&\n         (jqEvents[EVENTS.DEPRECATED_SLIDE] || jqEvents[EVENTS.DEPRECATED_STOP])\n      ) {\n         // jQuery events detected\n         deprecadedEvt = $.Event(deprecadedEvt);\n         deprecadedEvt.type = deprecatedType;\n         deprecadedEvt.target = this.el;\n         $(this.el).trigger(deprecadedEvt, data);\n      }\n      // Deprecated callback function\n      if (\n         this.config[deprecatedType] &&\n         this.config[deprecatedType] instanceof Function\n      ) {\n         this.config[deprecatedType].call(this.el, deprecadedEvt, data);\n      }\n   }\n\n   static _init(elements, settings, ...args) {\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new RangeSlider(node, settings);\n               node[NAME].initialize();\n            }\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`No method named \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME], ...args);\n            }\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(settings, ...args) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            RangeSlider._init(node, settings, ...args);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = RangeSlider._jQueryInterface;\n   $.fn[NAME].Constructor = RangeSlider;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return RangeSlider._jQueryInterface;\n   };\n}\n\nexport default async (elements, settings) => {\n   return RangeSlider._init(elements, settings);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nconst CssUtil = (() => {\n   return {\n      reflow(element) {\n         return element.offsetHeight;\n      },\n\n      getToggleSpeed(el, durationCustomProperty) {\n         let speed = 300,\n            duration;\n         if (el) {\n            duration = getComputedStyle(el).getPropertyValue(\n               durationCustomProperty\n            );\n         } else {\n            duration = getComputedStyle(\n               document.documentElement\n            ).getPropertyValue(durationCustomProperty);\n         }\n         if (duration && parseFloat(duration) > 0) {\n            if (duration.includes('ms')) {\n               speed = parseInt(duration, 10);\n            } else if (duration.includes('s')) {\n               speed = parseFloat(duration) * 1000;\n            }\n         }\n         return speed;\n      },\n   };\n})();\n\nexport default CssUtil;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport { getFocusable, getNodes, lockScroll, unlockScroll } from './util/nodes';\nimport Util from './util/util';\n\nconst CLASSNAME = {\n   USE_ANIMATION: 'env-dialog--fade',\n   ANIMATION: 'env-dialog--in',\n};\n\nexport default class Dialog {\n   #opener;\n   #initialized;\n   #modalEventsBound;\n   #elementPlaceholder;\n\n   constructor(element, options) {\n      this.options = options;\n\n      if (!this.#initialized) {\n         this._bindThis();\n         this.el = element;\n         this.el.classList.add(CLASSNAME.USE_ANIMATION);\n         this.el.classList.remove(CLASSNAME.ANIMATION);\n         if (this.options.placement === 'body') {\n            this.#elementPlaceholder = document.createElement('span');\n            this.#elementPlaceholder.dataset.envDialogPlaceholder = '';\n         }\n         if (options.opener) {\n            this.#opener = getNodes(options.opener);\n            this._bindOpenEvent();\n         }\n         this.#initialized = true;\n      }\n   }\n\n   _bindThis() {\n      this.show = this.show.bind(this);\n      this.close = this.close.bind(this);\n      this.#handleClick = this.#handleClick.bind(this);\n   }\n\n   _fadeIn() {\n      this.el.classList.add(CLASSNAME.ANIMATION);\n   }\n\n   _bindModalEvents() {\n      this.el.addEventListener('close', this.close);\n      this.el.addEventListener('click', this.#handleClick, { capture: false });\n      this.el.addEventListener('keydown', this.#handleKeydown);\n      this.#modalEventsBound = true;\n   }\n\n   _bindOpenEvent() {\n      this.#opener.map((el) => {\n         el.addEventListener('click', this.show);\n      }, this);\n   }\n\n   #handleKeydown = (e) => {\n      if (/input|textarea/i.test(e.target.tagName)) {\n         return;\n      }\n      const focusable = getFocusable(this.el);\n      const firstElement = focusable[0];\n      const lastElement = focusable[focusable.length - 1];\n\n      if (\n         e.key === 'Escape' &&\n         this.el.getAttribute('role') === 'alertdialog'\n      ) {\n         e.preventDefault();\n      } else if (e.key === 'Tab') {\n         if (e.shiftKey) {\n            if (e.target === firstElement) {\n               e.preventDefault();\n               lastElement.focus();\n            }\n         } else if (e.target === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n         }\n      }\n   };\n\n   #handleClick = (e) => {\n      // Never close alertdialog on click outside\n      if (\n         this.options.backdropClick &&\n         e.target.isEqualNode(this.el) &&\n         this.el.getAttribute('role') !== 'alertdialog'\n      ) {\n         this.close();\n      }\n   };\n\n   //----- API Methods -----\n\n   show(e) {\n      if (e) {\n         e.preventDefault();\n      }\n      if (this.options.placement === 'body') {\n         this.el.after(this.#elementPlaceholder);\n         document.body.append(this.el);\n      }\n      lockScroll();\n      this.el.showModal();\n      this._fadeIn();\n      if (!this.#modalEventsBound) {\n         this._bindModalEvents();\n      }\n   }\n\n   close() {\n      if (this.el.classList.contains(CLASSNAME.ANIMATION)) {\n         this.el.classList.remove(CLASSNAME.ANIMATION);\n         this.el.close();\n         if (this.options.placement === 'body') {\n            this.#elementPlaceholder.after(this.el);\n            this.#elementPlaceholder.remove();\n         }\n         unlockScroll();\n      }\n   }\n}\n\nconst dialogDefaults = {\n   opener: null,\n   backdropClick: true,\n   placement: null,\n};\n\nexport const getDialogSettings = (options) => {\n   // Remove unwanted settings\n   options = Util.normalizeOptions(options, dialogDefaults);\n   // Merge user settings with envision and user defaults\n   return Util.extend(true, {}, dialogDefaults, options);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\nimport { getNodes, lockScroll, unlockScroll } from './util/nodes';\nimport Util from './util/util';\n\nimport Dialog, { getDialogSettings } from './dialog';\n\nconst ANIMATION = 'env-animation-in-progress';\nconst BACKDROP = 'env-modal-dialog__backdrop';\nconst BACKDROP_ANIMATION = 'env-modal-dialog__backdrop--in';\nconst DISMISS_SELECTOR = '[data-modal-dialog-dismiss]';\nconst PLACEMENT_BODY_ATTR = 'data-modal-dialog-placement-body';\nconst FOCUSIN = 'focusin.env-modal-dialog';\nconst MODIFIER_BASE = 'env-modal-dialog--';\nconst ALERT_MODIFIER_BASE = 'env-modal-alert--';\nconst NAME = 'envDialog';\nconst SELECTORS = {\n   MODAL_DIALOG: '[data-modal-dialog]',\n   MODAL_ALERT: '[data-modal-alert]',\n};\nconst SHOW = 'show';\n\nconst FOCUSABLE_ELEMENTS_SELECTOR =\n   'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n\nconst EVENTS = {\n   HIDE: 'hide.env-modal-dialog',\n   HIDDEN: 'hidden.env-modal-dialog',\n   SHOW: 'show.env-modal-dialog',\n   SHOWN: 'shown.env-modal-dialog',\n};\n\nclass ModalDialog {\n   constructor(element) {\n      this.$el = $(element);\n      this.el = this.$el.get(0);\n      this.$body = $(document.body);\n      this.$placeholder = $('<span />');\n      this._isShown = false;\n      this.placementBody = this.el.hasAttribute(PLACEMENT_BODY_ATTR);\n      this.$el.after(this.$placeholder);\n   }\n\n   toggle() {\n      return this._isShown ? this.hide() : this.show();\n   }\n\n   show() {\n      if (this._isShown) {\n         return;\n      }\n\n      CssUtil.reflow(this.el); // Used to force reflow\n\n      const showEvent = $.Event(EVENTS.SHOW, {});\n\n      lockScroll();\n\n      if (this.placementBody) {\n         this.$body.append(this.$el);\n      }\n\n      this.$el.trigger(showEvent);\n\n      const shownEvent = $.Event(EVENTS.SHOWN, {});\n\n      this.$el\n         .one('transitionend', () => {\n            this.$el.trigger(shownEvent);\n         })\n         .addClass(this._getModifierBase() + SHOW)\n         .removeAttr('aria-hidden')\n         .css('opacity', 1);\n\n      this._showBackdrop();\n\n      this._isShown = true;\n      this.$el.trigger('focus');\n\n      this._bindEvents();\n   }\n\n   hide() {\n      if (!this._isShown) {\n         return;\n      }\n\n      const hideModalCallback = () => {\n         this.$el.removeClass(this._getModifierBase() + SHOW);\n         const hiddenEvent = $.Event(EVENTS.HIDDEN, {});\n         this.$el.trigger(hiddenEvent);\n      };\n\n      const removeBackdropCallback = () => {\n         this.$backdrop.remove();\n         unlockScroll();\n         if (this.placementBody) {\n            this.$placeholder.before(this.$el);\n         }\n      };\n\n      const hideEvent = $.Event(EVENTS.HIDE, {});\n\n      this.$el.trigger(hideEvent);\n\n      this.$el\n         .one('transitionend', hideModalCallback)\n         .attr('aria-hidden', 'true')\n         .css('opacity', 0)\n         .off('click', DISMISS_SELECTOR);\n\n      this.$backdrop\n         .one('transitionend', removeBackdropCallback)\n         .removeClass(BACKDROP_ANIMATION);\n\n      this._isShown = false;\n      this._unbindEvents();\n   }\n\n   _bindEvents() {\n      this.$el.on('click', DISMISS_SELECTOR, (e) => this.hide(e));\n\n      $(document)\n         .off(FOCUSIN)\n         .one(FOCUSIN, (e) => {\n            if (\n               document !== e.target &&\n               this.el !== e.target &&\n               !this.$el.has(e.target).length\n            ) {\n               this.$el.trigger('focus');\n            }\n         });\n\n      const focusableElements = this.$el.find(FOCUSABLE_ELEMENTS_SELECTOR);\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      this.$el.on('keydown', (e) => {\n         if (e.key === 'Tab') {\n            if (e.shiftKey) {\n               if (e.target === firstElement) {\n                  e.preventDefault();\n                  lastElement.focus();\n               }\n            } else if (e.target === lastElement) {\n               e.preventDefault();\n               firstElement.focus();\n            }\n         }\n\n         if (e.key === 'Escape') {\n            this.hide();\n         }\n      });\n   }\n\n   _getModifierBase() {\n      return this.$el.hasClass('env-modal-alert')\n         ? ALERT_MODIFIER_BASE\n         : MODIFIER_BASE;\n   }\n\n   _unbindEvents() {\n      this.$el.off('click keydown');\n      $(document).off(FOCUSIN);\n   }\n\n   _showBackdrop() {\n      this.$backdrop = $('<div/>', {\n         class: BACKDROP,\n      });\n\n      this.$el.on('click', (e) => {\n         if (this.$backdrop.hasClass(ANIMATION)) {\n            return;\n         }\n\n         if (e.target !== e.currentTarget) {\n            return;\n         }\n\n         if (!this._isShown) {\n            return;\n         }\n\n         this.hide();\n      });\n\n      this.$backdrop.appendTo(document.body);\n\n      this.$backdrop\n         .one('animationend', this._removeBackdropAnimation)\n         .addClass(`${BACKDROP_ANIMATION} ${ANIMATION}`);\n   }\n\n   _removeBackdropAnimation(e) {\n      $(e.currentTarget).removeClass(ANIMATION);\n   }\n\n   static _init(elements, options) {\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            if (\n               node.tagName === 'DIALOG' &&\n               node.classList.contains('env-dialog')\n            ) {\n               // New dialog component\n               if (!node[NAME]) {\n                  node[NAME] = new Dialog(node, getDialogSettings(options));\n               }\n               return node[NAME];\n            } else {\n               if (!node[NAME]) {\n                  node[NAME] = new ModalDialog(node);\n               }\n               if (typeof options === 'string') {\n                  if (!node[NAME][options]) {\n                     throw new Error(`No method named \"${options}\"`);\n                  }\n                  node[NAME][options].call(node[NAME]);\n               }\n               return node[NAME];\n            }\n         });\n      }\n   }\n\n   static _jQueryInterface(action) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            ModalDialog._init(node, action);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = ModalDialog._jQueryInterface;\n   $.fn[NAME].Constructor = ModalDialog;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return ModalDialog._jQueryInterface;\n   };\n\n   document.addEventListener('click', (e) => {\n      const el = e.target.closest(\n         SELECTORS.MODAL_ALERT + ',' + SELECTORS.MODAL_DIALOG\n      );\n      if (!el) {\n         return;\n      }\n      e.preventDefault();\n      const selector = el.dataset.target;\n      ModalDialog._init(document.querySelector(selector), 'show');\n   });\n}\n\nexport default async (elements, action) => {\n   return ModalDialog._init(elements, action);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\nimport Util from './util/util';\nimport {\n   getNode,\n   getNodes,\n   setAttributes,\n   setStyle,\n   uniqueId,\n} from './util/nodes';\n\nconst NAME = 'envImageslider';\nconst TOUCHEVENT_WAIT = 500;\nconst SLIDE_WIDTH_PX = 80;\n\nconst lang = {\n   sv: {\n      prev: 'Föregående',\n      next: 'Nästa',\n   },\n   en: {\n      prev: 'Previous',\n      next: 'Next',\n   },\n};\n\nconst DEFAULTS = {\n   buttons: true,\n   imageSlider: false,\n   interval: 5000,\n   keyboard: true,\n   pause: 'hover',\n   slide: false,\n   swipe: true,\n   wrap: true,\n};\n\nconst SELECTORS = {\n   ACTIVE: '.env-image-slider__item--active',\n   ACTIVE__CHILD: '.env-image-slider__item--active > *',\n   ACTIVE_DOT: '.env-is-active',\n   ACTIVE_ITEM: '.env-image-slider__item--active.env-image-slider__item',\n   DATA_SLIDE: '[data-move], [data-move-to]',\n   SLIDER_DATA_ATTRIBUTE: `[data-image-slider]`,\n   INDICATORS: '.env-image-slider__indicators',\n   INDICATOR_ITEMS: '.env-image-slider__indicators > *',\n   INNER: '.env-image-slider__inner',\n   NEXT_PREV: '.env-image-slider--next, .env-image-slider--prev',\n   ITEM: '.env-image-slider__item',\n   THUMBNAILS: '.env-image-slider__thumbnails',\n   THUMBNAIL__ITEMS: '.env-image-slider__thumbnails > *',\n};\n\nconst ClassName = {\n   ACTIVE: 'env-image-slider__item--active',\n   ACTIVE_DOT: 'env-is-active',\n   LEFT: 'env-image-slider__item--left',\n   NEXT: 'env-image-slider__item--next',\n   PREV: 'env-image-slider__item--prev',\n   RIGHT: 'env-image-slider__item--right',\n   SLIDE: 'env-image-slider--slide',\n};\n\nconst Direction = {\n   LEFT: 'left',\n   NEXT: 'next',\n   PREV: 'prev',\n   RIGHT: 'right',\n};\n\nconst Events = {\n   KEYDOWN: 'keydown',\n   MOUSEENTER: 'mouseenter',\n   MOUSELEAVE: 'mouseleave',\n   SLID: 'slid',\n   SLIDE: 'slide',\n   JQSLID: `slid.env.image-slider`, // Deprecated\n   JQSLIDE: `slide.env.image-slider`, // Deprecated\n   TOUCHEND: 'touchend',\n   TOUCHMOVE: 'touchmove',\n   TOUCHSTART: 'touchstart',\n};\n\nclass Imageslider {\n   #images;\n   #indicatorsElement;\n   #thumbnailElement;\n   #interval;\n   #isSliding;\n   #activeElement;\n   #config;\n\n   constructor(element, config) {\n      this.el = element;\n      this.isPaused = false;\n      this.#images = getNodes(SELECTORS.ITEM, this.el);\n      this.#indicatorsElement = getNode(SELECTORS.INDICATORS, this.el);\n      this.#thumbnailElement = getNode(SELECTORS.THUMBNAILS, this.el);\n      this.#isSliding = false;\n      this.#interval = null;\n      this.#activeElement = null;\n\n      typeof this.el.dataset.imageSlider === 'undefined' &&\n         this.el.setAttribute('data-image-slider', '');\n\n      this.settings(config);\n\n      if (this.#images.length > 1 && config.buttons) {\n         this._addSlideButtons();\n      }\n\n      this.#images.forEach((image, i) => {\n         image.setAttribute('data-env-imageslider-index', i);\n      });\n\n      this._bindEvents();\n   }\n\n   next() {\n      if (!this.#isSliding) {\n         this._slide(Direction.NEXT);\n      }\n   }\n\n   prev() {\n      if (!this.#isSliding) {\n         this._slide(Direction.PREV);\n      }\n   }\n\n   nextWhenVisible() {\n      if (!document.hidden) {\n         this.next();\n      }\n   }\n\n   pause(e) {\n      if (!e) {\n         this.isPaused = true;\n      }\n\n      clearInterval(this.#interval);\n      this.#interval = null;\n   }\n\n   cycle(e) {\n      if (!e) {\n         this.isPaused = false;\n      }\n\n      if (this.#interval) {\n         clearInterval(this.#interval);\n         this.#interval = null;\n      }\n\n      if (this.#config.interval && !this.isPaused) {\n         this.#interval = setInterval(\n            (document.visibilityState ? this.nextWhenVisible : this.next).bind(\n               this\n            ),\n            this.#config.interval\n         );\n      }\n   }\n\n   goTo(index) {\n      this.#activeElement = getNode(SELECTORS.ACTIVE_ITEM, this.el);\n\n      const activeIndex = this._getItemIndex(this.#activeElement);\n\n      if (index > this.#images.length - 1 || index < 0) {\n         return;\n      }\n\n      if (this.#isSliding) {\n         return;\n      }\n\n      if (activeIndex === index) {\n         this.pause();\n         this.cycle();\n         return;\n      }\n\n      const direction = index > activeIndex ? Direction.NEXT : Direction.PREV;\n\n      this._slide(direction, this.#images[index]);\n   }\n\n   startTouchSlide(e) {\n      this.touchstartx = e.touches[0].pageX;\n   }\n\n   moveTouchSlide(e) {\n      this.touchmovex = e.touches[0].pageX;\n      this.movex = -(this.touchstartx - this.touchmovex);\n      this.moved = false;\n\n      const activeItem = getNode(SELECTORS.ACTIVE__CHILD, this.el);\n\n      setStyle(activeItem, 'transform', `translate3d(${this.movex}px, 0, 0)`);\n\n      if (this.movex > SLIDE_WIDTH_PX) {\n         this.prev();\n         this.moved = true;\n         setTimeout(() => {\n            setStyle(activeItem, 'transform', `translate3d(0, 0, 0)`);\n         }, TOUCHEVENT_WAIT);\n      } else if (this.movex < -SLIDE_WIDTH_PX) {\n         this.next();\n         this.moved = true;\n         setTimeout(() => {\n            setStyle(activeItem, 'transform', `translate3d(0, 0, 0)`);\n         }, TOUCHEVENT_WAIT);\n      }\n   }\n\n   endTouchSlide() {\n      if (!this.moved) {\n         setStyle(\n            getNode(SELECTORS.ACTIVE__CHILD, this.el),\n            'transform',\n            'translate3d(0, 0, 0)'\n         );\n      }\n   }\n\n   dispose() {\n      this.el = this.el.cloneNode(true);\n      delete this.el[NAME];\n      delete this.el.envImagesliderJQ;\n      this.el = null;\n      this.#images = null;\n      this.#interval = null;\n      this.isPaused = null;\n      this.#isSliding = null;\n      this.#activeElement = null;\n      this.#indicatorsElement = null;\n      this.#thumbnailElement = null;\n   }\n\n   settings(config) {\n      this.#config = Util.extend(\n         {},\n         DEFAULTS,\n         this.el.dataset,\n         Util.isPlainObject(this.#config) ? this.#config : {},\n         config\n      );\n   }\n\n   _addSlideButtons() {\n      const sliderId = this.el.id;\n      const container = getNode(SELECTORS.INNER, this.el);\n      const prevButton = document.createElement('button');\n      setAttributes(prevButton, {\n         type: 'button',\n         class: 'env-image-slider--prev',\n         'data-move': 'prev',\n         'data-target': `#${sliderId}`,\n      });\n      prevButton.innerHTML = `<svg class=\"env-image-slider__previous-icon env-icon env-icon-small\">\n               <use href=\"/sitevision/envision-icons.svg#icon-arrow-left\"></use></svg>\n               <span class=\"env-assistive-text\">${\n                  this.#config.i18n.prev\n               }</span>`;\n\n      const nextButton = document.createElement('button');\n      setAttributes(nextButton, {\n         type: 'button',\n         class: 'env-image-slider--next',\n         'data-move': 'next',\n         'data-target': `#${sliderId}`,\n      });\n      nextButton.innerHTML = `<svg class=\"env-image-slider__previous-icon env-icon env-icon-small\">\n               <use href=\"/sitevision/envision-icons.svg#icon-arrow-right\"></use></svg>\n               <span class=\"env-assistive-text\">${\n                  this.#config.i18n.next\n               }</span>`;\n\n      container.appendChild(prevButton);\n      container.appendChild(nextButton);\n   }\n\n   _getItemByDirection(direction, activeElement) {\n      const isNextDirection = direction === Direction.NEXT;\n      const activeIndex = this._getItemIndex(activeElement);\n      const lastImageIndex = this.#images.length - 1;\n      const isGoingToWrap =\n         (!isNextDirection && activeIndex === 0) ||\n         (isNextDirection && activeIndex === lastImageIndex);\n\n      if (isGoingToWrap && !this.#config.wrap) {\n         return activeElement;\n      }\n\n      const delta = isNextDirection ? 1 : -1;\n      const itemIndex = (activeIndex + delta) % this.#images.length;\n\n      return itemIndex === -1\n         ? this.#images[lastImageIndex]\n         : this.#images[itemIndex];\n   }\n\n   _bindEvents() {\n      this.el.addEventListener('click', (e) => this._click(e));\n\n      if (this.#config.keyboard) {\n         this.el.addEventListener(Events.KEYDOWN, (e) => this._keydown(e));\n      }\n\n      if (\n         this.#config.pause === 'hover' &&\n         this.#config.imageSlider === 'cycle'\n      ) {\n         this.el.addEventListener(Events.MOUSEENTER, (e) => this.pause(e));\n         this.el.addEventListener(Events.MOUSELEAVE, (e) => this.cycle(e));\n\n         this.el.addEventListener(Events.TOUCHEND, () => {\n            this.pause();\n            if (this.touchTimeout) {\n               clearTimeout(this.touchTimeout);\n            }\n            this.touchTimeout = setTimeout(\n               (e) => this.cycle(e),\n               TOUCHEVENT_WAIT,\n               this.#config.interval\n            );\n         });\n      }\n      if (this.#config.swipe) {\n         this._bindTouchSlider();\n      }\n   }\n\n   _bindTouchSlider() {\n      const container = getNode(SELECTORS.INNER, this.el);\n\n      container.addEventListener(Events.TOUCHSTART, (e) => {\n         this.startTouchSlide(e);\n      });\n\n      container.addEventListener(Events.TOUCHMOVE, (e) => {\n         this.moveTouchSlide(e);\n      });\n\n      container.addEventListener(Events.TOUCHEND, (e) => {\n         this.endTouchSlide(e);\n      });\n   }\n\n   _keydown(e) {\n      if (/input|textarea/i.test(e.target.tagName)) {\n         return;\n      }\n\n      switch (e.key) {\n         case 'ArrowLeft':\n            e.preventDefault();\n            this.prev();\n            break;\n         case 'ArrowRight':\n            e.preventDefault();\n            this.next();\n            break;\n         default:\n            return;\n      }\n   }\n\n   _click(e) {\n      const clickTarget = e.target.closest(SELECTORS.DATA_SLIDE);\n\n      if (!clickTarget) {\n         return;\n      }\n\n      let dataSet = clickTarget.dataset;\n\n      if (!dataSet.target || !document.querySelector(dataSet.target)) {\n         return;\n      }\n\n      const targetEl = document.querySelector(dataSet.target);\n\n      if (!targetEl || typeof targetEl.dataset.imageSlider === 'undefined') {\n         return;\n      }\n\n      if (dataSet.moveTo) {\n         const slideIndex = parseInt(dataSet.moveTo, 10);\n         this.settings({ interval: false });\n         this.goTo(slideIndex);\n      } else if (\n         dataSet.move === Direction.PREV ||\n         dataSet.move === Direction.NEXT\n      ) {\n         this[dataSet.move]();\n      }\n\n      e.preventDefault();\n   }\n\n   _getItemIndex(element) {\n      return parseInt(element.dataset.envImagesliderIndex, 10);\n   }\n\n   _triggerSlideEvent(targetElement, eventDirectionName) {\n      const targetIndex = this._getItemIndex(targetElement);\n      const fromIndex = this._getItemIndex(\n         getNode(SELECTORS.ACTIVE_ITEM, this.el)\n      );\n      let slideEvent;\n\n      // TODO: Delete if/else when jQuery dependency is removed\n      if (this.el.envImagesliderJQ) {\n         // Deprecated\n         slideEvent = $.Event(Events.JQSLIDE, {\n            targetElement,\n            direction: eventDirectionName,\n            from: fromIndex,\n            to: targetIndex,\n         });\n         $(this.el).trigger(slideEvent);\n         slideEvent.defaultPrevented = slideEvent.isDefaultPrevented();\n      } else {\n         slideEvent = new CustomEvent(Events.SLIDE, {\n            bubbles: true,\n            cancelable: true,\n            detail: {\n               direction: eventDirectionName,\n               from: fromIndex,\n               to: targetIndex,\n            },\n         });\n         targetElement.dispatchEvent(slideEvent);\n      }\n      return slideEvent;\n   }\n\n   _setActiveIndicatorElement(element) {\n      if (this.#indicatorsElement) {\n         const active = getNode(SELECTORS.ACTIVE_DOT, this.#indicatorsElement);\n         const nextIndicator = getNodes(\n            SELECTORS.INDICATOR_ITEMS,\n            this.#indicatorsElement\n         )[this._getItemIndex(element)];\n         active && active.classList.remove(ClassName.ACTIVE_DOT);\n         nextIndicator && nextIndicator.classList.add(ClassName.ACTIVE_DOT);\n      } else if (this.#thumbnailElement) {\n         const active = getNode(SELECTORS.ACTIVE, this.#thumbnailElement);\n         const nextIndicator = getNodes(\n            SELECTORS.ACTIVE,\n            this.#thumbnailElement\n         )[this._getItemIndex(element)];\n         active && active.classList.remove(ClassName.ACTIVE);\n         nextIndicator && nextIndicator.classList.add(ClassName.ACTIVE);\n      }\n   }\n\n   _slide(direction, element) {\n      const activeElement = getNode(SELECTORS.ACTIVE_ITEM, this.el);\n      const activeElementIndex = this._getItemIndex(activeElement);\n      const nextElement = getNode(\n         element ||\n            (activeElement &&\n               this._getItemByDirection(direction, activeElement))\n      );\n      const nextElementIndex = this._getItemIndex(nextElement);\n\n      let directionalClassName;\n      let orderClassName;\n      let eventDirectionName;\n\n      if (direction === Direction.NEXT) {\n         directionalClassName = ClassName.LEFT;\n         orderClassName = ClassName.NEXT;\n         eventDirectionName = Direction.LEFT;\n      } else {\n         directionalClassName = ClassName.RIGHT;\n         orderClassName = ClassName.PREV;\n         eventDirectionName = Direction.RIGHT;\n      }\n\n      if (nextElement && nextElement.classList.contains(ClassName.ACTIVE)) {\n         this.#isSliding = false;\n         return;\n      }\n\n      const slideEvent = this._triggerSlideEvent(\n         nextElement,\n         eventDirectionName\n      );\n\n      if (slideEvent.defaultPrevented) {\n         return;\n      }\n\n      if (!activeElement || !nextElement) {\n         return;\n      }\n\n      this.#isSliding = true;\n\n      this._setActiveIndicatorElement(nextElement);\n\n      let slidEvent;\n\n      // TODO: Delete if/else when jQuery dependency is removed\n      if (this.el.envImagesliderJQ) {\n         // Deprecated\n         slidEvent = $.Event(Events.JQSLID, {\n            relatedTarget: nextElement,\n            direction: eventDirectionName,\n            from: activeElementIndex,\n            to: nextElementIndex,\n         });\n         slidEvent.defaultPrevented = slideEvent.isDefaultPrevented();\n      } else {\n         slidEvent = new CustomEvent(Events.SLID, {\n            bubbles: true,\n            cancelable: true,\n            detail: {\n               relatedTarget: nextElement,\n               direction: eventDirectionName,\n               from: activeElementIndex,\n               to: nextElementIndex,\n            },\n         });\n      }\n\n      if (this.el.classList.contains(ClassName.SLIDE)) {\n         nextElement.classList.add(orderClassName);\n\n         CssUtil.reflow(nextElement);\n\n         activeElement.classList.add(directionalClassName);\n         nextElement.classList.add(directionalClassName);\n\n         activeElement.addEventListener(\n            'transitionend',\n            () => {\n               nextElement.classList.remove(\n                  directionalClassName,\n                  orderClassName\n               );\n               nextElement.classList.add(ClassName.ACTIVE);\n\n               activeElement.classList.remove(\n                  ClassName.ACTIVE,\n                  orderClassName,\n                  directionalClassName\n               );\n\n               this.#isSliding = false;\n\n               if (this.el.envImagesliderJQ) {\n                  $(this.el).trigger(slidEvent);\n               } else {\n                  this.el.dispatchEvent(slidEvent);\n               }\n            },\n            { once: true }\n         );\n      } else {\n         activeElement.classList.remove(ClassName.ACTIVE);\n         nextElement.classList.add(ClassName.ACTIVE);\n\n         this.#isSliding = false;\n\n         // TODO: Delete if/else when jQuery dependency is removed\n         if (this.el.envImagesliderJQ) {\n            $(this.el).trigger(slideEvent);\n         } else {\n            this.el.dispatchEvent(slideEvent);\n         }\n      }\n   }\n\n   static _init(elements, settings, isJQuery) {\n      Util.consoleWarning(\n         'component',\n         'Image slider',\n         'image-slider',\n         'Image viewer 2'\n      );\n\n      const nodes = getNodes(elements);\n\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            uniqueId(node);\n            let config;\n\n            if (typeof settings === 'object') {\n               config = {\n                  ...DEFAULTS,\n                  ...node.dataset,\n                  ...settings,\n                  i18n: Util.getLanguageOptions(settings?.i18n, lang, node),\n               };\n            } else {\n               config = {\n                  ...DEFAULTS,\n                  ...node.dataset,\n                  i18n: Util.getLanguageOptions({}, lang, node),\n               };\n            }\n\n            if (!node[NAME]) {\n               node.envImagesliderJQ = isJQuery;\n               node[NAME] = new Imageslider(node, config);\n            } else {\n               node[NAME].settings(\n                  Util.extend({}, { ...node.dataset, ...settings })\n               );\n            }\n\n            const action =\n               typeof settings === 'string' ? settings : config.move;\n\n            if (typeof settings === 'number') {\n               node[NAME].goTo(settings);\n            } else if (typeof action === 'string') {\n               if (node[NAME][action] === undefined) {\n                  throw new Error(`No method named \"${action}\"`);\n               }\n               node[NAME][action]();\n            }\n\n            if (config.interval && config.imageSlider === 'cycle') {\n               node[NAME].pause();\n               node[NAME].cycle();\n            }\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(config) {\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Imageslider._init(node, config, true);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   window.addEventListener('load', () => {\n      const imageSliders = getNodes(SELECTORS.SLIDER_DATA_ATTRIBUTE);\n      if (imageSliders.length > 0) {\n         Imageslider._init(imageSliders);\n      }\n   });\n\n   // Deprecated\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Imageslider._jQueryInterface;\n   $.fn[NAME].Constructor = Imageslider;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Imageslider._jQueryInterface;\n   };\n}\n\nexport default async (elements, settings) => {\n   return Imageslider._init(elements, settings);\n};\n","// https://dev.to/bmsvieira/vanilla-js-slidedown-up-4dkn\n\nexport const slideUp = (target, options) => {\n   options = Object.assign(\n      {\n         duration: 300,\n      },\n      options\n   );\n   target.style.transitionProperty = 'height, margin, padding';\n   target.style.transitionDuration = options.duration + 'ms';\n   const computed = getComputedStyle(target);\n   if (computed.boxSizing === 'border-box') {\n      target.style.height = target.offsetHeight + 'px';\n   } else {\n      const pt = parseFloat(computed.paddingTop);\n      const pb = parseFloat(computed.paddingBottom);\n      const bt = parseFloat(computed.borderTopWidth);\n      const bb = parseFloat(computed.borderBottomWidth);\n      target.style.height = target.offsetHeight - pt - pb - bt - bb + 'px';\n   }\n   target.offsetHeight;\n   target.style.overflow = 'hidden';\n   target.style.height = 0;\n   target.style.paddingTop = 0;\n   target.style.paddingBottom = 0;\n   target.style.marginTop = 0;\n   target.style.marginBottom = 0;\n   window.setTimeout(() => {\n      target.style.display = 'none';\n      target.style.removeProperty('height');\n      target.style.removeProperty('padding-top');\n      target.style.removeProperty('padding-bottom');\n      target.style.removeProperty('margin-top');\n      target.style.removeProperty('margin-bottom');\n      target.style.removeProperty('overflow');\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      if (options.complete && options.complete instanceof Function) {\n         options.complete.call();\n      }\n   }, options.duration);\n};\n\nexport const slideDown = (target, options) => {\n   options = Object.assign(\n      {\n         duration: 300,\n      },\n      options\n   );\n   target.style.removeProperty('display');\n   let display = window.getComputedStyle(target).display;\n   if (display === 'none') {\n      display = 'block';\n   }\n   target.style.display = display;\n   let height = target.offsetHeight;\n   target.style.overflow = 'hidden';\n   target.style.height = 0;\n   target.style.paddingTop = 0;\n   target.style.paddingBottom = 0;\n   target.style.marginTop = 0;\n   target.style.marginBottom = 0;\n   target.offsetHeight;\n   target.style.boxSizing = 'border-box';\n   target.style.transitionProperty = 'height, margin, padding';\n   target.style.transitionDuration = options.duration + 'ms';\n   target.style.height = height + 'px';\n   target.style.removeProperty('padding-top');\n   target.style.removeProperty('padding-bottom');\n   target.style.removeProperty('margin-top');\n   target.style.removeProperty('margin-bottom');\n   window.setTimeout(() => {\n      target.style.removeProperty('height');\n      target.style.removeProperty('overflow');\n      target.style.removeProperty('transition-duration');\n      target.style.removeProperty('transition-property');\n      if (options.complete && options.complete instanceof Function) {\n         options.complete.call();\n      }\n   }, options.duration);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\nimport { getNode, getNodes, show } from './util/nodes';\nimport Util from './util/util';\nimport { slideDown, slideUp } from './util/slideToggle';\n\nconst ARIA_CONTROLS = 'aria-controls';\nconst ARIA_EXPANDED = 'aria-expanded';\nconst DATA_EXPANDED = 'data-expanded';\nconst DURATION_CUSTOM_PROP = '--env-collapse-toggle-duration';\nconst MODIFIER_BASE = 'env-accordion--';\nconst NAME = 'envAccordion';\nconst SHOW = MODIFIER_BASE + 'show';\nconst TOGGLER_ATTR = '[data-env-accordion]';\n\nclass Accordion {\n   #isAnimating;\n\n   constructor(element, toggler) {\n      this.el = element;\n      this.parentEl = getNode(this.el.dataset.parent);\n      this.togglerEl = toggler\n         ? toggler\n         : this.parentEl &&\n           getNode(\n              `${TOGGLER_ATTR}[${ARIA_CONTROLS}=\"${this.el.id}\"]`,\n              this.parentEl\n           );\n\n      if (this.el.classList.contains(SHOW)) {\n         this.el.classList.remove(SHOW);\n         this.el.setAttribute(DATA_EXPANDED, 'true');\n         show(this.el);\n\n         if (this.togglerEl) {\n            this.togglerEl.setAttribute(ARIA_EXPANDED, 'true');\n         }\n      } else {\n         if (this.togglerEl) {\n            this.togglerEl.setAttribute(ARIA_EXPANDED, 'false');\n         }\n      }\n\n      // Handle legacy code. aria-expanded may be placed on content, not button.\n      this.el.removeAttribute(ARIA_EXPANDED);\n\n      this.speed = CssUtil.getToggleSpeed(this.el, DURATION_CUSTOM_PROP);\n   }\n\n   toggle() {\n      if (this.el.getAttribute(DATA_EXPANDED) === 'true') {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   show() {\n      if (this.#isAnimating) {\n         return;\n      }\n      if (this.parentEl) {\n         getNodes(`[${DATA_EXPANDED}=\"true\"], .${SHOW}`, this.parentEl).forEach(\n            (el) => {\n               if (!el.isEqualNode(this.el)) {\n                  const togglerEl = getNode(\n                     `${TOGGLER_ATTR}[${ARIA_CONTROLS}=\"${el.id}\"]`,\n                     this.parentEl\n                  );\n                  this._hide(el, togglerEl, this.speed, true);\n               }\n            }\n         );\n      }\n      this.#isAnimating = true;\n      slideDown(this.el, {\n         duration: this.speed,\n         complete: () => {\n            if (this.togglerEl) {\n               this.togglerEl.setAttribute(ARIA_EXPANDED, 'true');\n            }\n            this.el.setAttribute(DATA_EXPANDED, 'true');\n            this.#isAnimating = false;\n         },\n      });\n   }\n\n   hide() {\n      if (this.#isAnimating) {\n         return;\n      }\n      this._hide(this.el, this.togglerEl, this.speed);\n   }\n\n   _hide(el, togglerEl, speed, force) {\n      if (!force) {\n         this.#isAnimating = true;\n      }\n      slideUp(el, {\n         duration: speed,\n         complete: () => {\n            if (togglerEl) {\n               togglerEl.setAttribute(ARIA_EXPANDED, 'false');\n            }\n            el.setAttribute(DATA_EXPANDED, 'false');\n            el.classList.remove(SHOW);\n            if (!force) {\n               this.#isAnimating = false;\n            }\n         },\n      });\n   }\n\n   static _init(elements, settings) {\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               if (settings instanceof Element) {\n                  node[NAME] = new Accordion(node, settings);\n               } else {\n                  node[NAME] = new Accordion(node);\n               }\n            }\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`No method named \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME]);\n            } else {\n               node[NAME].toggle.call(node[NAME]);\n            }\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(settings) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Accordion._init(node, settings);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Accordion._jQueryInterface;\n   $.fn[NAME].Constructor = Accordion;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Accordion._jQueryInterface;\n   };\n\n   document.addEventListener('click', (e) => {\n      const el = e.target.closest(TOGGLER_ATTR);\n      if (!el) {\n         return;\n      }\n      e.preventDefault();\n      const selector = el.dataset.target || el.getAttribute('href');\n      Accordion._init(document.querySelector(selector), el);\n   });\n}\n\nexport default async (elements, settings) => {\n   return Accordion._init(elements, settings);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\nimport { getNode, getNodes, show } from './util/nodes';\nimport Util from './util/util';\nimport { slideDown, slideUp } from './util/slideToggle';\n\nconst ARIA_EXPANDED = 'aria-expanded';\nconst DURATION_CUSTOM_PROP = '--env-collapse-toggle-duration';\nconst NAME = 'envCollapse';\nconst EXPANDED = 'env-collapse--expanded';\nconst SHOW = 'env-collapse--show';\n\nclass Collapse {\n   constructor(element) {\n      this.el = element;\n      this.togglerEl = getNode(\n         `[data-env-collapse][href=\"#${element.id}\"], [data-env-collapse][data-target=\"#${element.id}\"]`\n      );\n\n      if (this.el.classList.contains(SHOW)) {\n         show(this.el);\n         this.togglerEl.classList.add(EXPANDED);\n         this.togglerEl.setAttribute(ARIA_EXPANDED, 'true');\n      }\n      this.speed = CssUtil.getToggleSpeed(this.togglerEl, DURATION_CUSTOM_PROP);\n   }\n\n   toggle() {\n      if (this.el.classList.contains(SHOW)) {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   show() {\n      if (this.el.getAnimations().length > 0) {\n         // Animation in progress\n         return;\n      }\n      if (this.togglerEl) {\n         this.togglerEl.classList.add(EXPANDED);\n         this.togglerEl.setAttribute(ARIA_EXPANDED, 'true');\n      }\n      this.el.classList.add(SHOW);\n      slideDown(this.el, { duration: this.speed });\n   }\n\n   hide() {\n      if (this.el.getAnimations().length > 0) {\n         // Animation in progress\n         return;\n      }\n      if (this.togglerEl) {\n         this.togglerEl.classList.remove(EXPANDED);\n         this.togglerEl.setAttribute(ARIA_EXPANDED, 'false');\n      }\n      slideUp(this.el, {\n         duration: this.speed,\n         complete: () => {\n            this.el.classList.remove(SHOW);\n         },\n      });\n   }\n\n   static _init(elements, settings) {\n      const nodes = getNodes(elements);\n      if (nodes.length > 0) {\n         return nodes.map((node) => {\n            if (!node[NAME]) {\n               node[NAME] = new Collapse(node);\n            }\n            if (typeof settings === 'string') {\n               if (!node[NAME][settings]) {\n                  throw new Error(`No method named \"${settings}\"`);\n               }\n               node[NAME][settings].call(node[NAME]);\n            } else {\n               node[NAME].toggle.call(node[NAME]);\n            }\n            return node[NAME];\n         });\n      }\n   }\n\n   static _jQueryInterface(settings) {\n      Util.consoleWarning('jQuery', NAME);\n      return this.each(() => {\n         const nodes = getNodes(this);\n         nodes.forEach((node) => {\n            Collapse._init(node, settings);\n         });\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Collapse._jQueryInterface;\n   $.fn[NAME].Constructor = Collapse;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Collapse._jQueryInterface;\n   };\n\n   document.addEventListener('click', (e) => {\n      const el = e.target.closest('[data-env-collapse]');\n      if (!el) {\n         return;\n      }\n      e.preventDefault();\n      const selector = el.dataset.target || el.getAttribute('href');\n      Collapse._init(document.querySelector(selector));\n   });\n}\n\nexport default async (elements, settings) => {\n   return Collapse._init(elements, settings);\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\nimport { getNextFocusable, getNodes, hide, show, uniqueId } from './util/nodes';\nimport { getPopper } from './util/popper';\n\nconst TOGGLE_DROPDOWN = '[data-dropdown]';\nconst TARGET_DATA_ATTR = 'target';\nconst INDEX_DATA_ATTR = 'envDropdownIndex';\nconst CONTAINER_BODY_DATA_ATTR = 'container';\nconst PLACEMENT_DATA_ATTR = 'placement';\nconst LEGACY_PLACEMENT_BODY_DATA_ATTR = 'dropdownPlacementBody';\nconst INITIALIZED_DATA_ATTR = 'envDropdown';\nconst ENV_DROPDOWN_MENU = '.env-dropdown__menu';\nconst NAME = 'envDropdown';\n\nclass Dropdown {\n   constructor(container, menu, button) {\n      this.button = button;\n      this.container = container;\n      this.placeholder = document.createElement('span');\n      this.menu = menu;\n      this.menuitems = getNodes('.env-dropdown__item', this.menu);\n\n      uniqueId(this.button);\n      uniqueId(this.menu);\n\n      if (!this.button.hasAttribute('aria-haspopup')) {\n         this.button.setAttribute('aria-haspopup', 'true');\n      }\n\n      this.button.setAttribute('aria-controls', this.menu.id);\n\n      this.menu.insertAdjacentElement('beforebegin', this.placeholder);\n      this.menu.setAttribute('aria-labelledby', this.button.id);\n      this.menu.setAttribute('role', 'menu');\n\n      this.menuitems.forEach((el, i) => {\n         const li = el.closest('li');\n         el.dataset[INDEX_DATA_ATTR] = i;\n         el.setAttribute('role', 'menuitem');\n         if (el !== li && this.menu.contains(el.closest('li'))) {\n            // If menuitem has a enveloping LI element it should have role=none\n            li.setAttribute('role', 'none');\n         }\n      });\n\n      this.openInBody =\n         this.button.dataset[CONTAINER_BODY_DATA_ATTR] === 'body' ||\n         typeof this.button.dataset[LEGACY_PLACEMENT_BODY_DATA_ATTR] !==\n            'undefined';\n\n      this.handleButtonClick = this.handleButtonClick.bind(this);\n      this.handleButtonKeyDown = this.handleButtonKeyDown.bind(this);\n      this.handleMenuKeyDown = this.handleMenuKeyDown.bind(this);\n      this.handleOutsideClick = this.handleOutsideClick.bind(this);\n      this.handleOutsideKeyUp = this.handleOutsideKeyUp.bind(this);\n\n      this._bindEventsOnInit();\n   }\n\n   handleButtonClick() {\n      if (this.button.getAttribute('aria-expanded') === 'true') {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   handleButtonKeyDown(e) {\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ') {\n         e.preventDefault();\n         this.show(e.key === 'ArrowUp' ? this.menuitems.length - 1 : 0);\n      }\n   }\n\n   show(focusIndex) {\n      focusIndex = focusIndex || 0;\n      this.button.setAttribute('aria-expanded', 'true');\n      if (this.openInBody) {\n         document.body.appendChild(this.menu);\n      }\n      show(this.menu);\n      this._bindMenuEvents();\n      getPopper().then((createPopper) => {\n         const placementEnd =\n            this.button.dataset[PLACEMENT_DATA_ATTR] === 'end';\n         const placement = placementEnd ? 'bottom-end' : 'bottom-start';\n         this._popper = createPopper(\n            placementEnd ? this.button : this.container,\n            this.menu,\n            {\n               placement: placement,\n               modifiers: {\n                  name: 'flip',\n                  enabled: false,\n               },\n            }\n         );\n         this._popper.update();\n         setTimeout(() => {\n            this.menuitems[focusIndex].focus();\n         }, 1);\n      });\n   }\n\n   hide() {\n      this.button.setAttribute('aria-expanded', 'false');\n      this._unbindMenuEvents();\n      hide(this.menu);\n      if (this.openInBody) {\n         this.placeholder.insertAdjacentElement('afterend', this.menu);\n      }\n   }\n\n   _bindEventsOnInit() {\n      this.button.addEventListener('click', this.handleButtonClick);\n      this.button.addEventListener('keydown', this.handleButtonKeyDown);\n   }\n\n   _bindMenuEvents() {\n      this._unbindMenuEvents();\n      document.addEventListener('click', this.handleOutsideClick);\n      document.addEventListener('keydown', this.handleMenuKeyDown);\n      document.addEventListener('keyup', this.handleOutsideKeyUp);\n   }\n\n   _unbindMenuEvents() {\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('keydown', this.handleMenuKeyDown);\n      document.removeEventListener('keyup', this.handleOutsideKeyUp);\n   }\n\n   handleOutsideClick(e) {\n      const el = e.target;\n      if (!this.button.contains(el) && !this.menu.contains(el)) {\n         this.hide();\n      }\n   }\n\n   handleOutsideKeyUp(e) {\n      const el = e.target;\n      if (!this.button.contains(el) && !this.menu.contains(el)) {\n         this.hide();\n      }\n   }\n\n   handleMenuKeyDown(e) {\n      const el = e.target;\n      const menuItemCount = this.menuitems.length;\n\n      if (e.key === 'Escape') {\n         this.hide();\n         this.button.focus();\n      } else if (this.menu.contains(el) && menuItemCount > 0) {\n         const current = parseInt(el.dataset[INDEX_DATA_ATTR], 10);\n\n         if (e.key === ' ' && el.tagName !== 'BUTTON') {\n            e.preventDefault();\n            const menuItemEl = el.closest('[role=menuitem]');\n            menuItemEl && menuItemEl.click();\n         } else if (e.key === 'Tab') {\n            if (e.shiftKey) {\n               e.preventDefault();\n               this.button.focus();\n            } else if (this.openInBody) {\n               e.preventDefault();\n               const nextFocusable = getNextFocusable(this.button);\n               nextFocusable.focus();\n            }\n            this.hide();\n         } else if (e.key === 'Home') {\n            e.preventDefault();\n            this.menuitems[0].focus();\n         } else if (e.key === 'End') {\n            e.preventDefault();\n            this.menuitems[this.menuitems.length - 1].focus();\n         } else if (e.key === 'ArrowUp') {\n            e.preventDefault();\n            const prev = current > 0 ? current - 1 : this.menuitems.length - 1;\n            this.menuitems[prev].focus();\n         } else if (e.key === 'ArrowDown') {\n            e.preventDefault();\n            const next = current < this.menuitems.length - 1 ? current + 1 : 0;\n            this.menuitems[next].focus();\n         }\n      }\n   }\n}\n\nconst initialize = async (e, btn) => {\n   const button =\n      e.type === 'DOMContentLoaded' && btn\n         ? btn\n         : e.target.closest(TOGGLE_DROPDOWN);\n   if (button && !button[NAME]) {\n      let container =\n         button.dataset[TARGET_DATA_ATTR] &&\n         button.closest(button.dataset[TARGET_DATA_ATTR]);\n      if (!container) {\n         container = button.parentNode;\n      }\n      button[NAME] = true;\n      const menu = container.querySelector(ENV_DROPDOWN_MENU);\n      if (menu) {\n         await getPopper();\n         button[NAME] = new Dropdown(container, menu, button);\n         menu.dataset[INITIALIZED_DATA_ATTR] = 'true';\n         hide(menu);\n         if (e.type === 'click') {\n            button[NAME].handleButtonClick();\n         }\n      }\n   }\n};\n\nif (document) {\n   document.addEventListener('focusin', initialize);\n   document.addEventListener('click', initialize);\n   document.addEventListener('DOMContentLoaded', (e) => {\n      document.body.querySelectorAll(TOGGLE_DROPDOWN).forEach((button) => {\n         initialize(e, button);\n      });\n   });\n}\n\nexport default Dropdown;\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__914__","leafPrototypes","getProto","inProgress","dataWebpackPrefix","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","n","getter","__esModule","d","a","Object","getPrototypeOf","obj","t","value","mode","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","keys","reduce","promises","u","miniCssF","g","globalThis","Function","window","prop","prototype","hasOwnProperty","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","i","length","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","fn","setTimeout","bind","type","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","tagName","toUpperCase","test","Error","replace","p","installedChunks","j","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","some","id","chunkLoadingGlobal","getNodes","elements","nodes","domNodes","querySelectorAll","nodeType","getNode","htmlString","template","innerHTML","content","firstElementChild","wrapElement","node","wrapperEl","replaceWith","PREV_ATTR","resetStyle","prevVal","style","setProperty","removeProperty","removeAttribute","setStyle","val","prio","getPropertyValue","propVal","getPropertyPriority","setAttributes","attributes","attr","lockScroll","body","unlockScroll","hide","show","el","displayValue","getComputedStyle","display","remove","resetDisplay","isVisible","element","offsetWidth","offsetHeight","getClientRects","getFocusable","SELECTOR","join","allFocusable","visibleFocusable","uniqueId","getId","getElementById","Popper","getPopper","async","createPopper","Util","consoleWarning","issue","args","DOC_URL","issues","jQuery","jqName","envName","charAt","toLowerCase","slice","component","componentName","anchor","replacementComponent","console","warn","getLanguageOptions","i18nSetting","langObj","rootEl","i18n","getLangObj","lang","documentElement","closest","substring","assign","isPlainObject","proto","extend","extended","deep","toString","arguments","merge","normalizeOptions","options","defaults","NAME","POPOVER_CLASSNAME","ARROW_CLASSNAME","HEADER_CLASSNAME","TITLE_CLASSNAME","CONTENT_CLASSNAME","MENU_CLASSNAME","DEFAULTS","clickOutside","constraints","container","delay","escapeContent","placement","containerModifier","contentClassName","title","trigger","Popover","constructor","config","dataset","bindEvents","handleClick","isShowing","handleInEvent","hidetimeout","showtimeout","handleOutEvent","bindPopoverEvents","handleKeyboardEvent","triggers","split","handlePopoverMouseEnter","handlePopoverMouseLeave","clickOutsideHandler","addEventListener","hoverTrigger","inEvent","outEvent","removeEvents","removeEventListener","contains","popoverElement","getPopoverElement","once","getPopoverTemplate","tmp","firstChild","setText","className","text","querySelector","textContent","setTitle","header","setContent","HTMLElement","updateConfig","render","_popper","modifiers","offset","update","destroy","_init","settings","map","_jQueryInterface","each","NO_CONFLICT","$","Constructor","noConflict","XML_NS","sv","add","remove_button","clear_button","no_results","en","no","staticConfig","wrapperClass","inputClass","dropdownClass","dropdownContentClass","itemClass","optionClass","plugins","caret_position","userConfig","allowEmptyOption","valueField","labelField","searchField","dropdownParent","maxItems","maxOptions","items","clearButton","placeholder","sortField","b","aText","bText","localeCompare","createFilter","input","preload","option","escape","item","option_create","loading","load","onInitialize","onChange","onItemAdd","onItemRemove","onClear","onOptionAdd","onOptionRemove","onOptionClear","onDropdownOpen","onDropdownClose","onType","onFocus","onBlur","onLoad","SelectPlugin","TomSelect","classList","select","control","svgEl","createElementNS","useEl","setAttributeNS","wrapper","addOptions","addOption","getOption","updateOption","removeOption","getItem","addItem","refreshOptions","getValue","setValue","open","close","clear","clearOptions","clearFilter","lock","disabled","readOnly","control_input","unlock","focus","blur","disable","enable","default","getSettings","ARIA_SELECTED","ARIA_HIDDEN","DATA_INDEX","IS_ACTIVE","active","Tabs","tabs","panels","activeTab","_clickHandler","preventDefault","_setActive","currentTarget","_keydownHandler","stacked","focusTab","_getIndex","_setFocus","_bindEvents","initialize","tab","panel","activate","index","initialized","_resetActive","_getPanelForTab","dispatchEvent","CustomEvent","bubbles","cancelable","detail","parseInt","argument","TOOLTIP_CLASSNAME","TOOLTIP_DISPLAY_MODIFER","enabled","Tooltip","tooltip","handleShowEvent","handleHideEvent","handleHoverIntent","ANIMATION","BACKDROP_ANIMATION","EVENT_KEY","next","moveto","SELECTORS","ClassName","Events","CLICK_DATA_API","TOUCHEND","TOUCHMOVE","TOUCHSTART","BASE_SETTINGS","Imageviewer","$el","$images","find","_isShown","on","_click","_getNextItemIndex","_getPrevItemIndex","Number","href","removeClass","$btnContainer","addClass","$downloadingImage","_loadImage","$imgContainer","html","_setActiveIndicatorElement","$modal","class","append","appendTo","_getButtons","_getIndicators","_bindContainerEvents","_showBackdrop","prependTo","$backdrop","one","removeBackdropCallback","$target","is","parent","$imageModal","tabindex","imageHeight","height","imageWidth","width","windowHeight","innerHeight","css","children","eq","viewerIndex","_getIndicatorItems","activeElementIndex","isActive","hasClass","_removeBackdropAnimation","focusableElements","firstElement","lastElement","_keydown","shiftKey","indicator","imageViewers","_swipe","getSwipe","Swipe","CLASSNAME","AUTOPLAY_STATE","ICON","getButtonIcon","iconName","getButtonElement","as","icon","controls","buttonEl","TEMPLATE","LIGHTBOX","SPINNER","SLIDER_VIEWER_TEMPLATE","SLIDER_ITEM_TEMPLATE","SLIDER_CONTROLS_TEMPLATE","Imageviewer2Lightbox","bindThis","slides","altEl","captionEl","startsWith","alt","caption","hasAttribute","figcaption","trim","getImageCount","loadImage","imgContainer","lightboxBgPanel","figureEl","imgEl","Image","imageData","buttons","download","replaceChildren","prepend","setVisibleButtons","createLightbox","showText","move","fadeIn","showLightbox","showModal","auto","Event","fadeOutCallback","getCurrentIndex","findIndex","image","goTo","#prev","activeElement","isEqualNode","focusable","toggle","Imageviewer2Slider","lightbox","setupSlider","setupSliderControls","prefersReducedMotion","matchMedia","matches","setSliderAriaLive","setPlayButton","overlay","speed","draggable","stopPropagation","transitionEnd","playing","slide","getPos","roledescription","slideCount","childNode","of","getSliderButtonClassNames","ghost","size","containerEl","prevBtn","nextBtn","zoomBtn","pause","slideshow","zoom","largeImage","state","stop","restart","#next","viewerEl","currentSlideEl","assistiveText","ariaLive","play","#handlePauseEvent","#handleTransitionEnd","elem","#handleLightboxZoom","slidesDefaults","Imageviewer2","slider","slideOptions","HANDLE_INDEX","EVENTS","min","max","step","values","visibleValues","RangeSlider","handlesEl","rangeEl","valueHoldersEl","_setupHandles","_refreshRange","Array","isArray","_trimAlignValue","lastValPercent","valPercent","handle","_getValue","innerText","_initSlide","_initKeySlide","_stopKeySlide","box","getBoundingClientRect","docEl","top","scrollY","clientTop","left","scrollX","clientLeft","position","_getPosition","normValue","_normValueFromMouse","closestHandleEl","thisDistance","distance","_handleSlide","_stopSlide","Math","abs","_lastChangedValue","_handleIndex","boundingClientRect","compStyle","_clickOffset","x","y","borderTopWidth","borderBottomWidth","marginTop","_slide","newVal","otherVal","currentValue","newValues","_getValues","_trigger","_setValue","_keySliding","curVal","pixelTotal","valueTotal","percentMouse","valueMouse","pos","touches","pageX","pageY","valModStep","alignValue","parseFloat","toFixed","newValue","deprecadedEvt","evt","deprecatedType","jqEvents","reflow","getToggleSpeed","durationCustomProperty","duration","includes","Dialog","_bindThis","envDialogPlaceholder","opener","_bindOpenEvent","_fadeIn","_bindModalEvents","capture","backdropClick","after","dialogDefaults","DISMISS_SELECTOR","FOCUSIN","SHOW","ModalDialog","$body","$placeholder","placementBody","CssUtil","showEvent","shownEvent","_getModifierBase","removeAttr","hideEvent","hideModalCallback","hiddenEvent","off","before","_unbindEvents","has","getDialogSettings","action","selector","imageSlider","interval","keyboard","swipe","wrap","ACTIVE","ACTIVE__CHILD","ACTIVE_DOT","ACTIVE_ITEM","DATA_SLIDE","SLIDER_DATA_ATTRIBUTE","INDICATORS","INDICATOR_ITEMS","INNER","NEXT_PREV","ITEM","THUMBNAILS","THUMBNAIL__ITEMS","Direction","KEYDOWN","MOUSEENTER","MOUSELEAVE","SLID","SLIDE","JQSLID","JQSLIDE","Imageslider","isPaused","_addSlideButtons","nextWhenVisible","hidden","clearInterval","cycle","setInterval","visibilityState","activeIndex","_getItemIndex","direction","startTouchSlide","touchstartx","moveTouchSlide","touchmovex","movex","moved","activeItem","endTouchSlide","dispose","cloneNode","envImagesliderJQ","sliderId","prevButton","nextButton","_getItemByDirection","isNextDirection","lastImageIndex","itemIndex","touchTimeout","_bindTouchSlider","clickTarget","dataSet","targetEl","moveTo","slideIndex","envImagesliderIndex","_triggerSlideEvent","targetElement","eventDirectionName","targetIndex","fromIndex","slideEvent","from","to","defaultPrevented","isDefaultPrevented","nextIndicator","nextElement","nextElementIndex","directionalClassName","orderClassName","slidEvent","relatedTarget","isJQuery","imageSliders","slideUp","transitionProperty","transitionDuration","computed","boxSizing","pt","paddingTop","pb","paddingBottom","bt","bb","overflow","marginBottom","complete","slideDown","ARIA_CONTROLS","ARIA_EXPANDED","DATA_EXPANDED","MODIFIER_BASE","TOGGLER_ATTR","Accordion","toggler","parentEl","togglerEl","_hide","force","Element","EXPANDED","Collapse","getAnimations","TOGGLE_DROPDOWN","TARGET_DATA_ATTR","INDEX_DATA_ATTR","Dropdown","menu","button","menuitems","insertAdjacentElement","li","openInBody","handleButtonClick","handleButtonKeyDown","handleMenuKeyDown","handleOutsideClick","handleOutsideKeyUp","_bindEventsOnInit","focusIndex","_bindMenuEvents","placementEnd","_unbindMenuEvents","menuItemCount","menuItemEl","click","getNextFocusable","nextFocusable","btn"],"sourceRoot":""}