/*! For license information please see envision.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.envision=t(require("jquery")):e.envision=t(e.jQuery)}(this,(e=>(()=>{var t,i,n,s,o={448:()=>{"undefined"!=typeof Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}))},807:()=>{!function(){"use strict";if("undefined"!=typeof window&&window.addEventListener){var e,t,i,n=Object.create(null),s=function(){clearTimeout(t),t=setTimeout(e,100)},o=function(){},r=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var i,n,s;return window.XMLHttpRequest&&(i=new XMLHttpRequest,n=t(location),s=t(e),i=void 0===i.withCredentials&&""!==s&&s!==n?XDomainRequest||void 0:XMLHttpRequest),i},a="http://www.w3.org/1999/xlink";e=function(){var e,t,i,l,h,d,c,u,v,g,m=0;function p(){var e;0===(m-=1)&&(o(),window.addEventListener("resize",s,!1),window.addEventListener("orientationchange",s,!1),window.MutationObserver?((e=new MutationObserver(s)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",s,!1),window.removeEventListener("orientationchange",s,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",s,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",s,!1),window.removeEventListener("resize",s,!1),window.removeEventListener("orientationchange",s,!1)}))}function f(e){return function(){!0!==n[e.base]&&(e.useEl.setAttributeNS(a,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function b(e){return function(){var t,i=document.body,n=document.createElement("x");e.onload=null,n.innerHTML=e.responseText,(t=n.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",i.insertBefore(t,i.firstChild)),p()}}function _(e){return function(){e.onerror=null,e.ontimeout=null,p()}}for(o(),v=document.getElementsByTagName("use"),h=0;h<v.length;h+=1){try{t=v[h].getBoundingClientRect()}catch(e){t=!1}e=(u=(l=v[h].getAttribute("href")||v[h].getAttributeNS(a,"href")||v[h].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""])[0],i=u[1],d=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!d?(v[h].hasAttribute("href")&&v[h].setAttributeNS(a,"xlink:href",l),e.length&&(!0!==(g=n[e])&&setTimeout(f({useEl:v[h],base:e,hash:i}),0),void 0===g&&void 0!==(c=r(e))&&(g=new c,n[e]=g,g.onload=b(g),g.onerror=_(g),g.ontimeout=_(g),g.open("GET",e),g.send(),m+=1))):d?e.length&&n[e]&&setTimeout(f({useEl:v[h],base:e,hash:i}),0):void 0===n[e]?n[e]=!0:n[e].onload&&(n[e].abort(),delete n[e].onload,n[e]=!0)}v="",m+=1,p()},i=function(){window.removeEventListener("load",i,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",i,!1):i()}}()},47:t=>{"use strict";t.exports=e}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return o[e].call(i.exports,i,i.exports,a),i.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var s=Object.create(null);a.r(s);var o={};t=t||[null,i({}),i([]),i(i)];for(var r=2&n&&e;"object"==typeof r&&!~t.indexOf(r);r=i(r))Object.getOwnPropertyNames(r).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,a.d(s,o),s},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,i)=>(a.f[i](e,t),t)),[])),a.u=e=>({448:"popper",462:"tom-select"}[e]+"-"+{448:"8269852faad6d9029074",462:"69688c39429631fe9e77"}[e]+".js"),a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},s="envision:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var r,l;if(void 0!==i)for(var h=document.getElementsByTagName("script"),d=0;d<h.length;d++){var c=h[d];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==s+i){r=c;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",s+i),r.src=e),n[e]=[t];var u=(t,i)=>{r.onerror=r.onload=null,clearTimeout(v);var s=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((e=>e(i))),t)return t(i)},v=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(t,i)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,s)=>n=e[t]=[i,s]));i.push(n[2]=s);var o=a.p+a.u(t),r=new Error;a.l(o,(i=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,n[1](r)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,o=i[0],r=i[1],l=i[2],h=0;if(o.some((t=>0!==e[t]))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)l(a)}for(t&&t(i);h<o.length;h++)s=o[h],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=this.webpackChunkenvision=this.webpackChunkenvision||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var l={};return(()=>{"use strict";a.r(l),a.d(l,{accordion:()=>at,collapse:()=>vt,dialog:()=>Ce,imageSlider:()=>it,imageViewer:()=>oe,popover:()=>T,rangeSlider:()=>ve,select:()=>k,tabs:()=>M,tooltip:()=>R});a.p;var e=a(47),t=a.n(e);const i=function(e,t){const i=[];if(t=t||document,e&&"string"==typeof e){let n=t.querySelectorAll(e);if(n&&n.length>0)for(let e=0;e<n.length;e++)i.push(n[e])}else if(e&&"object"==typeof e)if(1===e.nodeType)i.push(e);else if(e.length>0)for(let t=0;t<e.length;t++)i.push(e[t]);return i},n=function(e,t){return i(e,t)[0]},s="data-env-prev-style",o=function(e,t){const i=e.getAttribute(`${s}-${t}-val`);i?e.style.setProperty(t,i,e.getAttribute(`${s}-${t}-prio`)):e.style.removeProperty(t),e.removeAttribute(`${s}-${t}-val`),e.removeAttribute(`${s}-${t}-prio`)},r=function(e,t,i,n){if(e.style.getPropertyValue(t)){const i=e.style.getPropertyValue(t);i&&(e.setAttribute(`${s}-${t}-val`,i),e.setAttribute(`${s}-${t}-prio`,e.style.getPropertyPriority(t)))}e.style.setProperty(t,i,n)},h=(e,t)=>{Object.keys(t).forEach((i=>{e.setAttribute(i,t[i])}))},d=function(){r(document.body,"overflow-x",""),r(document.body,"overflow-y",""),r(document.body,"overflow","hidden","important")},c=function(){["overflow","overflow-x","overflow-y"].forEach((e=>{o(document.body,e)}))},u=function(e){i(e).forEach((e=>{r(e,"display","none","important")}))},v=function(e){i(e).forEach((e=>{o(e,"display")}))},g=(()=>{let e=0;const t=()=>(e+=1,"env-"+e);return e=>{i(e).forEach((e=>{if(!e.id){let i=t();for(;document.getElementById(i);)i=t();e.id=i}}))}})();let m;const p=async()=>{if(m)return m;const{createPopper:e}=await a.e(448).then(a.bind(a,628));return m=e,m},f=(()=>{const e={consoleWarning:function(e){const t="https://envisionui.io/",i={jQuery:e=>{let i=e.replace(/^env/,"").replace(/Imageslider/,"imageSlider").replace(/Imageviewer/,"imageWiewer");return i=i.charAt(0).toLowerCase()+i.slice(1),`WARNING: $.fn.${e} is deprecated. Please update your code with new method envision.${i}. Refer to ${t}warnings/#jquery for documentation.`}};if(Object.prototype.hasOwnProperty.call(i,e)){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];console.warn(i[e](...s))}},getLanguageOptions(e,t,i){let n={};const s=()=>{let e=(i=i||document.documentElement).closest("[lang]").getAttribute("lang").substring(0,2);return Object.prototype.hasOwnProperty.call(t,e)||(e="en"),Object.prototype.hasOwnProperty.call(t,e)?t[e]:{}};return n="string"==typeof e&&Object.prototype.hasOwnProperty.call(t,e)?Object.assign({},t[e]):this.isPlainObject(e)?Object.assign({},s(),e):Object.assign({},s()),n},isPlainObject(e){if("object"==typeof e&&null!==e){const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1},extend(){const t={};let i=!1;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0]);const n=function(n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i&&"[object Object]"===Object.prototype.toString.call(n[s])?t[s]=e.extend(!0,t[s],n[s]):t[s]=n[s])};for(let e=0;e<arguments.length;e++){n(arguments[e])}return t},normalizeOptions(e,t){if(e=this.isPlainObject(e)?e:{},!this.isPlainObject(t))return console.error("defaults is not an object"),e;for(let i in e)Object.prototype.hasOwnProperty.call(t,i)||delete e[i];return e}};return e})(),b=f,_="envPopover",w="env.popover",y=".env.popover",E={clickOutside:!1,constraints:[],container:"body",content:"",delay:0,escapeContent:!0,placement:"top",template:'<div class="env-popover" role="tooltip">\n                  <div class="env-popover__arrow"></div>\n                  <div class="env-popover__header">\n                     <h4 class="env-ui-text-overline env-popover__header__title"></h4>\n                  </div>\n                  <div class="env-popover__content"></div>\n               </div>',title:"",trigger:"click"};class I{constructor(e,i){this.el=e,this.$el=t()(this.el),this.config={...E,...this.$el.data(),...i},this.bindEvents()}bindEvents(){this.config.trigger.split(" ").forEach((e=>{if("click"===e)this.$el.on(this.config.trigger+y,(()=>{this.isShowing?this.hide():this.show()}));else{const t="hover"===e,i=t?"mouseenter":"focusin",n=t?"mouseleave":"focusout";this.$el.on(i+y,(()=>{this.config.delay>0?(this.hidetimeout&&clearTimeout(this.hidetimeout),this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing||(this.showtimeout=setTimeout((()=>{this.show()}),this.config.delay))):this.isShowing||this.show()})).on(n+y,(()=>{this.config.delay>0?(this.hoverPopover(),this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing&&(this.hidetimeout=setTimeout((()=>{this.hide()}),this.config.delay))):this.isShowing&&this.hide()}))}}))}hoverPopover(){const e=this.getPopoverElement();e.off("mouseenter").on("mouseenter",(()=>{this.hidetimeout&&clearTimeout(this.hidetimeout),this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing||(this.showtimeout=setTimeout((()=>{this.show()}),this.config.delay))})),e.off("mouseleave").on("mouseleave",(()=>{this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing&&(this.hidetimeout=setTimeout((()=>{this.hide()}),this.config.delay))}))}getPopoverElement(){return this.$popoverElement||(this.$popoverElement=t()(this.config.template),g(this.$popoverElement[0])),this.$popoverElement}setText(e,t,i){e.find(t)[this.config.escapeContent?"text":"html"](i)}setTitle(e){this.config.title?this.setText(e,".env-popover__header__title",this.config.title):this.$popoverElement.find(".env-popover__header").remove()}setContent(e){this.setText(e,".env-popover__content",this.config.content)}updateConfig(e){return Object.assign(this.config,e),this}render(){const e=this.getPopoverElement();this.arrowEl=this.$popoverElement.find(".env-popover__arrow")[0],this.setTitle(e),this.setContent(e)}hide(){const e=this.getPopoverElement();this.el.removeAttribute("aria-describedby"),e.detach(),this.config.clickOutside&&t()("body").off(this.config.trigger+y,this.clickOutsideHandler),this.isShowing=!1}show(){this.render();const e=this.getPopoverElement();this.el.setAttribute("aria-describedby",this.$popoverElement[0].id),t()("body").append(e),p().then((i=>{this._popper=i(this.el,e[0],{placement:this.config.placement,modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"arrow",options:{element:".env-popover__arrow"}}]}),this._popper.update(),this.config.clickOutside&&t()("body").on(this.config.trigger+y,this.clickOutsideHandler.bind(this)),this.isShowing=!0}))}destroy(){this.hide(),this._popper&&this._popper.destroy(),this.$popoverElement=void 0,this._popper=void 0,this.isShowing=!1,this.$el.off(),this.$el.removeData(w)}clickOutsideHandler(e){const i=e.target,n=t()(i);!this.isShowing||this.el.contains(i)||n.closest(this.$popoverElement).length||this.hide()}static async _init(e,t){const n=i(e);if(n.length>0){await p();return n.map((e=>{if(e[_]||(e[_]=new I(e,t)),"string"==typeof t){if(!e[_][t])throw new Error(`No method named "${t}"`);e[_][t].call(e[_])}return e[_]}))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",_),this.each((()=>{i(this).forEach((t=>{I._init(t,e)}))}))}}if("undefined"!=typeof document){const e=t().fn[_];t().fn[_]=I._jQueryInterface,t().fn[_].Constructor=I,t().fn[_].noConflict=()=>(t().fn[_]=e,I._jQueryInterface)}const T=async(e,t)=>I._init(e,t),$={sv:{add:"Lägg till",remove_button:"Ta bort val",clear_button:"Ta bort alla val",no_results:"Inga alternativ matchar"},en:{add:"Add",remove_button:"Remove",clear_button:"Clear all",no_results:"No results found"}},A={staticConfig:{wrapperClass:"env-select",inputClass:"env-select__input",dropdownClass:"env-select__dropdown",dropdownContentClass:"env-select__dropdown__content",itemClass:"env-select__item",optionClass:"env-select__dropdown__option",plugins:{caret_position:{},remove_button:{title:`${$.sv.remove_button}`,className:"env-select__item__remove"},clear_button:{title:`${$.sv.clear_button}`,className:"env-select__input__clear"}}},userConfig:{valueField:"value",labelField:"text",searchField:["text"],dropdownParent:null,maxItems:null,options:null,maxOptions:null,items:null,create:!1,clearButton:!0,placeholder:null,sortField:function(e,t){const i=this.items[e.id].text,n=this.items[t.id].text;return i&&n?i.localeCompare(n):0},createFilter:function(e){return!((e=e.toLowerCase())in this.options)},preload:!1,render:{option:function(e,t){return"<div>"+t(e[this.settings.labelField])+"</div>"},item:function(e,t){return"<div>"+t(e[this.settings.labelField])+"</div>"},option_create:function(e,t){return`<div class="create">${this.settings.i18n.add} <strong>${t(e.input)}</strong>&hellip;</div>`},no_results:function(){return`<div class="no-results">${this.settings.i18n.no_results}</div>`},loading:function(){return'<div class="env-select__spinner env-spinner-bounce"><div class="env-bounce1"></div><div class="env-bounce2"></div><div class="env-bounce3"></div></div>'}},load:null,onInitialize:null,onChange:null,onItemAdd:null,onItemRemove:null,onClear:null,onOptionAdd:null,onOptionRemove:null,onOptionClear:null,onDropdownOpen:null,onDropdownClose:null,onType:null,onFocus:null,onBlur:null,onLoad:null,i18n:"sv"}},C=function(e,t,i){this.el=e,this.settings=t,this.el.classList.remove("env-form-input");let n=new i(this.el,this.settings);return n.control.classList.add("env-select__input"),n.input.classList.add("env-assistive-text"),this.addOptions=n.addOption.bind(n),this.load=n.load.bind(n),this.getOption=n.getOption.bind(n),this.updateOption=n.updateOption.bind(n),this.removeOption=n.removeOption.bind(n),this.getItem=n.getItem.bind(n),this.addItem=n.addItem.bind(n),this.refreshOptions=n.refreshOptions.bind(n),this.getValue=n.getValue.bind(n),this.setValue=n.setValue.bind(n),this.open=n.open.bind(n),this.close=n.close.bind(n),this.clear=n.clear.bind(n),this.clearOptions=n.clearOptions.bind(n),this.clearFilter=n.clearFilter.bind(n),this.lock=function(){n.lock(),"SELECT"===n.input.tagName&&(n.input.disabled=!0),n.input.readOnly=!0,n.control_input.readOnly=!0},this.unlock=function(){n.unlock(),"SELECT"===n.input.tagName&&(n.input.disabled=!1),n.input.readOnly=!1,n.control_input.readOnly=!1},this.focus=n.focus.bind(n),this.blur=n.blur.bind(n),this.disable=n.disable.bind(n),this.enable=n.enable.bind(n),this.destroy=function(){n.destroy();for(let e in this)Object.prototype.hasOwnProperty.call(this,e)&&delete this[e];n=null},(this.el.classList.contains("env-select--locked")||null!==this.el.getAttribute("readonly"))&&(n.control_input.classList.remove("env-select--locked"),n.input.classList.remove("env-select--locked"),this.lock()),this},k=async(e,t)=>{const n=i(e);if(n.length>0){const{default:e}=await a.e(462).then(a.t.bind(a,592,23));return n.map((i=>(t=((e,t)=>{(e=b.normalizeOptions(e,A.userConfig)).render={...A.userConfig.render,...e.render},(e=Object.assign({},A.staticConfig,A.userConfig,e)).clearButton||delete e.plugins.clear_button,e.items||delete e.items,e.placeholder||delete e.placeholder,e.options||delete e.options,e.i18n=b.getLanguageOptions(e?.i18n,$,t);for(let t in e.plugins)e.plugins[t].title&&e.i18n[t]&&(e.plugins[t].title=e.i18n[t]);return e})(t,i),i.envSelect||(i.envSelect=new C(i,t,e)),i.envSelect)))}},S="aria-selected",x="aria-hidden",L="data-env-tabs-index",O="env-tabs__link--active",D="envTabs",j={active:0};class P{constructor(e,t){this.el=e,this.tabs=i(this.el.querySelectorAll('[role="tab"]')),this.panels={},this.activeTab=void 0,this.config=Object.assign({},j,b.normalizeOptions(t,j)),this._clickHandler=(e=>{e.preventDefault(),this._setActive(e.currentTarget,!0)}).bind(this),this._keydownHandler=(e=>{const t=this.el.querySelector(".env-tabs--column");if("Enter"===e.key||" "===e.key)e.preventDefault(),this._setActive(e.currentTarget,!0);else if(t&&("ArrowUp"===e.key||"ArrowDown"===e.key)||!t&&("ArrowLeft"===e.key||"ArrowRight"===e.key)){e.preventDefault();let t=this._getIndex(e.currentTarget)+("ArrowLeft"===e.key||"ArrowUp"===e.key?-1:1);t>this.tabs.length-1?t=0:t<0&&(t=this.tabs.length-1),this._setFocus(this.tabs[t])}}).bind(this),this._bindEvents()}initialize(){this.tabs.forEach(((e,t)=>{g(e);let i=document.getElementById(e.getAttribute("aria-controls"));i||document.querySelector(e.getAttribute("href")),this.panels[e.getAttribute("id")]=i,("true"===e.getAttribute(S)||e.classList.contains(O))&&(this.config.active=t),e.classList.remove(O),e.setAttribute(S,!1),e.setAttribute(L,t),e.setAttribute("tabindex","-1"),i&&(i.setAttribute("tabindex","0"),i.setAttribute("role","tabpanel"),i.setAttribute(x,!0),i.classList.add("env-tabs__panel"),u(i))})),this.tabs[this.config.active].setAttribute("tabindex","0"),this._setActive(this.tabs[this.config.active],!1)}activate(e){e>=0&&e<this.tabs.length&&this._setActive(this.tabs[e],!0)}destroy(){this.tabs.forEach((e=>{e.removeEventListener("click",this._clickHandler,!1),e.removeEventListener("keydown",this._keydownHandler,!1),e.removeAttribute(L)}));for(let e in this)delete this[e]}_bindEvents(){this.tabs.forEach((e=>{e.addEventListener("click",this._clickHandler,!1),e.addEventListener("keydown",this._keydownHandler,!1)}))}_setFocus(e){this.tabs.forEach((e=>{e.setAttribute("tabindex","-1")})),e.setAttribute("tabindex","0"),e.focus()}_setActive(e,t){this._resetActive(),e.classList.add(O),e.setAttribute(S,!0),t&&this._setFocus(e);const i=this._getPanelForTab(e);i&&(i.setAttribute(x,!1),v(i)),this.activeTab=e,this.activeTab.dispatchEvent(new CustomEvent("envision.tabs.activated",{bubbles:!0,cancelable:!0,detail:{tab:this.activeTab,panel:this._getPanelForTab(this.activeTab)}}))}_getIndex(e){return parseInt(e.getAttribute(L),10)}_getPanelForTab(e){return this.panels[e.getAttribute("id")]}_resetActive(){if(this.activeTab){this.activeTab.classList.remove(O),this.activeTab.setAttribute(S,!1);const e=this._getPanelForTab(this.activeTab);e&&(e.setAttribute(x,!0),u(e))}}static _init(e,t,n){const s=i(e);if(s.length>0){return s.map((e=>{if(e.envTabs||(e.envTabs=new P(e,t),e.envTabs.initialize()),"string"==typeof t){if(!e.envTabs[t])throw new Error(`Invalid method name "${t}"`);e.envTabs[t].call(e.envTabs,n)}return e.envTabs}))}}static _jQueryInterface(e,t){return b.consoleWarning("jQuery",D),this.each((()=>{i(this).forEach((i=>{P._init(i,e,t)}))}))}}if("undefined"!=typeof document){const e=t().fn.envTabs;t().fn.envTabs=P._jQueryInterface,t().fn.envTabs.Constructor=P,t().fn.envTabs.noConflict=()=>(t().fn.envTabs=e,P._jQueryInterface)}const M=async(e,t,i)=>P._init(e,t,i),N="env-tooltip",V={placement:"top",delay:200,modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"flip",enabled:!0}]};class H{constructor(e,t){this.container=e,this.el=e.querySelector(':not([role="tooltip"])'),this.tooltip=e.querySelector('[role="tooltip"]'),this.el&&this.tooltip&&(this.config={...V,...this.container.dataset,...t},this.container.classList.add(N),"inline"===getComputedStyle(this.container).getPropertyValue("display")&&this.container.classList.add("env-tooltip--inline"),g(this.tooltip),this.el.setAttribute("aria-describedby",this.tooltip.id),r(this.tooltip,"display","none"),this.tooltip.innerHTML=this.tooltip.textContent,this.handleShowEvent=this.handleShowEvent.bind(this),this.handleHideEvent=this.handleHideEvent.bind(this),this.handleHoverIntent=this.handleHoverIntent.bind(this),this.handleKeyboardEvent=this.handleKeyboardEvent.bind(this),this.bindEvents())}handleShowEvent(){this.hidetimeout&&clearTimeout(this.hidetimeout),this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing||(this.showtimeout=setTimeout((()=>{this.show()}),this.config.delay))}handleHideEvent(){this.showtimeout&&clearTimeout(this.showtimeout),this.isShowing&&(this.hidetimeout=setTimeout((()=>{this.hide()}),this.config.delay))}handleKeyboardEvent(e){"Escape"===e.key&&this.hide()}handleHoverIntent(){this.tooltip.removeEventListener("mouseenter",this.handleShowEvent),this.tooltip.addEventListener("mouseenter",this.handleShowEvent),this.tooltip.removeEventListener("mouseleave",this.handleHideEvent),this.tooltip.addEventListener("mouseleave",this.handleHideEvent)}bindEvents(){this.el.addEventListener("mouseenter",this.handleShowEvent),this.el.addEventListener("focusin",this.handleShowEvent),this.el.addEventListener("mouseleave",this.handleHoverIntent),this.el.addEventListener("focusout",this.handleHoverIntent),this.el.addEventListener("mouseleave",this.handleHideEvent),this.el.addEventListener("focusout",this.handleHideEvent)}hide(){r(this.tooltip,"display","none"),this.isShowing=!1,document.removeEventListener("keyup",this.handleKeyboardEvent)}show(){r(this.tooltip,"display","block"),p().then((e=>{this._popper=e(this.container,this.tooltip,{placement:this.config.placement,modifiers:this.config.modifiers}),this._popper.update(),this.isShowing=!0})),document.addEventListener("keyup",this.handleKeyboardEvent)}destroy(){this.hide(),this._popper&&this._popper.destroy(),this._popper=void 0,this.isShowing=!1,this.el.removeEventListener("mouseenter",this.handleShowEvent),this.el.removeEventListener("focusin",this.handleShowEvent),this.el.removeEventListener("mouseleave",this.handleHideEvent),this.el.removeEventListener("focusout",this.handleHideEvent),this.el.removeEventListener("mouseleave",this.handleHoverIntent),this.el.removeEventListener("focusout",this.handleHoverIntent)}static async _init(e,t){const n=i(e=e||".env-tooltip");if(n.length>0)return await p(),n.map((e=>{if(e.envTooltip||(e.envTooltip=new H(e,t)),"string"==typeof t){if(!e.envTooltip[t])throw new Error(`No method named "${t}"`);e.envTooltip[t].call(e.envTooltip)}return e.envTooltip}))}}"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",H._init);const R=async(e,t)=>H._init(e,t),Q="env-animation-in-progress",B="env-image-viewer__backdrop--in",K=".env.image-viewer",U="envImageviewer",q={sv:{prev:"Föregående",next:"Nästa",moveto:"Gå till bild"},en:{prev:"Previous",next:"Next",moveto:"Move to image"}},F=".env-is-active",W="[data-move-to]",z="[data-move]",J="[data-image-viewer]",X=".env-image-viewer__images",G=".env-image-viewer__indicators",Y=".env-spinner",Z="env-is-active",ee="env-image-viewer--hidden",te="env-spinner--hide",ie={CLICK_DATA_API:`click${K}.data-api`,TOUCHEND:`touchend${K}`,TOUCHMOVE:`touchmove${K}`,TOUCHSTART:`touchstart${K}`},ne=0;class se{constructor(e,i){this.$el=t()(e),this.$images=this.$el.find(X),this._isShown=!1,this.config=t().extend({},{i18n:b.getLanguageOptions(i?.i18n,q,e)},this.$el.data());const n=i&&this.$images.length>i.index?i.index:ne;this.config.index=n,this.$el.on(ie.CLICK_DATA_API,this._click.bind(this))}next(){this.show(this._getNextItemIndex())}prev(){this.show(this._getPrevItemIndex())}show(e){e=e||0,this.config.index=Number(e);const i=t()(this.$images[e])[0].getAttribute("href");if(this._isShown){t()(Y).removeClass(te),this.$btnContainer.addClass(ee);const e=this._loadImage(i);this.$imgContainer.html(e),this._setActiveIndicatorElement()}else{this.$modal=t()("<div/>",{class:"env-image-viewer__modal"}),this.$btnContainer=t()("<div/>",{class:"env-image-viewer__dialog"}),this.$imgContainer=t()("<div/>",{class:"env-image-viewer__modal-container"}),this.$modal.append(this.$btnContainer),this.$btnContainer.append(this.$imgContainer),this.$modal.appendTo(document.body),this.$images.length>1&&(this.$btnContainer.append(this._getButtons()),this.$btnContainer.append(this._getIndicators())),this.$btnContainer.addClass(ee);const e=this._loadImage(i);this.$imgContainer.html(e),this._isShown=!0,d(),this._bindContainerEvents(),this._bindEvents(),this._showBackdrop(),t()('<div class="env-spinner">\n                                <div class="env-rect1"></div>\n                                <div class="env-rect2"></div>\n                                <div class="env-rect3"></div>\n                                <div class="env-rect4"></div>\n                                <div class="env-rect5"></div>\n                             </div>').prependTo(this.$modal)}}hide(){this.$backdrop.one("transitionend",(()=>{this.$backdrop.remove(),this.$modal.remove(),this.$btnContainer.remove(),this.$imgContainer.remove(),c()})).removeClass(B),this._isShown=!1}_click(e){e.preventDefault();const i=t()(e.target);i.is("img")?this.show(this.$images.index(i.parent())):i.is("a.env-image-viewer__images")&&this.show(this.$images.index(i))}_loadImage(e){const i=t()("<img>"),n=t()(".env-image-viewer__dialog");return i.addClass("env-image-viewer__img").attr({tabindex:"-1",src:e}).on("load",(()=>{const e=i.height(),s=i.width(),o=window.innerHeight;s>800&&n.css({"max-width":"80%"}),o<e&&i.css({"max-height":.8*o}),t()(Y).addClass(te),this.$btnContainer.removeClass(ee),this.$imgContainer.children().eq(0).trigger("focus")})),i}_bindContainerEvents(){this.$btnContainer.on(ie.CLICK_DATA_API,z,(e=>{e.preventDefault(),"next"===t()(e.currentTarget).data("move")?this.next():this.prev()})),this.$btnContainer.on(ie.CLICK_DATA_API,W,(e=>{const t=e.currentTarget.getAttribute("data-move-to");t&&this.show(t)}))}_getButtons(){return`<button type="button" class="env-image-viewer--prev" data-move="prev">\n               <svg class="env-image-viewer__prev-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-left"></use>\n               </svg>\n               <span class="env-assistive-text">${this.config.i18n.prev}</span>\n            </button>\n            <button type="button" class="env-image-viewer--next" data-move="next">\n               <svg class="env-image-viewer__next-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-right"></use>\n               </svg>\n               <span class="env-assistive-text">${this.config.i18n.next}</span>\n            </button>`}_getIndicators(){return`<div class="env-image-viewer__indicators">\n                  ${this._getIndicatorItems()}\n               </div>`}_getIndicatorItems(){const e=this.config.index;let t="";return this.$images.each((i=>{const n=i===e;t+=`<button type="button" title="${this.config.i18n.moveto} ${i+1}" data-move-to="${i}" class="${n?"env-is-active":""}"></button>`})),t}_showBackdrop(){this.$backdrop=t()("<div/>",{class:"env-image-viewer__backdrop"}),this.$modal.on(ie.CLICK_DATA_API,(e=>{this.$backdrop.hasClass(Q)||e.target===e.currentTarget&&this._isShown&&this.hide()})),this.$backdrop.appendTo(document.body),this.$backdrop.one("animationend",this._removeBackdropAnimation).addClass(`${B} ${Q}`)}_removeBackdropAnimation(e){t()(e.currentTarget).removeClass(Q)}_bindEvents(){const e=this.$modal.find("button"),t=e[0],i=e[e.length-1];this.$modal.on("keydown",(e=>this._keydown(e,t,i)))}_keydown(e,t,i){if(!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),this.prev();break;case"ArrowRight":e.preventDefault(),this.next();break;case"Escape":e.preventDefault(),this.$backdrop.hasClass(Q)||this.hide();break;case"Tab":"IMG"===e.target.tagName?(e.preventDefault(),t.focus()):e.shiftKey?e.target===t&&(e.preventDefault(),i.focus()):e.target===i&&(e.preventDefault(),t.focus());break;default:return}}_getNextItemIndex(){return this.config.index===this.$images.length-1?0:this.config.index+1}_getPrevItemIndex(){return 0===this.config.index?this.$images.length-1:this.config.index-1}_setActiveIndicatorElement(){if(this.$images.length>0){this.$btnContainer.find(F).removeClass(Z);const e=this.$btnContainer.find(G).children()[this.config.index];e&&t()(e).addClass(Z)}}static _init(e,t){const n=i(e);if(n.length>0){return n.map((e=>(e.envImageviewer||(e.envImageviewer=new se(e,t)),e.envImageviewer)))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",U),this.each((()=>{i(this).forEach((t=>{se._init(t,e)}))}))}}if("undefined"!=typeof document){window.addEventListener("load",(()=>{const e=i(J);e.length>0&&se._init(e)}));const e=t().fn.envImageviewer;t().fn.envImageviewer=se._jQueryInterface,t().fn.envImageviewer.Constructor=se,t().fn.envImageviewer.noConflict=()=>(t().fn.envImageviewer=e,se._jQueryInterface)}const oe=async(e,t)=>se._init(e,t),re={reflow:e=>e.offsetHeight,isTouch:()=>window.matchMedia("(pointer: coarse)").matches,getToggleSpeed(e,t){let i,n=300;return i=e?getComputedStyle(e).getPropertyValue(t):getComputedStyle(document.documentElement).getPropertyValue(t),i&&parseFloat(i)>0&&(i.includes("ms")?n=parseInt(i,10):i.includes("s")&&(n=1e3*parseFloat(i))),n}},ae="range-handle-index",le="envRangeSlider",he="slide",de="slidestop",ce={min:0,max:100,step:1,values:[0,0],visibleValues:!0};class ue{constructor(e,i){this.config=t().extend({},ce,i),this.$document=t()(document),this.el=e,this.$el=t()(e),this.handles=this.$el.find(".env-range-slider__handle"),this.$range=this.$el.find(".env-range-slider__range"),this.isTouch=re.isTouch(),this.config.visibleValues&&(this.valueHolders=this.$el.find(".env-range-slider__values__value")),this.handleEvents={mousedown:this._initSlide.bind(this),touchstart:this._initSlide.bind(this),keydown:this._initKeySlide.bind(this),keyup:this._stopKeySlide.bind(this)}}initialize(){this._setupHandles(),this._refreshRange(),this._bindEvents(),this.isTouch&&this.$el.addClass("env-range-slider--touch")}values(e){if(t().isArray(e)){for(let t=0;t<e.length;t+=1)this.config.values[t]=this._trimAlignValue(e[t]);this._refreshRange()}}_setupHandles(){this.handles.each(((e,i)=>{t()(i).data(ae,e)}))}_refreshRange(){let e,i,n;this.handles.each(((s,o)=>{n=this._getValue(s),i=(n-this.config.min)/(this.config.max-this.config.min)*100,t()(o).css("left",`${i}%`),0===s?(this.$range.css("left",`${i}%`),this.config.visibleValues&&this.valueHolders.eq(s).text(n)):(this.$range.css("width",i-e+"%"),this.config.visibleValues&&this.valueHolders.eq(s).text(n)),e=i}))}_bindEvents(){this.handles.off(),this.handles.on(this.handleEvents)}_initSlide(e){const i=this._getPosition(e),n=this._normValueFromMouse(i);let s,o,r,a,l=this.config.max-this.config.min+1;"touchstart"===e.type?(this.$document.on("touchmove.env.range-slider",this._handleSlide.bind(this)),this.$document.one("touchend.env.range-slider",this._stopSlide.bind(this))):(this.$document.on("mousemove.env.range-slider",this._handleSlide.bind(this)),this.$document.one("mouseup.env.range-slider",this._stopSlide.bind(this))),this.handles.each(((e,i)=>{r=this._getValue(e),a=Math.abs(n-r),(l>a||l===a&&(e===this._lastChangedValue||r===this.config.min))&&(l=a,s=t()(i),o=e)})),this._handleIndex=o,s.trigger("focus");const h=s.offset();this._clickOffset={left:i.x-h.left-s.width()/2,top:i.y-h.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this._slide(e,o,n)}_handleSlide(e){const t=this._normValueFromMouse(this._getPosition(e));return this._slide(e,this._handleIndex,t),!1}_slide(e,t,i){const n=this._getValue(t?0:1),s=this._getValue(t),o=this._getValues();i=0===t?Math.min(n,i):Math.max(n,i),o[t]=i,i!==s&&(this._trigger(he,e,{values:o}),this._setValue(t,i))}_stopSlide(e){return this.$document.off("mousemove.env.range-slider touchmove.env.range-slider"),this._trigger(de,e,{values:this._getValues()}),this._handleIndex=null,this._clickOffset=null,!1}_initKeySlide(e){switch(e.key){case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":e.preventDefault(),this._keySliding||(this._keySliding=!0);break;default:return}const i=t()(e.target).data(ae),n=this._getValue(i);let s;switch(e.key){case"ArrowUp":case"ArrowRight":if(n===this.config.max)return;s=this._trimAlignValue(n+this.config.step);break;case"ArrowDown":case"ArrowLeft":if(n===this.config.min)return;s=this._trimAlignValue(n-this.config.step)}this._slide(e,i,s)}_stopKeySlide(e){this._keySliding&&(this._keySliding=!1,this._trigger(de,e,{values:this._getValues()}))}_normValueFromMouse(e){const t=this.$el.outerWidth(),i=this.config.max-this.config.min;let n=(e.x-this.$el.offset().left-(this._clickOffset?this._clickOffset.left:0))/t;n>1&&(n=1),n<0&&(n=0);const s=this.config.min+n*i;return this._trimAlignValue(s)}_getPosition(e){const t={};if(this.isTouch){const i=e.originalEvent.touches[0];t.x=i.pageX,t.y=i.pageY}else t.x=e.pageX,t.y=e.pageY;return t}_trimAlignValue(e){if(e<=this.config.min)return this.config.min;if(e>=this.config.max)return this.config.max;const t=this.config.step,i=(e-this.config.min)%t;let n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))}_getValues(){return this.config.values.slice()}_getValue(e){return this.config.values[e]}_setValue(e,t){this.config.values[e]=this._trimAlignValue(t),this._refreshRange()}_trigger(e,i,n){const s=this.el[0],o=this.config[e];(i=t().Event(i)).type=e,i.target=s,this.$el.trigger(i,n),o&&o.call(s,i,n)}static _init(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];const r=i(e);if(r.length>0){return r.map((e=>{if(e.envRangeSlider||(e.envRangeSlider=new ue(e,t),e.envRangeSlider.initialize()),"string"==typeof t){if(!e.envRangeSlider[t])throw new Error(`No method named "${t}"`);e.envRangeSlider[t].call(e.envRangeSlider,...s)}return e.envRangeSlider}))}}static _jQueryInterface(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return b.consoleWarning("jQuery",le),this.each((()=>{i(this).forEach((t=>{ue._init(t,e,...n)}))}))}}if("undefined"!=typeof document){const e=t().fn.envRangeSlider;t().fn.envRangeSlider=ue._jQueryInterface,t().fn.envRangeSlider.Constructor=ue,t().fn.envRangeSlider.noConflict=()=>(t().fn.envRangeSlider=e,ue._jQueryInterface)}const ve=async(e,t)=>ue._init(e,t),ge="env-animation-in-progress",me="env-modal-dialog__backdrop--in",pe="[data-modal-dialog-dismiss]",fe="focusin.env-modal-dialog",be="envDialog",_e="[data-modal-dialog]",we="[data-modal-alert]",ye="show",Ee="hide.env-modal-dialog",Ie="hidden.env-modal-dialog",Te="show.env-modal-dialog",$e="shown.env-modal-dialog";class Ae{constructor(e){this.$el=t()(e),this.el=this.$el.get(0),this.$body=t()(document.body),this.$placeholder=t()("<span />"),this._isShown=!1,this.placementBody=this.el.hasAttribute("data-modal-dialog-placement-body"),this.$el.after(this.$placeholder)}toggle(){return this._isShown?this.hide():this.show()}show(){if(this._isShown)return;re.reflow(this.el);const e=t().Event(Te,{});d(),this.placementBody&&this.$body.append(this.$el),this.$el.trigger(e);const i=t().Event($e,{});this.$el.one("transitionend",(()=>{this.$el.trigger(i)})).addClass(this._getModifierBase()+ye).removeAttr("aria-hidden").css("opacity",1),this._showBackdrop(),this._isShown=!0,this.$el.trigger("focus"),this._bindEvents()}hide(){if(!this._isShown)return;const e=t().Event(Ee,{});this.$el.trigger(e),this.$el.one("transitionend",(()=>{this.$el.removeClass(this._getModifierBase()+ye);const e=t().Event(Ie,{});this.$el.trigger(e)})).attr("aria-hidden","true").css("opacity",0).off("click",pe),this.$backdrop.one("transitionend",(()=>{this.$backdrop.remove(),c(),this.placementBody&&this.$placeholder.before(this.$el)})).removeClass(me),this._isShown=!1,this._unbindEvents()}_bindEvents(){this.$el.on("click",pe,(e=>this.hide(e))),t()(document).off(fe).one(fe,(e=>{document===e.target||this.el===e.target||this.$el.has(e.target).length||this.$el.trigger("focus")}));const e=this.$el.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),i=e[0],n=e[e.length-1];this.$el.on("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?e.target===i&&(e.preventDefault(),n.focus()):e.target===n&&(e.preventDefault(),i.focus())),"Escape"===e.key&&this.hide()}))}_getModifierBase(){return this.$el.hasClass("env-modal-alert")?"env-modal-alert--":"env-modal-dialog--"}_unbindEvents(){this.$el.off("click keydown"),t()(document).off(fe)}_showBackdrop(){this.$backdrop=t()("<div/>",{class:"env-modal-dialog__backdrop"}),this.$el.on("mousedown",(e=>{this.$backdrop.hasClass(ge)||e.target===e.currentTarget&&this._isShown&&this.hide()})),this.$backdrop.appendTo(document.body),this.$backdrop.one("animationend",this._removeBackdropAnimation).addClass("env-modal-dialog__backdrop--in env-animation-in-progress")}_removeBackdropAnimation(e){t()(e.currentTarget).removeClass(ge)}static _init(e,t){const n=i(e);if(n.length>0){return n.map((e=>{if(e.envDialog||(e.envDialog=new Ae(e)),"string"==typeof t){if(!e.envDialog[t])throw new Error(`No method named "${t}"`);e.envDialog[t].call(e.envDialog)}return e.envDialog}))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",be),this.each((()=>{i(this).forEach((t=>{Ae._init(t,e)}))}))}}if("undefined"!=typeof document){const e=t().fn.envDialog;t().fn.envDialog=Ae._jQueryInterface,t().fn.envDialog.Constructor=Ae,t().fn.envDialog.noConflict=()=>(t().fn.envDialog=e,Ae._jQueryInterface),document.addEventListener("click",(e=>{const t=e.target.closest(we+","+_e);if(!t)return;e.preventDefault();const i=t.dataset.target;Ae._init(document.querySelector(i),"show")}))}const Ce=async(e,t)=>Ae._init(e,t);function ke(e,t,i){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,i)}function Se(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Le(e,t,"get"))}function xe(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,Le(e,t,"set"),i),i}function Le(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}const Oe="envImageslider",De={sv:{prev:"Föregående",next:"Nästa"},en:{prev:"Previous",next:"Next"}},je={buttons:!0,imageSlider:!1,interval:5e3,keyboard:!0,pause:"hover",slide:!1,swipe:!0,wrap:!0},Pe={ACTIVE:".env-image-slider__item--active",ACTIVE__CHILD:".env-image-slider__item--active > *",ACTIVE_DOT:".env-is-active",ACTIVE_ITEM:".env-image-slider__item--active.env-image-slider__item",DATA_SLIDE:"[data-move], [data-move-to]",SLIDER_DATA_ATTRIBUTE:"[data-image-slider]",INDICATORS:".env-image-slider__indicators",INDICATOR_ITEMS:".env-image-slider__indicators > *",INNER:".env-image-slider__inner",NEXT_PREV:".env-image-slider--next, .env-image-slider--prev",ITEM:".env-image-slider__item",THUMBNAILS:".env-image-slider__thumbnails",THUMBNAIL__ITEMS:".env-image-slider__thumbnails > *"},Me="env-image-slider__item--active",Ne="env-is-active",Ve="env-image-slider__item--left",He="env-image-slider__item--next",Re="env-image-slider__item--prev",Qe="env-image-slider__item--right",Be="env-image-slider--slide",Ke="left",Ue="next",qe="prev",Fe="right",We={KEYDOWN:"keydown",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SLID:"slid",SLIDE:"slide",JQSLID:"slid.env.image-slider",JQSLIDE:"slide.env.image-slider",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOUCHSTART:"touchstart"};var ze=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Ge=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,et=new WeakMap;class tt{constructor(e,t){ke(this,ze,{writable:!0,value:void 0}),ke(this,Je,{writable:!0,value:void 0}),ke(this,Xe,{writable:!0,value:void 0}),ke(this,Ge,{writable:!0,value:void 0}),ke(this,Ye,{writable:!0,value:void 0}),ke(this,Ze,{writable:!0,value:void 0}),ke(this,et,{writable:!0,value:void 0}),this.el=e,this.isPaused=!1,xe(this,ze,i(Pe.ITEM,this.el)),xe(this,Je,n(Pe.INDICATORS,this.el)),xe(this,Xe,n(Pe.THUMBNAILS,this.el)),xe(this,Ye,!1),xe(this,Ge,null),xe(this,Ze,null),void 0===this.el.dataset.imageSlider&&this.el.setAttribute("data-image-slider",""),this.settings(t),Se(this,ze).length>1&&t.buttons&&this._addSlideButtons(),Se(this,ze).forEach(((e,t)=>{e.setAttribute("data-env-imageslider-index",t)})),this._bindEvents()}next(){Se(this,Ye)||this._slide(Ue)}prev(){Se(this,Ye)||this._slide(qe)}nextWhenVisible(){document.hidden||this.next()}pause(e){e||(this.isPaused=!0),clearInterval(Se(this,Ge)),xe(this,Ge,null)}cycle(e){e||(this.isPaused=!1),Se(this,Ge)&&(clearInterval(Se(this,Ge)),xe(this,Ge,null)),Se(this,et).interval&&!this.isPaused&&xe(this,Ge,setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),Se(this,et).interval))}goTo(e){xe(this,Ze,n(Pe.ACTIVE_ITEM,this.el));const t=this._getItemIndex(Se(this,Ze));if(e>Se(this,ze).length-1||e<0)return;if(Se(this,Ye))return;if(t===e)return this.pause(),void this.cycle();const i=e>t?Ue:qe;this._slide(i,Se(this,ze)[e])}startTouchSlide(e){this.touchstartx=e.touches[0].pageX}moveTouchSlide(e){this.touchmovex=e.touches[0].pageX,this.movex=-(this.touchstartx-this.touchmovex),this.moved=!1;const t=n(Pe.ACTIVE__CHILD,this.el);r(t,"transform",`translate3d(${this.movex}px, 0, 0)`),this.movex>80?(this.prev(),this.moved=!0,setTimeout((()=>{r(t,"transform","translate3d(0, 0, 0)")}),500)):this.movex<-80&&(this.next(),this.moved=!0,setTimeout((()=>{r(t,"transform","translate3d(0, 0, 0)")}),500))}endTouchSlide(){this.moved||r(n(Pe.ACTIVE__CHILD,this.el),"transform","translate3d(0, 0, 0)")}dispose(){this.el=this.el.cloneNode(!0),delete this.el.envImageslider,delete this.el.envImagesliderJQ,this.el=null,xe(this,ze,null),xe(this,Ge,null),this.isPaused=null,xe(this,Ye,null),xe(this,Ze,null),xe(this,Je,null),xe(this,Xe,null)}settings(e){xe(this,et,b.extend({},je,this.el.dataset,b.isPlainObject(Se(this,et))?Se(this,et):{},e))}_addSlideButtons(){const e=this.el.id,t=n(Pe.INNER,this.el),i=document.createElement("button");h(i,{type:"button",class:"env-image-slider--prev","data-move":"prev","data-target":`#${e}`}),i.innerHTML=`<svg class="env-image-slider__previous-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-left"></use></svg>\n               <span class="env-assistive-text">${Se(this,et).i18n.prev}</span>`;const s=document.createElement("button");h(s,{type:"button",class:"env-image-slider--next","data-move":"next","data-target":`#${e}`}),s.innerHTML=`<svg class="env-image-slider__previous-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-right"></use></svg>\n               <span class="env-assistive-text">${Se(this,et).i18n.next}</span>`,t.appendChild(i),t.appendChild(s)}_getItemByDirection(e,t){const i=e===Ue,n=this._getItemIndex(t),s=Se(this,ze).length-1;if((!i&&0===n||i&&n===s)&&!Se(this,et).wrap)return t;const o=(n+(i?1:-1))%Se(this,ze).length;return-1===o?Se(this,ze)[s]:Se(this,ze)[o]}_bindEvents(){this.el.addEventListener("click",(e=>this._click(e))),Se(this,et).keyboard&&this.el.addEventListener(We.KEYDOWN,(e=>this._keydown(e))),"hover"===Se(this,et).pause&&"cycle"===Se(this,et).imageSlider&&(this.el.addEventListener(We.MOUSEENTER,(e=>this.pause(e))),this.el.addEventListener(We.MOUSELEAVE,(e=>this.cycle(e))),re.isTouch()&&this.el.addEventListener(We.TOUCHEND,(()=>{this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((e=>this.cycle(e)),500,Se(this,et).interval)}))),Se(this,et).swipe&&this._bindTouchSlider()}_bindTouchSlider(){const e=n(Pe.INNER,this.el);e.addEventListener(We.TOUCHSTART,(e=>{this.startTouchSlide(e)})),e.addEventListener(We.TOUCHMOVE,(e=>{this.moveTouchSlide(e)})),e.addEventListener(We.TOUCHEND,(e=>{this.endTouchSlide(e)}))}_keydown(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),this.prev();break;case"ArrowRight":e.preventDefault(),this.next();break;default:return}}_click(e){const t=e.target.closest(Pe.DATA_SLIDE);if(!t)return;let i=t.dataset;if(!i.target||!document.querySelector(i.target))return;const n=document.querySelector(i.target);if(n&&void 0!==n.dataset.imageSlider){if(i.moveTo){const e=parseInt(i.moveTo,10);this.settings({interval:!1}),this.goTo(e)}else i.move!==qe&&i.move!==Ue||this[i.move]();e.preventDefault()}}_getItemIndex(e){return parseInt(e.dataset.envImagesliderIndex,10)}_triggerSlideEvent(e,i){const s=this._getItemIndex(e),o=this._getItemIndex(n(Pe.ACTIVE_ITEM,this.el));let r;return this.el.envImagesliderJQ?(r=t().Event(We.JQSLIDE,{targetElement:e,direction:i,from:o,to:s}),t()(this.el).trigger(r),r.defaultPrevented=r.isDefaultPrevented()):(r=new CustomEvent(We.SLIDE,{bubbles:!0,cancelable:!0,detail:{direction:i,from:o,to:s}}),e.dispatchEvent(r)),r}_setActiveIndicatorElement(e){if(Se(this,Je)){const t=n(Pe.ACTIVE_DOT,Se(this,Je)),s=i(Pe.INDICATOR_ITEMS,Se(this,Je))[this._getItemIndex(e)];t&&t.classList.remove(Ne),s&&s.classList.add(Ne)}else if(Se(this,Xe)){const t=n(Pe.ACTIVE,Se(this,Xe)),s=i(Pe.ACTIVE,Se(this,Xe))[this._getItemIndex(e)];t&&t.classList.remove(Me),s&&s.classList.add(Me)}}_slide(e,i){const s=n(Pe.ACTIVE_ITEM,this.el),o=this._getItemIndex(s),r=n(i||s&&this._getItemByDirection(e,s)),a=this._getItemIndex(r);let l,h,d;if(e===Ue?(l=Ve,h=He,d=Ke):(l=Qe,h=Re,d=Fe),r&&r.classList.contains(Me))return void xe(this,Ye,!1);const c=this._triggerSlideEvent(r,d);if(c.defaultPrevented)return;if(!s||!r)return;let u;xe(this,Ye,!0),this._setActiveIndicatorElement(r),this.el.envImagesliderJQ?(u=t().Event(We.JQSLID,{relatedTarget:r,direction:d,from:o,to:a}),u.defaultPrevented=c.isDefaultPrevented()):u=new CustomEvent(We.SLID,{bubbles:!0,cancelable:!0,detail:{relatedTarget:r,direction:d,from:o,to:a}}),this.el.classList.contains(Be)?(r.classList.add(h),re.reflow(r),s.classList.add(l),r.classList.add(l),s.addEventListener("transitionend",(()=>{r.classList.remove(l,h),r.classList.add(Me),s.classList.remove(Me,h,l),xe(this,Ye,!1),this.el.envImagesliderJQ?t()(this.el).trigger(u):this.el.dispatchEvent(u)}),{once:!0})):(s.classList.remove(Me),r.classList.add(Me),xe(this,Ye,!1),this.el.envImagesliderJQ?t()(this.el).trigger(c):this.el.dispatchEvent(c))}static _init(e,t,n){const s=i(e);if(s.length>0){return s.map((e=>{let i;g(e),i="object"==typeof t?{...je,...e.dataset,...t,i18n:b.getLanguageOptions(t?.i18n,De,e)}:{...je,...e.dataset,i18n:b.getLanguageOptions({},De,e)},e.envImageslider?e.envImageslider.settings(b.extend({},{...e.dataset,...t})):(e.envImagesliderJQ=n,e.envImageslider=new tt(e,i));const s="string"==typeof t?t:i.move;if("number"==typeof t)e.envImageslider.goTo(t);else if("string"==typeof s){if(void 0===e.envImageslider[s])throw new Error(`No method named "${s}"`);e.envImageslider[s]()}return i.interval&&"cycle"===i.imageSlider&&(e.envImageslider.pause(),e.envImageslider.cycle()),e.envImageslider}))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",Oe),this.each((()=>{i(this).forEach((t=>{tt._init(t,e,!0)}))}))}}if("undefined"!=typeof document){window.addEventListener("load",(()=>{const e=i(Pe.SLIDER_DATA_ATTRIBUTE);e.length>0&&tt._init(e)}));const e=t().fn.envImageslider;t().fn.envImageslider=tt._jQueryInterface,t().fn.envImageslider.Constructor=tt,t().fn.envImageslider.noConflict=()=>(t().fn.envImageslider=e,tt._jQueryInterface)}const it=async(e,t)=>tt._init(e,t),nt="aria-expanded",st="envAccordion",ot="env-accordion--show";class rt{constructor(e){this.el=e,this.$el=t()(e),this.$el.hasClass(ot)&&this.$el.removeClass(ot).attr(nt,"true").show(),this.speed=re.getToggleSpeed(this.$el[0],"--env-collapse-toggle-duration")}toggle(){"true"===this.$el.attr(nt)?this.hide():this.show()}show(){t()(this.$el.attr("data-parent")).find('[aria-expanded="true"]').each(((e,i)=>{this._hide(t()(i),this.speed)}).bind(this)),this.$el.attr(nt,!0).stop().slideDown(this.speed)}hide(){this._hide(this.$el,this.speed)}_hide(e,t){e.attr(nt,!1).stop().slideUp(t,(()=>{e.removeClass(ot)}))}static _init(e,t){const n=i(e);if(n.length>0){return n.map((e=>{if(e.envAccordion||(e.envAccordion=new rt(e)),"string"==typeof t){if(!e.envAccordion[t])throw new Error(`No method named "${t}"`);e.envAccordion[t].call(e.envAccordion)}else e.envAccordion.toggle.call(e.envAccordion);return e.envAccordion}))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",st),this.each((()=>{i(this).forEach((t=>{rt._init(t,e)}))}))}}if("undefined"!=typeof document){const e=t().fn.envAccordion;t().fn.envAccordion=rt._jQueryInterface,t().fn.envAccordion.Constructor=rt,t().fn.envAccordion.noConflict=()=>(t().fn.envAccordion=e,rt._jQueryInterface),document.addEventListener("click",(e=>{const t=e.target.closest("[data-env-accordion]");if(!t)return;e.preventDefault();const i=t.dataset.target||t.getAttribute("href");rt._init(document.querySelector(i))}))}const at=async(e,t)=>rt._init(e,t),lt="aria-expanded",ht="envCollapse",dt="env-collapse--expanded",ct="env-collapse--show";class ut{constructor(e){this.el=e,this.$el=t()(e),this.$trigger=t()(`[data-env-collapse][href="#${e.id}"], [data-env-collapse][data-target="#${e.id}"]`),this.$el.hasClass(ct)&&(this.$el.show(),this.$trigger.addClass(dt).attr(lt,!0)),this.speed=re.getToggleSpeed(this.$trigger[0],"--env-collapse-toggle-duration")}toggle(){this.$el.is(":animated")||(this.$el.hasClass(ct)?this.hide():this.show())}show(){this.$trigger.length&&this.$trigger.addClass(dt).attr(lt,!0),this.$el.stop().slideDown(this.speed).addClass(ct)}hide(){this.$trigger.length&&this.$trigger.removeClass(dt).attr(lt,!1),this.$el.stop().slideUp(this.speed,function(){this.$el.removeClass(ct)}.bind(this))}static _init(e,t){const n=i(e);if(n.length>0){return n.map((e=>{if(e.envCollapse||(e.envCollapse=new ut(e)),"string"==typeof t){if(!e.envCollapse[t])throw new Error(`No method named "${t}"`);e.envCollapse[t].call(e.envCollapse)}else e.envCollapse.toggle.call(e.envCollapse);return e.envCollapse}))}}static _jQueryInterface(e){return b.consoleWarning("jQuery",ht),this.each((()=>{i(this).forEach((t=>{ut._init(t,e)}))}))}}if("undefined"!=typeof document){const e=t().fn.envCollapse;t().fn.envCollapse=ut._jQueryInterface,t().fn.envCollapse.Constructor=ut,t().fn.envCollapse.noConflict=()=>(t().fn.envCollapse=e,ut._jQueryInterface),document.addEventListener("click",(e=>{const t=e.target.closest("[data-env-collapse]");if(!t)return;e.preventDefault();const i=t.dataset.target||t.getAttribute("href");ut._init(document.querySelector(i))}))}const vt=async(e,t)=>ut._init(e,t),gt="env-is-open",mt="data-env-dropdown-index";class pt{constructor(e,t,n){this.button=n,this.container=e,this.placeholder=document.createElement("span"),this.menu=t,this.menuitems=i(".env-dropdown__item",this.menu),this.menu.insertAdjacentElement("beforebegin",this.placeholder),this.placementBody=this.button.hasAttribute("data-dropdown-placement-body"),this.menuitems.forEach(((e,t)=>{e.setAttribute(mt,t)})),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}toggle(){this.container.classList.contains(gt)?this.hide():this.show()}show(){this.container.classList.add(gt),this.button.setAttribute("aria-expanded","true"),this.placementBody&&document.body.appendChild(this.menu),v(this.menu),this._bindEvents(),p().then((e=>{this._popper=e(this.container,this.menu,{placement:"bottom-start",modifiers:{name:"flip",enabled:!1}}),this._popper.update()}))}hide(){this.container.classList.remove(gt),this.button.setAttribute("aria-expanded","false"),this._unbindEvents(),u(this.menu),this.placementBody&&this.placeholder.insertAdjacentElement("afterend",this.menu)}_bindEvents(){this._unbindEvents(),document.addEventListener("click",this.handleClick),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}_unbindEvents(){document.removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}handleClick(){this.hide()}handleKeyUp(e){const t=e.target;this.button.contains(t)||this.menu.contains(t)||this.hide()}handleKeyDown(e){const t=e.target,i=this.menuitems.length;if("Escape"===e.key)this.hide();else if(this.button.contains(t)&&i>0)("Tab"===e.key&&!e.shiftKey||"ArrowDown"===e.key)&&(this.menuitems[0].focus(),e.preventDefault());else if(this.menu.contains(t)&&i>0){const n=parseInt(t.getAttribute(mt),10);if("Tab"!==e.key||e.shiftKey||n!==i-1){if("Tab"===e.key&&e.shiftKey&&0===n)e.preventDefault(),this.button.focus();else if("ArrowUp"===e.key){e.preventDefault();const t=this.menu.querySelector(`[${mt} ="${n-1}"]`);t&&t.focus()}else if("ArrowDown"===e.key){e.preventDefault();const t=this.menu.querySelector(`[${mt} ="${n+1}"]`);t&&t.focus()}}else this.button.focus(),this.hide()}}}const ft=async e=>{const t=e.target.closest("[data-dropdown]");if(t){const i=e.target.closest(t.getAttribute("data-target")),n=i.querySelector(".env-dropdown__menu");i&&i.id&&(i.envDropdown||(await p(),i.envDropdown=new pt(i,n,t),n&&u(n)),i.envDropdown.toggle())}};document&&document.addEventListener("click",ft);a(807),a(448)})(),l})()));
//# sourceMappingURL=envision.js.map