---
import Master from './master/Master.astro';
import Icons from './components/Icons.astro';
import Sidenav from './components/Sidenav.astro';
import { getGithubUrl } from './utils/utils.ts';
const { frontmatter } = Astro.props;
const gitHubAddress = getGithubUrl(frontmatter.file);
---

<Master frontmatter={frontmatter}>
   {
      frontmatter.icons && frontmatter.icons.length > 0 && (
         <Icons icons={frontmatter.icons} />
      )
   }
   {
      gitHubAddress && (
         <a
            class="doc-md-icon env-button env-button--link env-button--icon"
            target="_blank"
            title="View page as Markdown"
            href={gitHubAddress}
         >
            <svg class="env-icon" viewBox="0 0 208 128">
               <g>
                  <>
                     <path
                        clip-rule="evenodd"
                        d="m15 10c-2.7614 0-5 2.2386-5 5v98c0 2.761 2.2386 5 5 5h178c2.761 0 5-2.239 5-5v-98c0-2.7614-2.239-5-5-5zm-15 5c0-8.28427 6.71573-15 15-15h178c8.284 0 15 6.71573 15 15v98c0 8.284-6.716 15-15 15h-178c-8.28427 0-15-6.716-15-15z"
                        fill-rule="evenodd"
                     />
                     <path d="m30 98v-68h20l20 25 20-25h20v68h-20v-39l-20 25-20-25v39zm125 0-30-33h20v-35h20v35h20z" />
                  </>
               </g>
            </svg>
            View page as Markdown
         </a>
      )
   }
   <slot />
   <Sidenav slot="sidenav" frontmatter={frontmatter} />
</Master>
